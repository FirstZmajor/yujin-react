(window["webpackJsonpmy-react"]=window["webpackJsonpmy-react"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(70)},function(e,t,n){e.exports=n(77)()},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return y});n(60);var r,i=n(1),o=n.n(i);function a(e,t){return void 0===e&&(e=""),void 0===t&&(t=r),t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e}function s(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}function u(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,o={};i>0;)o[n=r[i-=1]]=e[n];return o}var c={};function l(e){c[e]||("undefined"!==typeof console&&console.error(e),c[e]=!0)}var f="object"===typeof window&&window.Element||function(){};o.a.oneOfType([o.a.string,o.a.func,function(e,t,n){if(!(e[t]instanceof f))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},o.a.shape({current:o.a.any})]);var h=o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func}),o.a.arrayOf(o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func})]))]),p={Fade:150,Collapse:350,Modal:300,Carousel:600},d=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],m={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},y={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80};"undefined"===typeof window||!window.document||window.document.createElement},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(17);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&i(e),s=t&&i(t),u=a||s;if(e&&i(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=r.length;h>=0;h--){var p=r[h];"."===p?o(r,h):".."===p?(o(r,h),f++):f&&(o(r,h),f--)}if(!u)for(;f--;f)r.unshift("..");!u||""===r[0]||r[0]&&i(r[0])||r.unshift("");var d=r.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r="undefined"===typeof t?"undefined":s(t);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var i=t.valueOf(),o=n.valueOf();if(i!==t||o!==n)return e(i,o);var a=Object.keys(t),u=Object.keys(n);return a.length===u.length&&a.every(function(r){return e(t[r],n[r])})}return!1},c=n(16);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return _}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return d});var v=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,y=o.keyLength,_=void 0===y?6:y,T=e.basename?p(l(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=h(o,T)),m(o,r,n)}function x(){return Math.random().toString(36).substr(2,_)}var k=g();function I(e){Object(r.a)(B,e),B.length=t.length,k.notifyListeners(B.location,B.action)}function N(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||A(C(e.state))}function D(){A(C(S()))}var O=!1;function A(e){if(O)O=!1,I();else{k.confirmTransitionTo(e,"POP",f,function(t){t?I({action:"POP",location:e}):function(e){var t=B.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,L(i))}(e)})}}var R=C(S()),P=[R.key];function M(e){return T+d(e)}function L(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(w,N),i&&window.addEventListener(E,D)):0===j&&(window.removeEventListener(w,N),i&&window.removeEventListener(E,D))}var U=!1;var B={length:t.length,action:"POP",location:R,createHref:M,push:function(e,r){var i=m(e,r,x(),B.location);k.confirmTransitionTo(i,"PUSH",f,function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=P.indexOf(B.location.key),c=P.slice(0,-1===u?0:u+1);c.push(i.key),P=c,I({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(e,r){var i=m(e,r,x(),B.location);k.confirmTransitionTo(i,"REPLACE",f,function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=P.indexOf(B.location.key);-1!==u&&(P[u]=i.key),I({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=k.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function I(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?p(l(e.basename)):"",f=C[s],w=f.encodePath,E=f.decodePath;function S(){var e=E(x());return u&&(e=h(e,u)),m(e)}var _=g();function I(e){Object(r.a)(B,e),B.length=t.length,_.notifyListeners(B.location,B.action)}var N=!1,D=null;function O(){var e=x(),t=w(e);if(e!==t)k(t);else{var n=S(),r=B.location;if(!N&&y(r,n))return;if(D===d(n))return;D=null,function(e){if(N)N=!1,I();else{_.confirmTransitionTo(e,"POP",o,function(t){t?I({action:"POP",location:e}):function(e){var t=B.location,n=M.lastIndexOf(d(t));-1===n&&(n=0);var r=M.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)})}}(n)}}var A=x(),R=w(A);A!==R&&k(R);var P=S(),M=[d(P)];function L(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(T,O):0===j&&window.removeEventListener(T,O)}var U=!1;var B={length:t.length,action:"POP",location:P,createHref:function(e){return"#"+w(u+d(e))},push:function(e,t){var n=m(e,void 0,void 0,B.location);_.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=d(n),r=w(u+t);if(x()!==r){D=t,function(e){window.location.hash=e}(r);var i=M.lastIndexOf(d(B.location)),o=M.slice(0,-1===i?0:i+1);o.push(t),M=o,I({action:"PUSH",location:n})}else I()}})},replace:function(e,t){var n=m(e,void 0,void 0,B.location);_.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=d(n),r=w(u+t);x()!==r&&(D=t,k(r));var i=M.indexOf(d(B.location));-1!==i&&(M[i]=t),I({action:"REPLACE",location:n})}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=_.appendListener(e);return F(1),function(){F(-1),t()}}};return B}function N(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=g();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=N(s,0,o.length-1),y=o.map(function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())}),v=d;function b(e){var t=N(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?f({action:"POP",location:r,index:t}):f()})}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:v,push:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=m(e,t,h(),w.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(w.entries[w.index]=r,f({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),i=n.n(r).a.createContext({})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(18),a=n.n(o),s=n(1),u=n.n(s),c=n(37),l=n.n(c),f=1073741823;var h=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+l()()+"__",s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}a()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):f,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);s.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?f:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?f:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return c.contextTypes=((i={})[o]=u.a.object,i),{Provider:s,Consumer:c}},p=n(6),d=n(15),m=n(16),y=n(40),g=n.n(y),v=n(3),b=(n(59),n(4));n(65);n.d(t,"a",function(){return k}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return F}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return w});var w=function(e){var t=h();return t.displayName=e,t}("Router"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(p.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(i.a.Component);i.a.Component;var S=function(e){function t(){return e.apply(this,arguments)||this}Object(p.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.a.Component);var _={},T=1e4,C=0;function x(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(_[e])return _[e];var t=g.a.compile(e);return C<T&&(_[e]=t,C++),t}(e)(t,{pretty:!0})}function k(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.a.createElement(w.Consumer,null,function(e){e||Object(m.a)(!1);var r=e.history,a=e.staticContext,s=o?r.push:r.replace,u=Object(d.c)(t?"string"===typeof n?x(n,t.params):Object(v.a)({},n,{pathname:x(n.pathname,t.params)}):n);return a?(s(u),null):i.a.createElement(S,{onMount:function(){s(u)},onUpdate:function(e,t){var n=Object(d.c)(t.to);Object(d.f)(n,Object(v.a)({},u,{key:n.key}))||s(u)},to:n})})}var I={},N=1e4,D=0;function O(e,t){void 0===t&&(t={}),"string"===typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=I[n]||(I[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return D<N&&(r[e]=o,D++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(p.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?O(n.pathname,e.props):t.match,o=Object(v.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;(Array.isArray(s)&&0===s.length&&(s=null),"function"===typeof s)&&(void 0===(s=s(o))&&(s=null));return i.a.createElement(w.Provider,{value:o},s&&!function(e){return 0===i.a.Children.count(e)}(s)?s:o.match?u?i.a.createElement(u,o):c?c(o):null:null)})},t}(i.a.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function P(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:Object(v.a)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:Object(d.e)(e)}function L(e){return function(){Object(m.a)(!1)}}function j(){}i.a.Component;var F=function(e){function t(){return e.apply(this,arguments)||this}return Object(p.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(w.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?O(o.pathname,Object(v.a)({},e.props,{path:a})):t.match}}),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null})},t}(i.a.Component)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(71)},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var r=n(6),i=n(0),o=n.n(i),a=n(21),s=n(15),u=(n(1),n(3)),c=n(4),l=n(16);o.a.Component;o.a.Component;var f=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(n){throw e.preventDefault(),n}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),i=Object(c.a)(t,["innerRef","replace","to"]);return o.a.createElement(a.e.Consumer,null,function(t){t||Object(l.a)(!1);var a="string"===typeof r?Object(s.c)(r,null,null,t.location):r,c=a?t.history.createHref(a):"";return o.a.createElement("a",Object(u.a)({},i,{onClick:function(n){return e.handleClick(n,t.history)},href:c,ref:n}))})},t}(o.a.Component);function h(e){var t=e["aria-current"],n=void 0===t?"page":t,r=e.activeClassName,i=void 0===r?"active":r,s=e.activeStyle,h=e.className,p=e.exact,d=e.isActive,m=e.location,y=e.strict,g=e.style,v=e.to,b=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),w="object"===typeof v?v.pathname:v,E=w&&w.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(a.e.Consumer,null,function(e){e||Object(l.a)(!1);var t=m?m.pathname:e.location.pathname,r=E?Object(a.f)(t,{path:E,exact:p,strict:y}):null,c=!!(d?d(r,e.location):r),w=c?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(h,i):h,S=c?Object(u.a)({},g,s):g;return o.a.createElement(f,Object(u.a)({"aria-current":c&&n||null,className:w,style:S,to:v},b))})}},,function(e,t,n){"use strict";var r=n(66),i=n.n(r),o=n(19),a=n.n(o),s=n(7),u=n.n(s),c=n(18),l=n.n(c),f=n(8),h=n.n(f),p=n(0),d=n(41),m=n(67),y=n.n(m)()({setReferenceNode:void 0,referenceNode:void 0}),g=function(e){function t(){var t;return t=e.call(this)||this,h()(u()(t),"setReferenceNode",function(e){e&&t.state.context.referenceNode!==e&&t.setState(function(t){var n=t.context;return{context:a()({},n,{referenceNode:e})}})}),t.state={context:{setReferenceNode:t.setReferenceNode,referenceNode:void 0}},t}return l()(t,e),t.prototype.render=function(){return p.createElement(y.Provider,{value:this.state.context},this.props.children)},t}(p.Component),v=function(e){return Array.isArray(e)?e[0]:e},b=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},w={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},E={},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,h()(u()(t),"state",{data:void 0,placement:void 0}),h()(u()(t),"popperInstance",void 0),h()(u()(t),"popperNode",null),h()(u()(t),"arrowNode",null),h()(u()(t),"setPopperNode",function(e){e&&t.popperNode!==e&&(b(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())}),h()(u()(t),"setArrowNode",function(e){t.arrowNode=e}),h()(u()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),h()(u()(t),"getOptions",function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:a()({},t.props.modifiers,{arrow:a()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}}),h()(u()(t),"getPopperStyle",function(){return t.popperNode&&t.state.data?a()({position:t.state.data.offsets.popper.position},t.state.data.styles):w}),h()(u()(t),"getPopperPlacement",function(){return t.state.data?t.state.placement:void 0}),h()(u()(t),"getArrowStyle",function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:E}),h()(u()(t),"getOutOfBoundariesState",function(){return t.state.data?t.state.data.hide:void 0}),h()(u()(t),"destroyPopperInstance",function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)}),h()(u()(t),"updatePopperInstance",function(){t.destroyPopperInstance();var e=u()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new d.a(n,e,t.getOptions()))}),h()(u()(t),"scheduleUpdate",function(){t.popperInstance&&t.popperInstance.scheduleUpdate()}),t}l()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement!==e.placement||this.props.referenceElement!==e.referenceElement||this.props.positionFixed!==e.positionFixed?this.updatePopperInstance():this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){b(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return v(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(p.Component);h()(S,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});d.a.placements;function _(e){var t=e.referenceElement,n=i()(e,["referenceElement"]);return p.createElement(y.Consumer,null,function(e){var r=e.referenceNode;return p.createElement(S,a()({referenceElement:void 0!==t?t:r},n))})}var T=n(38),C=n.n(T),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,h()(u()(t),"refHandler",function(e){b(t.props.innerRef,e),b(t.props.setReferenceNode,e)}),t}l()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){b(this.props.innerRef,null)},n.render=function(){return C()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),v(this.props.children)({ref:this.refHandler})},t}(p.Component);function k(e){return p.createElement(y.Consumer,null,function(t){var n=t.setReferenceNode;return p.createElement(x,a()({setReferenceNode:n},e))})}n.d(t,"b",function(){return _}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return k})},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var i=r(n(85)),o=n(0),a=r(o),s=r(n(1)),u=r(n(23)),c=r(n(96)),l=n(97),f=r(n(98)),h={};var p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},b="react-sizeme: an error occurred whilst stopping to listen to node size changes",w={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function E(e){return e.displayName||e.name||"Component"}var S=function(e){function t(){return p(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),d(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);function _(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},a.createElement("div",r)}S.displayName="SizeMeReferenceWrapper",S.propTypes={children:s.element.isRequired},_.displayName="SizeMePlaceholder",_.propTypes={className:s.string,style:s.object};var T=function(e){function t(t){var n=t.explicitRef,r=t.className,i=t.style,o=t.size,s=t.disablePlaceholder,u=(t.onSize,g(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),c=(null==o||null==o.width&&null==o.height&&null==o.position)&&!s,l={className:r,style:i};null!=o&&(l.size=o);var f=c?a.createElement(_,{className:r,style:i}):a.createElement(e,m({},l,u));return a.createElement(S,{ref:n},f)}return t.displayName="SizeMeRenderer("+E(e)+")",t.propTypes={explicitRef:s.func.isRequired,className:s.string,style:s.object,size:s.shape({width:s.number,height:s.number}),disablePlaceholder:s.bool,onSize:s.func},t};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=e.monitorWidth,n=void 0===t?w.monitorWidth:t,r=e.monitorHeight,o=void 0===r?w.monitorHeight:r,f=e.monitorPosition,g=void 0===f?w.monitorPosition:f,S=e.refreshRate,_=void 0===S?w.refreshRate:S,x=e.refreshMode,k=void 0===x?w.refreshMode:x,I=e.noPlaceholder,N=void 0===I?w.noPlaceholder:I,D=e.resizeDetectorStrategy,O=void 0===D?w.resizeDetectorStrategy:D;c(n||o||g,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),c(_>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),c("throttle"===k||"debounce"===k,'The refreshMode should have a value of "throttle" or "debounce"');var A="throttle"===k?l.throttle:l.debounce;return function(e){var t=T(e),r=function(e){function r(){var e,t,i;p(this,r);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=i=v(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(s))),i.domEl=null,i.state={width:void 0,height:void 0,position:void 0},i.uninstall=function(){if(i.domEl){try{i.detector.uninstall(i.domEl)}catch(e){console.warn(b)}i.domEl=null}},i.determineStrategy=function(e){e.onSize?(i.callbackState||(i.callbackState=m({},i.state)),i.strategy="callback"):i.strategy="render"},i.strategisedSetState=function(e){"callback"===i.strategy&&(i.callbackState=e,i.props.onSize(e)),i.setState(e)},i.strategisedGetState=function(){return"callback"===i.strategy?i.callbackState:i.state},i.refCallback=function(e){i.element=e},i.hasSizeChanged=function(e,t){var r=e,i=t,a=r.position||{},s=i.position||{};return n&&r.width!==i.width||o&&r.height!==i.height||g&&(a.top!==s.top||a.left!==s.left||a.bottom!==s.bottom||a.right!==s.right)},i.checkIfSizeChanged=A(_,function(e){var t=e.getBoundingClientRect(),r=t.width,a=t.height,s=t.right,u=t.left,c=t.top,l=t.bottom,f={width:n?r:null,height:o?a:null,position:g?{right:s,left:u,top:c,bottom:l}:null};i.hasSizeChanged(i.strategisedGetState(),f)&&i.strategisedSetState(f)}),v(i,t)}return y(r,e),d(r,[{key:"componentDidMount",value:function(){this.detector=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return h[e]||(h[e]=i({strategy:e})),h[e]}(O),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&u.findDOMNode(this.element);e?this.domEl?this.domEl.isSameNode(e)||(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=C.enableSSRBehaviour||C.noPlaceholders||N||"callback"===this.strategy,n=m({},this.state);return a.createElement(t,m({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),r}(a.Component);return r.displayName="SizeMe("+E(e)+")",r.propTypes={onSize:s.func},r.WrappedComponent=e,r}}C.enableSSRBehaviour=!1,C.noPlaceholders=!1;var x=function(e){function t(e){p(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));k.call(n);e.children,e.render;var r=g(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return y(t,e),d(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,g(t,["children","render"])),r=(e.children,e.render,g(e,["children","render"]));f(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return a.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(o.Component);x.propTypes={children:s.func,render:s.func},x.defaultProps={children:void 0,render:void 0};var k=function(){var e=this;this.createComponent=function(t){e.SizeAware=C(t)(function(e){return e.children})},this.onSize=function(t){return e.setState({size:t})}};C.SizeMe=x,C.withSize=C,e.exports=C},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=c,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=l(e[n]);return t},t.cloneLayoutItem=l,t.childrenEqual=function(e,t){return(0,i.default)(o.default.Children.map(e,function(e){return e.key}),o.default.Children.map(t,function(e){return e.key}))},t.collides=f,t.compact=h,t.compactItem=m,t.correctBounds=y,t.getLayoutItem=g,t.getFirstCollision=v,t.getAllCollisions=b,t.getStatics=w,t.moveElement=E,t.moveElementAwayFromCollision=S,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate("+n+"px,"+t+"px)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:r+"px",height:i+"px",position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,i=e.height;return{top:t+"px",left:n+"px",width:r+"px",height:i+"px",position:"absolute"}},t.sortLayoutItems=_,t.sortLayoutItemsByRowCol=T,t.sortLayoutItemsByColRow=C,t.synchronizeLayoutWithChildren=function(e,t,n,i){e=e||[];var a=[];return o.default.Children.forEach(t,function(t,n){var i=g(e,String(t.key));if(i)a[n]=l(i);else{!s&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var o=t.props["data-grid"]||t.props._grid;o?(s||x([o],"ReactGridLayout.children"),a[n]=l(r({},o,{i:t.key}))):a[n]=l({w:1,h:1,x:0,y:c(a),i:String(t.key)})}}),a=h(a=y(a,{cols:n}),i,n)},t.validateLayout=x,t.autoBindHandlers=function(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})};var i=a(n(35)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=!0,u=!1;function c(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function l(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function f(e,t){return e!==t&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function h(e,t,n){for(var r=w(e),i=_(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var u=l(i[a]);u.static||(u=m(r,u,t,n,i),r.push(u)),o[e.indexOf(i[a])]=u,u.moved=!1}return o}var p={x:"w",y:"h"};function d(e,t,n,r){var i=p[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;f(t,a)&&d(e,a,n+t[i],r)}}t[r]=n}function m(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(c(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(o)for(t.y=Math.min(c(e),t.y);t.x>0&&!v(e,t);)t.x--;for(var a=void 0;a=v(e,t);)o?d(i,t,a.x+a.w,"x"):d(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function y(e,t){for(var n=w(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;v(n,o);)o.y++;else n.push(o)}return e}function g(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(f(e[n],t))return e[n]}function b(e,t){return e.filter(function(e){return f(e,t)})}function w(e){return e.filter(function(e){return e.static})}function E(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;k("Moving element "+t.i+" to ["+String(n)+","+String(r)+"] from ["+t.x+","+t.y+"]");var u=t.x,c=t.y;"number"===typeof n&&(t.x=n),"number"===typeof r&&(t.y=r),t.moved=!0;var l=_(e,a);("vertical"===a&&"number"===typeof r?c>=r:"horizontal"===a&&"number"===typeof n&&u>=n)&&(l=l.reverse());var f=b(l,t);if(o&&f.length)return k("Collision prevented on "+t.i+", reverting."),t.x=u,t.y=c,t.moved=!1,e;for(var h=0,p=f.length;h<p;h++){var d=f[h];k("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+d.i+" at ["+d.x+","+d.y+"]"),d.moved||(e=d.static?S(e,d,t,i,a,s):S(e,t,d,i,a,s))}return e}function S(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){r=!1;var u={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,u))return k("Doing reverse collision on "+n.i+" up to ["+u.x+","+u.y+"]."),E(e,n,a?u.x:void 0,s?u.y:void 0,r,!1,i,o)}return E(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,!1,i,o)}function _(e,t){return"horizontal"===t?C(e):T(e)}function T(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function C(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!==typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!==typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!==typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function k(){var e;u&&(e=console).log.apply(e,arguments)}t.noop=function(){}},function(e,t,n){e.exports=n(43).default,e.exports.utils=n(29),e.exports.Responsive=n(83).default,e.exports.Responsive.utils=n(47),e.exports.WidthProvider=n(84).default},function(e,t,n){"use strict";var r,i=(r=n(51))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},function(e,t,n){"use strict";function r(e){return getComputedStyle(e)}function i(e,t){for(var n in t){var r=t[n];"number"===typeof r&&(r+="px"),e.style[n]=r}return e}function o(e){var t=document.createElement("div");return t.className=e,t}var a="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(e,t){if(!a)throw new Error("No element matching method supported");return a.call(e,t)}function u(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,function(e){return s(e,t)})}var l={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},f={x:null,y:null};function h(e,t){var n=e.element.classList,r=l.state.scrolling(t);n.contains(r)?clearTimeout(f[t]):n.add(r)}function p(e,t){f[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(l.state.scrolling(t))},e.settings.scrollingThreshold)}var d=function(e){this.element=e,this.handlers={}},m={isEmpty:{configurable:!0}};d.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},d.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter(function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)})},d.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},m.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(d.prototype,m);var y=function(){this.eventElements=[]};function g(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}y.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new d(e),this.eventElements.push(t)),t},y.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},y.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},y.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},y.prototype.once=function(e,t,n){var r=this.eventElement(e);r.bind(t,function e(i){r.unbind(t,e),n(i)})};var v=function(e,t,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var f=e.element;e.reach[u]=null,f[s]<1&&(e.reach[u]="start");f[s]>e[o]-e[a]-1&&(e.reach[u]="end");t&&(f.dispatchEvent(g("ps-scroll-"+u)),t<0?f.dispatchEvent(g("ps-scroll-"+c)):t>0&&f.dispatchEvent(g("ps-scroll-"+l)),r&&function(e,t){h(e,t),p(e,t)}(e,u));e.reach[u]&&(t||i)&&f.dispatchEvent(g("ps-"+u+"-reach-"+e.reach[u]))}(e,n,o,r,i)};function b(e){return parseInt(e,10)||0}var w={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},E=function(e){var t=e.element,n=Math.floor(t.scrollTop);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,l.element.rail("x")).forEach(function(e){return u(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,l.element.rail("y")).forEach(function(e){return u(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=S(e,b(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=b((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=S(e,b(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=b(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r;i(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;i(t.scrollbarYRail,o),i(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),i(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(l.state.active("x")):(t.classList.remove(l.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(l.state.active("y")):(t.classList.remove(l.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)};function S(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function _(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],d=e.element,m=null,y=null,g=null;function v(t){d[u]=m+g*(t[i]-y),h(e,c),E(e),t.stopPropagation(),t.preventDefault()}function b(){p(e,c),e[f].classList.remove(l.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",v)}e.event.bind(e[a],"mousedown",function(t){m=d[u],y=t[i],g=(e[r]-e[n])/(e[o]-e[s]),e.event.bind(e.ownerDocument,"mousemove",v),e.event.once(e.ownerDocument,"mouseup",b),e[f].classList.add(l.state.clicking),t.stopPropagation(),t.preventDefault()})}var T={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,E(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,E(e),t.stopPropagation()})},"drag-thumb":function(e){_(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),_(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(s(t,":hover")||s(e.scrollbarX,":focus")||s(e.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(s(r=i,"input,[contenteditable]")||s(r,"select,[contenteditable]")||s(r,"textarea,[contenteditable]")||s(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:o=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,E(e),function(n,r){var i=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}})},wheel:function(e){var t=e.element;function n(n){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=i[0],a=i[1];if(!function(e,n,i){if(!w.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(l.element.consuming))return!0;var a=r(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0)&&!(o.scrollTop===s&&i<0))return!0;var u=o.scrollWidth-o.clientWidth;if(u>0&&!(0===o.scrollLeft&&n<0)&&!(o.scrollLeft===u&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,a)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,s=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),E(e),(s=s||function(n,r){var i=Math.floor(t.scrollTop),o=0===t.scrollTop,a=i+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,u=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||u)||!e.settings.wheelPropagation}(o,a))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",n):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(w.supportsTouch||w.supportsIePointer){var t=e.element,n={},i=0,o={},a=null;w.supportsTouch?(e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",h),e.event.bind(t,"touchend",p)):w.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",h),e.event.bind(t,"pointerup",p)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",h),e.event.bind(t,"MSPointerUp",p)))}function s(n,r){t.scrollTop-=r,t.scrollLeft-=n,E(e)}function u(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function f(e){if(c(e)){var t=u(e);n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==a&&clearInterval(a)}}function h(a){if(c(a)){var f=u(a),h={pageX:f.pageX,pageY:f.pageY},p=h.pageX-n.pageX,d=h.pageY-n.pageY;if(function(e,n,i){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(l.element.consuming))return!0;var a=r(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0)&&!(o.scrollTop===s&&i<0))return!0;var u=o.scrollLeft-o.clientWidth;if(u>0&&!(0===o.scrollLeft&&n<0)&&!(o.scrollLeft===u&&n>0))return!0}o=o.parentNode}return!1}(a.target,p,d))return;s(p,d),n=h;var m=(new Date).getTime(),y=m-i;y>0&&(o.x=p/y,o.y=d/y,i=m),function(n,r){var i=Math.floor(t.scrollTop),o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&w.isChrome}else if(a>s&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!0;return!0}(p,d)&&a.preventDefault()}}function p(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){e.isInitialized?clearInterval(a):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a)},10))}}},C=function(e,t){var n=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=e,e.classList.add(l.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)n.settings[a]=t[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(l.state.focus)},u=function(){return e.classList.remove(l.state.focus)};this.isRtl="rtl"===r(e).direction,this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new y,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=o(l.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=o(l.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",u),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=b(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=b(c.borderLeftWidth)+b(c.borderRightWidth),i(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=b(c.marginLeft)+b(c.marginRight),i(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(l.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=o(l.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",u),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var f=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(f.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=b(f.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=r(e);return b(t.width)+b(t.paddingLeft)+b(t.paddingRight)+b(t.borderLeftWidth)+b(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=b(f.borderTopWidth)+b(f.borderBottomWidth),i(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=b(f.marginTop)+b(f.marginBottom),i(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return T[e](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return n.onScroll(e)}),E(this)};C.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=b(r(this.scrollbarXRail).marginLeft)+b(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=b(r(this.scrollbarYRail).marginTop)+b(r(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),E(this),v(this,"top",0,!1,!0),v(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},C.prototype.onScroll=function(e){this.isAlive&&(E(this),v(this,"top",this.element.scrollTop-this.lastScrollTop),v(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},C.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),u(this.scrollbarX),u(this.scrollbarY),u(this.scrollbarXRail),u(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},C.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},t.a=C},function(e,t,n){"use strict";var r=s(n(103)),i=s(n(108)),o=s(n(58)),a=s(n(55));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},,function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",o=1,a=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Function]",m="[object GeneratorFunction]",y="[object Map]",g="[object Number]",v="[object Null]",b="[object Object]",w="[object Proxy]",E="[object RegExp]",S="[object Set]",_="[object String]",T="[object Symbol]",C="[object Undefined]",x="[object ArrayBuffer]",k="[object DataView]",I=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[u]=D[c]=D[x]=D[f]=D[k]=D[h]=D[p]=D[d]=D[y]=D[g]=D[b]=D[E]=D[S]=D[_]=D["[object WeakMap]"]=!1;var O="object"==typeof e&&e&&e.Object===Object&&e,A="object"==typeof self&&self&&self.Object===Object&&self,R=O||A||Function("return this")(),P=t&&!t.nodeType&&t,M=P&&"object"==typeof n&&n&&!n.nodeType&&n,L=M&&M.exports===P,j=L&&O.process,F=function(){try{return j&&j.binding&&j.binding("util")}catch(e){}}(),U=F&&F.isTypedArray;function B(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var V,W,H=Array.prototype,Q=Function.prototype,K=Object.prototype,G=R["__core-js_shared__"],Y=Q.toString,X=K.hasOwnProperty,$=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=K.toString,Z=RegExp("^"+Y.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=L?R.Buffer:void 0,te=R.Symbol,ne=R.Uint8Array,re=K.propertyIsEnumerable,ie=H.splice,oe=te?te.toStringTag:void 0,ae=Object.getOwnPropertySymbols,se=ee?ee.isBuffer:void 0,ue=(V=Object.keys,W=Object,function(e){return V(W(e))}),ce=je(R,"DataView"),le=je(R,"Map"),fe=je(R,"Promise"),he=je(R,"Set"),pe=je(R,"WeakMap"),de=je(Object,"create"),me=ze(ce),ye=ze(le),ge=ze(fe),ve=ze(he),be=ze(pe),we=te?te.prototype:void 0,Ee=we?we.valueOf:void 0;function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Te;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new _e(e);this.size=t.size}function ke(e,t){var n=We(e),r=!n&&Ve(e),i=!n&&!r&&He(e),o=!n&&!r&&!i&&Xe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!X.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,u))||s.push(c);return s}function Ie(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function Ne(e){return null==e?void 0===e?C:v:oe&&oe in Object(e)?function(e){var t=X.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(o){}var i=J.call(e);r&&(t?e[oe]=n:delete e[oe]);return i}(e):function(e){return J.call(e)}(e)}function De(e){return Ye(e)&&Ne(e)==u}function Oe(e,t,n,r,i){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!==e&&t!==t:function(e,t,n,r,i,s){var l=We(e),d=We(t),m=l?c:Ue(e),v=d?c:Ue(t),w=(m=m==u?b:m)==b,C=(v=v==u?b:v)==b,I=m==v;if(I&&He(e)){if(!He(t))return!1;l=!0,w=!1}if(I&&!w)return s||(s=new xe),l||Xe(e)?Pe(e,t,n,r,i,s):function(e,t,n,r,i,s,u){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case f:case h:case g:return qe(+e,+t);case p:return e.name==t.name&&e.message==t.message;case E:case _:return e==t+"";case y:var c=z;case S:var l=r&o;if(c||(c=q),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=a,u.set(e,t);var m=Pe(c(e),c(t),r,i,s,u);return u.delete(e),m;case T:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,m,n,r,i,s);if(!(n&o)){var N=w&&X.call(e,"__wrapped__"),D=C&&X.call(t,"__wrapped__");if(N||D){var O=N?e.value():e,A=D?t.value():t;return s||(s=new xe),i(O,A,n,r,s)}}if(!I)return!1;return s||(s=new xe),function(e,t,n,r,i,a){var s=n&o,u=Me(e),c=u.length,l=Me(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:X.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var m=s;for(;++f<c;){h=u[f];var y=e[h],g=t[h];if(r)var v=s?r(g,y,h,t,e,a):r(y,g,h,e,t,a);if(!(void 0===v?y===g||i(y,g,n,r,a):v)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,i,s)}(e,t,n,r,Oe,i))}function Ae(e){return!(!Ge(e)||function(e){return!!$&&$ in e}(e))&&(Qe(e)?Z:I).test(ze(e))}function Re(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||K;return e===n}(e))return ue(e);var t=[];for(var n in Object(e))X.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pe(e,t,n,r,i,s){var u=n&o,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var h=-1,p=!0,d=n&a?new Ce:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var m=e[h],y=t[h];if(r)var g=u?r(y,m,h,t,e,s):r(m,y,h,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!B(t,function(e,t){if(o=t,!d.has(o)&&(m===e||i(m,e,n,r,s)))return d.push(t);var o})){p=!1;break}}else if(m!==y&&!i(m,y,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Me(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,$e,Fe)}function Le(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}Se.prototype.clear=function(){this.__data__=de?de(null):{},this.size=0},Se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Se.prototype.get=function(e){var t=this.__data__;if(de){var n=t[e];return n===i?void 0:n}return X.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:X.call(t,e)},Se.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=de&&void 0===t?i:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Ie(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Te.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(le||_e),string:new Se}},Te.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},Te.prototype.get=function(e){return Le(this,e).get(e)},Te.prototype.has=function(e){return Le(this,e).has(e)},Te.prototype.set=function(e,t){var n=Le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,i),this},Ce.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new _e,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var i=n.__data__;if(!le||i.length<r-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Te(i)}return n.set(e,t),this.size=n.size,this};var Fe=ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ae(e),function(t){return re.call(e,t)}))}:function(){return[]},Ue=Ne;function Be(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function ze(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){return e===t||e!==e&&t!==t}(ce&&Ue(new ce(new ArrayBuffer(1)))!=k||le&&Ue(new le)!=y||fe&&"[object Promise]"!=Ue(fe.resolve())||he&&Ue(new he)!=S||pe&&"[object WeakMap]"!=Ue(new pe))&&(Ue=function(e){var t=Ne(e),n=t==b?e.constructor:void 0,r=n?ze(n):"";if(r)switch(r){case me:return k;case ye:return y;case ge:return"[object Promise]";case ve:return S;case be:return"[object WeakMap]"}return t});var Ve=De(function(){return arguments}())?De:function(e){return Ye(e)&&X.call(e,"callee")&&!re.call(e,"callee")},We=Array.isArray;var He=se||function(){return!1};function Qe(e){if(!Ge(e))return!1;var t=Ne(e);return t==d||t==m||t==l||t==w}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Xe=U?function(e){return function(t){return e(t)}}(U):function(e){return Ye(e)&&Ke(e.length)&&!!D[Ne(e)]};function $e(e){return null!=(t=e)&&Ke(t.length)&&!Qe(t)?ke(e):Re(e);var t}n.exports=function(e,t){return Oe(e,t)}}).call(this,n(22),n(44)(e))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return h}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__spreadArrays",function(){return y}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return w}),n.d(t,"__makeTemplateObject",function(){return E}),n.d(t,"__importStar",function(){return S}),n.d(t,"__importDefault",function(){return _});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(22))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){(function(e,r){var i;(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,p=2,d=4,m=1,y=2,g=1,v=2,b=4,w=8,E=16,S=32,_=64,T=128,C=256,x=512,k=30,I="...",N=800,D=16,O=1,A=2,R=1/0,P=9007199254740991,M=17976931348623157e292,L=NaN,j=4294967295,F=j-1,U=j>>>1,B=[["ary",T],["bind",g],["bindKey",v],["curry",w],["curryRight",E],["flip",x],["partial",S],["partialRight",_],["rearg",C]],z="[object Arguments]",q="[object Array]",V="[object AsyncFunction]",W="[object Boolean]",H="[object Date]",Q="[object DOMException]",K="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",X="[object Map]",$="[object Number]",J="[object Null]",Z="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",he="[object Int8Array]",pe="[object Int16Array]",de="[object Int32Array]",me="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",ve="[object Uint32Array]",be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,Te=RegExp(Se.source),Ce=RegExp(_e.source),xe=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ae.source),Pe=/^\s+|\s+$/g,Me=/^\s+/,Le=/\s+$/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Ze+"]",nt="["+Je+"]",rt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Ze+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ut="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ht="(?:"+ot+"|"+at+")",pt="(?:"+ft+"|"+at+")",dt="(?:"+nt+"|"+st+")"+"?",mt="[\\ufe0e\\ufe0f]?"+dt+("(?:\\u200d(?:"+[ut,ct,lt].join("|")+")[\\ufe0e\\ufe0f]?"+dt+")*"),yt="(?:"+[it,ct,lt].join("|")+")"+mt,gt="(?:"+[ut+nt+"?",nt,ct,lt,et].join("|")+")",vt=RegExp("['\u2019]","g"),bt=RegExp(nt,"g"),wt=RegExp(st+"(?="+st+")|"+gt+mt,"g"),Et=RegExp([ft+"?"+ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",pt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+ht,"$"].join("|")+")",ft+"?"+ht+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,yt].join("|"),"g"),St=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),_t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,xt={};xt[le]=xt[fe]=xt[he]=xt[pe]=xt[de]=xt[me]=xt[ye]=xt[ge]=xt[ve]=!0,xt[z]=xt[q]=xt[ue]=xt[W]=xt[ce]=xt[H]=xt[K]=xt[G]=xt[X]=xt[$]=xt[Z]=xt[te]=xt[ne]=xt[re]=xt[ae]=!1;var kt={};kt[z]=kt[q]=kt[ue]=kt[ce]=kt[W]=kt[H]=kt[le]=kt[fe]=kt[he]=kt[pe]=kt[de]=kt[X]=kt[$]=kt[Z]=kt[te]=kt[ne]=kt[re]=kt[ie]=kt[me]=kt[ye]=kt[ge]=kt[ve]=!0,kt[K]=kt[G]=kt[ae]=!1;var It={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nt=parseFloat,Dt=parseInt,Ot="object"==typeof e&&e&&e.Object===Object&&e,At="object"==typeof self&&self&&self.Object===Object&&self,Rt=Ot||At||Function("return this")(),Pt=t&&!t.nodeType&&t,Mt=Pt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Mt&&Mt.exports===Pt,jt=Lt&&Ot.process,Ft=function(){try{var e=Mt&&Mt.require&&Mt.require("util").types;return e||jt&&jt.binding&&jt.binding("util")}catch(t){}}(),Ut=Ft&&Ft.isArrayBuffer,Bt=Ft&&Ft.isDate,zt=Ft&&Ft.isMap,qt=Ft&&Ft.isRegExp,Vt=Ft&&Ft.isSet,Wt=Ft&&Ft.isTypedArray;function Ht(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Qt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Gt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function $t(e,t){return!!(null==e?0:e.length)&&un(e,t,0)>-1}function Jt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function nn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=hn("length");function an(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function sn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function un(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,ln,n)}function cn(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function ln(e){return e!==e}function fn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:L}function hn(e){return function(t){return null==t?o:t[e]}}function pn(e){return function(t){return null==e?o:e[t]}}function dn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function mn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function yn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function gn(e){return function(t){return e(t)}}function vn(e,t){return Zt(t,function(t){return e[t]})}function bn(e,t){return e.has(t)}function wn(e,t){for(var n=-1,r=e.length;++n<r&&un(t,e[n],0)>-1;);return n}function En(e,t){for(var n=e.length;n--&&un(t,e[n],0)>-1;);return n}var Sn=pn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),_n=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Tn(e){return"\\"+It[e]}function Cn(e){return St.test(e)}function xn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function kn(e,t){return function(n){return e(t(n))}}function In(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,o[i++]=n)}return o}function Nn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function On(e){return Cn(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):on(e)}function An(e){return Cn(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Rn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function e(t){var n=(t=null==t?Rt:Pn.defaults(Rt.Object(),t,Pn.pick(Rt,Tt))).Array,r=t.Date,i=t.Error,Je=t.Function,Ze=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=n.prototype,ot=Je.prototype,at=et.prototype,st=t["__core-js_shared__"],ut=ot.toString,ct=at.hasOwnProperty,lt=0,ft=function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ht=at.toString,pt=ut.call(et),dt=Rt._,mt=tt("^"+ut.call(ct).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Lt?t.Buffer:o,gt=t.Symbol,wt=t.Uint8Array,St=yt?yt.allocUnsafe:o,It=kn(et.getPrototypeOf,et),Ot=et.create,At=at.propertyIsEnumerable,Pt=it.splice,Mt=gt?gt.isConcatSpreadable:o,jt=gt?gt.iterator:o,Ft=gt?gt.toStringTag:o,on=function(){try{var e=Fo(et,"defineProperty");return e({},"",{}),e}catch(t){}}(),pn=t.clearTimeout!==Rt.clearTimeout&&t.clearTimeout,Mn=r&&r.now!==Rt.Date.now&&r.now,Ln=t.setTimeout!==Rt.setTimeout&&t.setTimeout,jn=Ze.ceil,Fn=Ze.floor,Un=et.getOwnPropertySymbols,Bn=yt?yt.isBuffer:o,zn=t.isFinite,qn=it.join,Vn=kn(et.keys,et),Wn=Ze.max,Hn=Ze.min,Qn=r.now,Kn=t.parseInt,Gn=Ze.random,Yn=it.reverse,Xn=Fo(t,"DataView"),$n=Fo(t,"Map"),Jn=Fo(t,"Promise"),Zn=Fo(t,"Set"),er=Fo(t,"WeakMap"),tr=Fo(et,"create"),nr=er&&new er,rr={},ir=la(Xn),or=la($n),ar=la(Jn),sr=la(Zn),ur=la(er),cr=gt?gt.prototype:o,lr=cr?cr.valueOf:o,fr=cr?cr.toString:o;function hr(e){if(ks(e)&&!ys(e)&&!(e instanceof yr)){if(e instanceof mr)return e;if(ct.call(e,"__wrapped__"))return fa(e)}return new mr(e)}var pr=function(){function e(){}return function(t){if(!xs(t))return{};if(Ot)return Ot(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function dr(){}function mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function gr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new br;++t<n;)this.add(e[t])}function Er(e){var t=this.__data__=new vr(e);this.size=t.size}function Sr(e,t){var n=ys(e),r=!n&&ms(e),i=!n&&!r&&ws(e),o=!n&&!r&&!i&&Ms(e),a=n||r||i||o,s=a?yn(e.length,nt):[],u=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ho(c,u))||s.push(c);return s}function _r(e){var t=e.length;return t?e[wi(0,t-1)]:o}function Tr(e,t){return sa(to(e),Rr(t,0,e.length))}function Cr(e){return sa(to(e))}function xr(e,t,n){(n===o||hs(e[t],n))&&(n!==o||t in e)||Or(e,t,n)}function kr(e,t,n){var r=e[t];ct.call(e,t)&&hs(r,n)&&(n!==o||t in e)||Or(e,t,n)}function Ir(e,t){for(var n=e.length;n--;)if(hs(e[n][0],t))return n;return-1}function Nr(e,t,n,r){return Fr(e,function(e,i,o){t(r,e,n(e),o)}),r}function Dr(e,t){return e&&no(t,ru(t),e)}function Or(e,t,n){"__proto__"==t&&on?on(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ar(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:Js(e,t[r]);return a}function Rr(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Pr(e,t,n,r,i,a){var s,u=t&h,c=t&p,l=t&d;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!xs(e))return e;var f=ys(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return to(e,s)}else{var m=zo(e),y=m==G||m==Y;if(ws(e))return Yi(e,u);if(m==Z||m==z||y&&!i){if(s=c||y?{}:Vo(e),!u)return c?function(e,t){return no(e,Bo(e),t)}(e,function(e,t){return e&&no(t,iu(t),e)}(s,e)):function(e,t){return no(e,Uo(e),t)}(e,Dr(s,e))}else{if(!kt[m])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case ue:return Xi(e);case W:case H:return new r(+e);case ce:return function(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case fe:case he:case pe:case de:case me:case ye:case ge:case ve:return $i(e,n);case X:return new r;case $:case re:return new r(e);case te:return function(e){var t=new e.constructor(e.source,Ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case ie:return i=e,lr?et(lr.call(i)):{}}var i}(e,m,u)}}a||(a=new Er);var g=a.get(e);if(g)return g;a.set(e,s),As(e)?e.forEach(function(r){s.add(Pr(r,t,n,r,e,a))}):Is(e)&&e.forEach(function(r,i){s.set(i,Pr(r,t,n,i,e,a))});var v=f?o:(l?c?Oo:Do:c?iu:ru)(e);return Kt(v||e,function(r,i){v&&(r=e[i=r]),kr(s,i,Pr(r,t,n,i,e,a))}),s}function Mr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Lr(e,t,n){if("function"!=typeof e)throw new rt(u);return ra(function(){e.apply(o,n)},t)}function jr(e,t,n,r){var i=-1,o=$t,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=Zt(t,gn(n))),r?(o=Jt,s=!1):t.length>=a&&(o=bn,s=!1,t=new wr(t));e:for(;++i<u;){var f=e[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h===h){for(var p=l;p--;)if(t[p]===h)continue e;c.push(f)}else o(t,h,r)||c.push(f)}return c}hr.templateSettings={escape:xe,evaluate:ke,interpolate:Ie,variable:"",imports:{_:hr}},hr.prototype=dr.prototype,hr.prototype.constructor=hr,mr.prototype=pr(dr.prototype),mr.prototype.constructor=mr,yr.prototype=pr(dr.prototype),yr.prototype.constructor=yr,gr.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},gr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gr.prototype.get=function(e){var t=this.__data__;if(tr){var n=t[e];return n===c?o:n}return ct.call(t,e)?t[e]:o},gr.prototype.has=function(e){var t=this.__data__;return tr?t[e]!==o:ct.call(t,e)},gr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tr&&t===o?c:t,this},vr.prototype.clear=function(){this.__data__=[],this.size=0},vr.prototype.delete=function(e){var t=this.__data__,n=Ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Pt.call(t,n,1),--this.size,!0)},vr.prototype.get=function(e){var t=this.__data__,n=Ir(t,e);return n<0?o:t[n][1]},vr.prototype.has=function(e){return Ir(this.__data__,e)>-1},vr.prototype.set=function(e,t){var n=this.__data__,r=Ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new($n||vr),string:new gr}},br.prototype.delete=function(e){var t=Lo(this,e).delete(e);return this.size-=t?1:0,t},br.prototype.get=function(e){return Lo(this,e).get(e)},br.prototype.has=function(e){return Lo(this,e).has(e)},br.prototype.set=function(e,t){var n=Lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,c),this},wr.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.clear=function(){this.__data__=new vr,this.size=0},Er.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Er.prototype.get=function(e){return this.__data__.get(e)},Er.prototype.has=function(e){return this.__data__.has(e)},Er.prototype.set=function(e,t){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!$n||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(e,t),this.size=n.size,this};var Fr=oo(Qr),Ur=oo(Kr,!0);function Br(e,t){var n=!0;return Fr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function zr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s===s&&!Ps(s):n(s,u)))var u=s,c=a}return c}function qr(e,t){var n=[];return Fr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Wo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Vr(s,t-1,n,r,i):en(i,s):r||(i[i.length]=s)}return i}var Wr=ao(),Hr=ao(!0);function Qr(e,t){return e&&Wr(e,t,ru)}function Kr(e,t){return e&&Hr(e,t,ru)}function Gr(e,t){return Xt(t,function(t){return _s(e[t])})}function Yr(e,t){for(var n=0,r=(t=Hi(t,e)).length;null!=e&&n<r;)e=e[ca(t[n++])];return n&&n==r?e:o}function Xr(e,t,n){var r=t(e);return ys(e)?r:en(r,n(e))}function $r(e){return null==e?e===o?oe:J:Ft&&Ft in et(e)?function(e){var t=ct.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(a){}var i=ht.call(e);r&&(t?e[Ft]=n:delete e[Ft]);return i}(e):function(e){return ht.call(e)}(e)}function Jr(e,t){return e>t}function Zr(e,t){return null!=e&&ct.call(e,t)}function ei(e,t){return null!=e&&t in et(e)}function ti(e,t,r){for(var i=r?Jt:$t,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Zt(h,gn(t))),l=Hn(h.length,l),c[u]=!r&&(t||a>=120&&h.length>=120)?new wr(u&&h):o}h=e[0];var p=-1,d=c[0];e:for(;++p<a&&f.length<l;){var m=h[p],y=t?t(m):m;if(m=r||0!==m?m:0,!(d?bn(d,y):i(f,y,r))){for(u=s;--u;){var g=c[u];if(!(g?bn(g,y):i(e[u],y,r)))continue e}d&&d.push(y),f.push(m)}}return f}function ni(e,t,n){var r=null==(e=ea(e,t=Hi(t,e)))?e:e[ca(Sa(t))];return null==r?o:Ht(r,e,n)}function ri(e){return ks(e)&&$r(e)==z}function ii(e,t,n,r,i){return e===t||(null==e||null==t||!ks(e)&&!ks(t)?e!==e&&t!==t:function(e,t,n,r,i,a){var s=ys(e),u=ys(t),c=s?q:zo(e),l=u?q:zo(t),f=(c=c==z?Z:c)==Z,h=(l=l==z?Z:l)==Z,p=c==l;if(p&&ws(e)){if(!ws(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Er),s||Ms(e)?Io(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ue:return!(e.byteLength!=t.byteLength||!o(new wt(e),new wt(t)));case W:case H:case $:return hs(+e,+t);case K:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case X:var s=xn;case ne:var u=r&m;if(s||(s=Nn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=y,a.set(e,t);var l=Io(s(e),s(t),r,i,o,a);return a.delete(e),l;case ie:if(lr)return lr.call(e)==lr.call(t)}return!1}(e,t,c,n,r,i,a);if(!(n&m)){var d=f&&ct.call(e,"__wrapped__"),g=h&&ct.call(t,"__wrapped__");if(d||g){var v=d?e.value():e,b=g?t.value():t;return a||(a=new Er),i(v,b,n,r,a)}}if(!p)return!1;return a||(a=new Er),function(e,t,n,r,i,a){var s=n&m,u=Do(e),c=u.length,l=Do(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:ct.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<c;){h=u[f];var g=e[h],v=t[h];if(r)var b=s?r(v,g,h,t,e,a):r(g,v,h,e,t,a);if(!(b===o?g===v||i(g,v,n,r,a):b)){d=!1;break}y||(y="constructor"==h)}if(d&&!y){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,i,a)}(e,t,n,r,ii,i))}function oi(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=et(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var h=new Er;if(r)var p=r(l,f,c,e,t,h);if(!(p===o?ii(f,l,m|y,r,h):p))return!1}}return!0}function ai(e){return!(!xs(e)||(t=e,ft&&ft in t))&&(_s(e)?mt:Qe).test(la(e));var t}function si(e){return"function"==typeof e?e:null==e?Nu:"object"==typeof e?ys(e)?pi(e[0],e[1]):hi(e):Fu(e)}function ui(e){if(!Xo(e))return Vn(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ci(e){if(!xs(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=Xo(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function li(e,t){return e<t}function fi(e,t){var r=-1,i=vs(e)?n(e.length):[];return Fr(e,function(e,n,o){i[++r]=t(e,n,o)}),i}function hi(e){var t=jo(e);return 1==t.length&&t[0][2]?Jo(t[0][0],t[0][1]):function(n){return n===e||oi(n,e,t)}}function pi(e,t){return Ko(e)&&$o(t)?Jo(ca(e),t):function(n){var r=Js(n,e);return r===o&&r===t?Zs(n,e):ii(t,r,m|y)}}function di(e,t,n,r,i){e!==t&&Wr(t,function(a,s){if(i||(i=new Er),xs(a))!function(e,t,n,r,i,a,s){var u=ta(e,n),c=ta(t,n),l=s.get(c);if(l)return void xr(e,n,l);var f=a?a(u,c,n+"",e,t,s):o,h=f===o;if(h){var p=ys(c),d=!p&&ws(c),m=!p&&!d&&Ms(c);f=c,p||d||m?ys(u)?f=u:bs(u)?f=to(u):d?(h=!1,f=Yi(c,!0)):m?(h=!1,f=$i(c,!0)):f=[]:Ds(c)||ms(c)?(f=u,ms(u)?f=Vs(u):xs(u)&&!_s(u)||(f=Vo(c))):h=!1}h&&(s.set(c,f),i(f,c,r,a,s),s.delete(c));xr(e,n,f)}(e,t,s,n,di,r,i);else{var u=r?r(ta(e,s),a,s+"",e,t,i):o;u===o&&(u=a),xr(e,s,u)}},iu)}function mi(e,t){var n=e.length;if(n)return Ho(t+=t<0?n:0,n)?e[t]:o}function yi(e,t,n){var r=-1;return t=Zt(t.length?t:[Nu],gn(Mo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(fi(e,function(e,n,i){return{criteria:Zt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ji(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function gi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Yr(e,a);n(s,a)&&Ci(o,Hi(a,e),s)}return o}function vi(e,t,n,r){var i=r?cn:un,o=-1,a=t.length,s=e;for(e===t&&(t=to(t)),n&&(s=Zt(e,gn(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Pt.call(s,u,1),Pt.call(e,u,1);return e}function bi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Ho(i)?Pt.call(e,i,1):ji(e,i)}}return e}function wi(e,t){return e+Fn(Gn()*(t-e+1))}function Ei(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function Si(e,t){return ia(Zo(e,t,Nu),e+"")}function _i(e){return _r(hu(e))}function Ti(e,t){var n=hu(e);return sa(n,Rr(t,0,n.length))}function Ci(e,t,n,r){if(!xs(e))return e;for(var i=-1,a=(t=Hi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=ca(t[i]),l=n;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=xs(f)?f:Ho(t[i+1])?[]:{})}kr(u,c,l),u=u[c]}return e}var xi=nr?function(e,t){return nr.set(e,t),e}:Nu,ki=on?function(e,t){return on(e,"toString",{configurable:!0,enumerable:!1,value:xu(t),writable:!0})}:Nu;function Ii(e){return sa(hu(e))}function Ni(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Di(e,t){var n;return Fr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=U){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ps(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Ai(e,t,Nu,n)}function Ai(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,s=t!==t,u=null===t,c=Ps(t),l=t===o;i<a;){var f=Fn((i+a)/2),h=n(e[f]),p=h!==o,d=null===h,m=h===h,y=Ps(h);if(s)var g=r||m;else g=l?m&&(r||p):u?m&&p&&(r||!d):c?m&&p&&!d&&(r||!y):!d&&!y&&(r?h<=t:h<t);g?i=f+1:a=f}return Hn(a,F)}function Ri(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Pi(e){return"number"==typeof e?e:Ps(e)?L:+e}function Mi(e){if("string"==typeof e)return e;if(ys(e))return Zt(e,Mi)+"";if(Ps(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-R?"-0":t}function Li(e,t,n){var r=-1,i=$t,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=Jt;else if(o>=a){var l=t?null:So(e);if(l)return Nn(l);s=!1,i=bn,c=new wr}else c=t?[]:u;e:for(;++r<o;){var f=e[r],h=t?t(f):f;if(f=n||0!==f?f:0,s&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}function ji(e,t){return null==(e=ea(e,t=Hi(t,e)))||delete e[ca(Sa(t))]}function Fi(e,t,n,r){return Ci(e,t,n(Yr(e,t)),r)}function Ui(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ni(e,r?0:o,r?o+1:i):Ni(e,r?o+1:0,r?i:o)}function Bi(e,t){var n=e;return n instanceof yr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function zi(e,t,r){var i=e.length;if(i<2)return i?Li(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=jr(a[o]||s,e[u],t,r));return Li(Vr(a,1),t,r)}function qi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function Vi(e){return bs(e)?e:[]}function Wi(e){return"function"==typeof e?e:Nu}function Hi(e,t){return ys(e)?e:Ko(e,t)?[e]:ua(Ws(e))}var Qi=Si;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ni(e,t,n)}var Gi=pn||function(e){return Rt.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var n=e.length,r=St?St(n):new e.constructor(n);return e.copy(r),r}function Xi(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function $i(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ji(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=Ps(e),s=t!==o,u=null===t,c=t===t,l=Ps(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function Zi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=Wn(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function eo(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=Wn(a-u,0),h=n(f+l),p=!i;++o<f;)h[o]=e[o];for(var d=o;++c<l;)h[d+c]=t[c];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=e[o++]);return h}function to(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function no(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?Or(n,u,c):kr(n,u,c)}return n}function ro(e,t){return function(n,r){var i=ys(n)?Qt:Nr,o=t?t():{};return i(n,e,Mo(r,2),o)}}function io(e){return Si(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&Qo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=et(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function oo(e,t){return function(n,r){if(null==n)return n;if(!vs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=et(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function ao(e){return function(t,n,r){for(var i=-1,o=et(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function so(e){return function(t){var n=Cn(t=Ws(t))?An(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function uo(e){return function(t){return tn(_u(mu(t).replace(vt,"")),e,"")}}function co(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return xs(r)?r:n}}function lo(e){return function(t,n,r){var i=et(t);if(!vs(t)){var a=Mo(n,3);t=ru(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function fo(e){return No(function(t){var n=t.length,r=n,i=mr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(u);if(i&&!s&&"wrapper"==Ro(a))var s=new mr([],!0)}for(r=s?r:n;++r<n;){var c=Ro(a=t[r]),l="wrapper"==c?Ao(a):o;s=l&&Go(l[0])&&l[1]==(T|w|S|C)&&!l[4].length&&1==l[9]?s[Ro(l[0])].apply(s,l[3]):1==a.length&&Go(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ys(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function ho(e,t,r,i,a,s,u,c,l,f){var h=t&T,p=t&g,d=t&v,m=t&(w|E),y=t&x,b=d?o:co(e);return function g(){for(var v=arguments.length,w=n(v),E=v;E--;)w[E]=arguments[E];if(m)var S=Po(g),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,S);if(i&&(w=Zi(w,i,a,m)),s&&(w=eo(w,s,u,m)),v-=_,m&&v<f){var T=In(w,S);return wo(e,t,ho,g.placeholder,r,w,T,c,l,f-v)}var C=p?r:this,x=d?C[e]:e;return v=w.length,c?w=function(e,t){for(var n=e.length,r=Hn(t.length,n),i=to(e);r--;){var a=t[r];e[r]=Ho(a,n)?i[a]:o}return e}(w,c):y&&v>1&&w.reverse(),h&&l<v&&(w.length=l),this&&this!==Rt&&this instanceof g&&(x=b||co(x)),x.apply(C,w)}}function po(e,t){return function(n,r){return function(e,t,n,r){return Qr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function mo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Mi(n),r=Mi(r)):(n=Pi(n),r=Pi(r)),i=e(n,r)}return i}}function yo(e){return No(function(t){return t=Zt(t,gn(Mo())),Si(function(n){var r=this;return e(t,function(e){return Ht(e,r,n)})})})}function go(e,t){var n=(t=t===o?" ":Mi(t)).length;if(n<2)return n?Ei(t,e):t;var r=Ei(t,jn(e/On(t)));return Cn(t)?Ki(An(r),0,e).join(""):r.slice(0,e)}function vo(e){return function(t,r,i){return i&&"number"!=typeof i&&Qo(t,r,i)&&(r=i=o),t=Us(t),r===o?(r=t,t=0):r=Us(r),function(e,t,r,i){for(var o=-1,a=Wn(jn((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=i===o?t<r?1:-1:Us(i),e)}}function bo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=qs(t),n=qs(n)),e(t,n)}}function wo(e,t,n,r,i,a,s,u,c,l){var f=t&w;t|=f?S:_,(t&=~(f?_:S))&b||(t&=~(g|v));var h=[e,t,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],p=n.apply(o,h);return Go(e)&&na(p,h),p.placeholder=r,oa(p,e,t)}function Eo(e){var t=Ze[e];return function(e,n){if(e=qs(e),(n=null==n?0:Hn(Bs(n),292))&&zn(e)){var r=(Ws(e)+"e").split("e");return+((r=(Ws(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var So=Zn&&1/Nn(new Zn([,-0]))[1]==R?function(e){return new Zn(e)}:Pu;function _o(e){return function(t){var n=zo(t);return n==X?xn(t):n==ne?Dn(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function To(e,t,r,i,a,s,c,l){var h=t&v;if(!h&&"function"!=typeof e)throw new rt(u);var p=i?i.length:0;if(p||(t&=~(S|_),i=a=o),c=c===o?c:Wn(Bs(c),0),l=l===o?l:Bs(l),p-=a?a.length:0,t&_){var d=i,m=a;i=a=o}var y=h?o:Ao(e),x=[e,t,r,i,a,d,m,s,c,l];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(g|v|T),a=r==T&&n==w||r==T&&n==C&&e[7].length<=t[8]||r==(T|C)&&t[7].length<=t[8]&&n==w;if(!o&&!a)return e;r&g&&(e[2]=t[2],i|=n&g?0:b);var s=t[3];if(s){var u=e[3];e[3]=u?Zi(u,s,t[4]):s,e[4]=u?In(e[3],f):t[4]}(s=t[5])&&(u=e[5],e[5]=u?eo(u,s,t[6]):s,e[6]=u?In(e[5],f):t[6]);(s=t[7])&&(e[7]=s);r&T&&(e[8]=null==e[8]?t[8]:Hn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,y),e=x[0],t=x[1],r=x[2],i=x[3],a=x[4],!(l=x[9]=x[9]===o?h?0:e.length:Wn(x[9]-p,0))&&t&(w|E)&&(t&=~(w|E)),t&&t!=g)k=t==w||t==E?function(e,t,r){var i=co(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=Po(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:In(u,l);return(s-=f.length)<r?wo(e,t,ho,a.placeholder,o,u,f,o,o,r-s):Ht(this&&this!==Rt&&this instanceof a?i:e,this,u)}}(e,t,l):t!=S&&t!=(g|S)||a.length?ho.apply(o,x):function(e,t,r,i){var o=t&g,a=co(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==Rt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Ht(h,o?r:this,f)}}(e,t,r,i);else var k=function(e,t,n){var r=t&g,i=co(e);return function t(){return(this&&this!==Rt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return oa((y?xi:na)(k,x),e,t)}function Co(e,t,n,r){return e===o||hs(e,at[n])&&!ct.call(r,n)?t:e}function xo(e,t,n,r,i,a){return xs(e)&&xs(t)&&(a.set(t,e),di(e,t,o,xo,a),a.delete(t)),e}function ko(e){return Ds(e)?o:e}function Io(e,t,n,r,i,a){var s=n&m,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var f=-1,h=!0,p=n&y?new wr:o;for(a.set(e,t),a.set(t,e);++f<u;){var d=e[f],g=t[f];if(r)var v=s?r(g,d,f,t,e,a):r(d,g,f,e,t,a);if(v!==o){if(v)continue;h=!1;break}if(p){if(!rn(t,function(e,t){if(!bn(p,t)&&(d===e||i(d,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(d!==g&&!i(d,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function No(e){return ia(Zo(e,o,ga),e+"")}function Do(e){return Xr(e,ru,Uo)}function Oo(e){return Xr(e,iu,Bo)}var Ao=nr?function(e){return nr.get(e)}:Pu;function Ro(e){for(var t=e.name+"",n=rr[t],r=ct.call(rr,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Po(e){return(ct.call(hr,"placeholder")?hr:e).placeholder}function Mo(){var e=hr.iteratee||Du;return e=e===Du?si:e,arguments.length?e(arguments[0],arguments[1]):e}function Lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function jo(e){for(var t=ru(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,$o(i)]}return t}function Fo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return ai(n)?n:o}var Uo=Un?function(e){return null==e?[]:(e=et(e),Xt(Un(e),function(t){return At.call(e,t)}))}:zu,Bo=Un?function(e){for(var t=[];e;)en(t,Uo(e)),e=It(e);return t}:zu,zo=$r;function qo(e,t,n){for(var r=-1,i=(t=Hi(t,e)).length,o=!1;++r<i;){var a=ca(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Cs(i)&&Ho(a,i)&&(ys(e)||ms(e))}function Vo(e){return"function"!=typeof e.constructor||Xo(e)?{}:pr(It(e))}function Wo(e){return ys(e)||ms(e)||!!(Mt&&e&&e[Mt])}function Ho(e,t){var n=typeof e;return!!(t=null==t?P:t)&&("number"==n||"symbol"!=n&&Ge.test(e))&&e>-1&&e%1==0&&e<t}function Qo(e,t,n){if(!xs(n))return!1;var r=typeof t;return!!("number"==r?vs(n)&&Ho(t,n.length):"string"==r&&t in n)&&hs(n[t],e)}function Ko(e,t){if(ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ps(e))||(De.test(e)||!Ne.test(e)||null!=t&&e in et(t))}function Go(e){var t=Ro(e),n=hr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=Ao(n);return!!r&&e===r[0]}(Xn&&zo(new Xn(new ArrayBuffer(1)))!=ce||$n&&zo(new $n)!=X||Jn&&"[object Promise]"!=zo(Jn.resolve())||Zn&&zo(new Zn)!=ne||er&&zo(new er)!=ae)&&(zo=function(e){var t=$r(e),n=t==Z?e.constructor:o,r=n?la(n):"";if(r)switch(r){case ir:return ce;case or:return X;case ar:return"[object Promise]";case sr:return ne;case ur:return ae}return t});var Yo=st?_s:qu;function Xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function $o(e){return e===e&&!xs(e)}function Jo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in et(n)))}}function Zo(e,t,r){return t=Wn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Wn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Ht(e,this,u)}}function ea(e,t){return t.length<2?e:Yr(e,Ni(t,0,-1))}function ta(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var na=aa(xi),ra=Ln||function(e,t){return Rt.setTimeout(e,t)},ia=aa(ki);function oa(e,t,n){var r=t+"";return ia(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(je,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Kt(B,function(n){var r="_."+n[0];t&n[1]&&!$t(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Ue):[]}(r),n)))}function aa(e){var t=0,n=0;return function(){var r=Qn(),i=D-(r-n);if(n=r,i>0){if(++t>=N)return arguments[0]}else t=0;return e.apply(o,arguments)}}function sa(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=wi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ua=function(e){var t=as(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oe,function(e,n,r,i){t.push(r?i.replace(ze,"$1"):n||e)}),t});function ca(e){if("string"==typeof e||Ps(e))return e;var t=e+"";return"0"==t&&1/e==-R?"-0":t}function la(e){if(null!=e){try{return ut.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function fa(e){if(e instanceof yr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=to(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=Si(function(e,t){return bs(e)?jr(e,Vr(t,1,bs,!0)):[]}),pa=Si(function(e,t){var n=Sa(t);return bs(n)&&(n=o),bs(e)?jr(e,Vr(t,1,bs,!0),Mo(n,2)):[]}),da=Si(function(e,t){var n=Sa(t);return bs(n)&&(n=o),bs(e)?jr(e,Vr(t,1,bs,!0),o,n):[]});function ma(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Bs(n);return i<0&&(i=Wn(r+i,0)),sn(e,Mo(t,3),i)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Bs(n),i=n<0?Wn(r+i,0):Hn(i,r-1)),sn(e,Mo(t,3),i,!0)}function ga(e){return(null==e?0:e.length)?Vr(e,1):[]}function va(e){return e&&e.length?e[0]:o}var ba=Si(function(e){var t=Zt(e,Vi);return t.length&&t[0]===e[0]?ti(t):[]}),wa=Si(function(e){var t=Sa(e),n=Zt(e,Vi);return t===Sa(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ti(n,Mo(t,2)):[]}),Ea=Si(function(e){var t=Sa(e),n=Zt(e,Vi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ti(n,o,t):[]});function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:o}var _a=Si(Ta);function Ta(e,t){return e&&e.length&&t&&t.length?vi(e,t):e}var Ca=No(function(e,t){var n=null==e?0:e.length,r=Ar(e,t);return bi(e,Zt(t,function(e){return Ho(e,n)?+e:e}).sort(Ji)),r});function xa(e){return null==e?e:Yn.call(e)}var ka=Si(function(e){return Li(Vr(e,1,bs,!0))}),Ia=Si(function(e){var t=Sa(e);return bs(t)&&(t=o),Li(Vr(e,1,bs,!0),Mo(t,2))}),Na=Si(function(e){var t=Sa(e);return t="function"==typeof t?t:o,Li(Vr(e,1,bs,!0),o,t)});function Da(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,function(e){if(bs(e))return t=Wn(e.length,t),!0}),yn(t,function(t){return Zt(e,hn(t))})}function Oa(e,t){if(!e||!e.length)return[];var n=Da(e);return null==t?n:Zt(n,function(e){return Ht(t,o,e)})}var Aa=Si(function(e,t){return bs(e)?jr(e,t):[]}),Ra=Si(function(e){return zi(Xt(e,bs))}),Pa=Si(function(e){var t=Sa(e);return bs(t)&&(t=o),zi(Xt(e,bs),Mo(t,2))}),Ma=Si(function(e){var t=Sa(e);return t="function"==typeof t?t:o,zi(Xt(e,bs),o,t)}),La=Si(Da);var ja=Si(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Oa(e,n)});function Fa(e){var t=hr(e);return t.__chain__=!0,t}function Ua(e,t){return t(e)}var Ba=No(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&Ho(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Ua,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var za=ro(function(e,t,n){ct.call(e,n)?++e[n]:Or(e,n,1)});var qa=lo(ma),Va=lo(ya);function Wa(e,t){return(ys(e)?Kt:Fr)(e,Mo(t,3))}function Ha(e,t){return(ys(e)?Gt:Ur)(e,Mo(t,3))}var Qa=ro(function(e,t,n){ct.call(e,n)?e[n].push(t):Or(e,n,[t])});var Ka=Si(function(e,t,r){var i=-1,o="function"==typeof t,a=vs(e)?n(e.length):[];return Fr(e,function(e){a[++i]=o?Ht(t,e,r):ni(e,t,r)}),a}),Ga=ro(function(e,t,n){Or(e,n,t)});function Ya(e,t){return(ys(e)?Zt:fi)(e,Mo(t,3))}var Xa=ro(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var $a=Si(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Qo(e,t[0],t[1])?t=[]:n>2&&Qo(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Vr(t,1),[])}),Ja=Mn||function(){return Rt.Date.now()};function Za(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,To(e,T,o,o,o,o,t)}function es(e,t){var n;if("function"!=typeof t)throw new rt(u);return e=Bs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ts=Si(function(e,t,n){var r=g;if(n.length){var i=In(n,Po(ts));r|=S}return To(e,r,t,n,i)}),ns=Si(function(e,t,n){var r=g|v;if(n.length){var i=In(n,Po(ns));r|=S}return To(t,r,e,n,i)});function rs(e,t,n){var r,i,a,s,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new rt(u);function m(t){var n=r,a=i;return r=i=o,f=t,s=e.apply(a,n)}function y(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=a}function g(){var e=Ja();if(y(e))return v(e);c=ra(g,function(e){var n=t-(e-l);return p?Hn(n,a-(e-f)):n}(e))}function v(e){return c=o,d&&r?m(e):(r=i=o,s)}function b(){var e=Ja(),n=y(e);if(r=arguments,i=this,l=e,n){if(c===o)return function(e){return f=e,c=ra(g,t),h?m(e):s}(l);if(p)return Gi(c),c=ra(g,t),m(l)}return c===o&&(c=ra(g,t)),s}return t=qs(t)||0,xs(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Wn(qs(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){c!==o&&Gi(c),f=0,r=l=i=c=o},b.flush=function(){return c===o?s:v(Ja())},b}var is=Si(function(e,t){return Lr(e,1,t)}),os=Si(function(e,t,n){return Lr(e,qs(t)||0,n)});function as(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(u);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(as.Cache||br),n}function ss(e){if("function"!=typeof e)throw new rt(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}as.Cache=br;var us=Qi(function(e,t){var n=(t=1==t.length&&ys(t[0])?Zt(t[0],gn(Mo())):Zt(Vr(t,1),gn(Mo()))).length;return Si(function(r){for(var i=-1,o=Hn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ht(e,this,r)})}),cs=Si(function(e,t){var n=In(t,Po(cs));return To(e,S,o,t,n)}),ls=Si(function(e,t){var n=In(t,Po(ls));return To(e,_,o,t,n)}),fs=No(function(e,t){return To(e,C,o,o,o,t)});function hs(e,t){return e===t||e!==e&&t!==t}var ps=bo(Jr),ds=bo(function(e,t){return e>=t}),ms=ri(function(){return arguments}())?ri:function(e){return ks(e)&&ct.call(e,"callee")&&!At.call(e,"callee")},ys=n.isArray,gs=Ut?gn(Ut):function(e){return ks(e)&&$r(e)==ue};function vs(e){return null!=e&&Cs(e.length)&&!_s(e)}function bs(e){return ks(e)&&vs(e)}var ws=Bn||qu,Es=Bt?gn(Bt):function(e){return ks(e)&&$r(e)==H};function Ss(e){if(!ks(e))return!1;var t=$r(e);return t==K||t==Q||"string"==typeof e.message&&"string"==typeof e.name&&!Ds(e)}function _s(e){if(!xs(e))return!1;var t=$r(e);return t==G||t==Y||t==V||t==ee}function Ts(e){return"number"==typeof e&&e==Bs(e)}function Cs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function xs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ks(e){return null!=e&&"object"==typeof e}var Is=zt?gn(zt):function(e){return ks(e)&&zo(e)==X};function Ns(e){return"number"==typeof e||ks(e)&&$r(e)==$}function Ds(e){if(!ks(e)||$r(e)!=Z)return!1;var t=It(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==pt}var Os=qt?gn(qt):function(e){return ks(e)&&$r(e)==te};var As=Vt?gn(Vt):function(e){return ks(e)&&zo(e)==ne};function Rs(e){return"string"==typeof e||!ys(e)&&ks(e)&&$r(e)==re}function Ps(e){return"symbol"==typeof e||ks(e)&&$r(e)==ie}var Ms=Wt?gn(Wt):function(e){return ks(e)&&Cs(e.length)&&!!xt[$r(e)]};var Ls=bo(li),js=bo(function(e,t){return e<=t});function Fs(e){if(!e)return[];if(vs(e))return Rs(e)?An(e):to(e);if(jt&&e[jt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[jt]());var t=zo(e);return(t==X?xn:t==ne?Nn:hu)(e)}function Us(e){return e?(e=qs(e))===R||e===-R?(e<0?-1:1)*M:e===e?e:0:0===e?e:0}function Bs(e){var t=Us(e),n=t%1;return t===t?n?t-n:t:0}function zs(e){return e?Rr(Bs(e),0,j):0}function qs(e){if("number"==typeof e)return e;if(Ps(e))return L;if(xs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Pe,"");var n=He.test(e);return n||Ke.test(e)?Dt(e.slice(2),n?2:8):We.test(e)?L:+e}function Vs(e){return no(e,iu(e))}function Ws(e){return null==e?"":Mi(e)}var Hs=io(function(e,t){if(Xo(t)||vs(t))no(t,ru(t),e);else for(var n in t)ct.call(t,n)&&kr(e,n,t[n])}),Qs=io(function(e,t){no(t,iu(t),e)}),Ks=io(function(e,t,n,r){no(t,iu(t),e,r)}),Gs=io(function(e,t,n,r){no(t,ru(t),e,r)}),Ys=No(Ar);var Xs=Si(function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Qo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=iu(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===o||hs(f,at[l])&&!ct.call(e,l))&&(e[l]=a[l])}return e}),$s=Si(function(e){return e.push(o,xo),Ht(au,o,e)});function Js(e,t,n){var r=null==e?o:Yr(e,t);return r===o?n:r}function Zs(e,t){return null!=e&&qo(e,t,ei)}var eu=po(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n},xu(Nu)),tu=po(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},Mo),nu=Si(ni);function ru(e){return vs(e)?Sr(e):ui(e)}function iu(e){return vs(e)?Sr(e,!0):ci(e)}var ou=io(function(e,t,n){di(e,t,n)}),au=io(function(e,t,n,r){di(e,t,n,r)}),su=No(function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,function(t){return t=Hi(t,e),r||(r=t.length>1),t}),no(e,Oo(e),n),r&&(n=Pr(n,h|p|d,ko));for(var i=t.length;i--;)ji(n,t[i]);return n});var uu=No(function(e,t){return null==e?{}:function(e,t){return gi(e,t,function(t,n){return Zs(e,n)})}(e,t)});function cu(e,t){if(null==e)return{};var n=Zt(Oo(e),function(e){return[e]});return t=Mo(t),gi(e,n,function(e,n){return t(e,n[0])})}var lu=_o(ru),fu=_o(iu);function hu(e){return null==e?[]:vn(e,ru(e))}var pu=uo(function(e,t,n){return t=t.toLowerCase(),e+(n?du(t):t)});function du(e){return Su(Ws(e).toLowerCase())}function mu(e){return(e=Ws(e))&&e.replace(Ye,Sn).replace(bt,"")}var yu=uo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),gu=uo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),vu=so("toLowerCase");var bu=uo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var wu=uo(function(e,t,n){return e+(n?" ":"")+Su(t)});var Eu=uo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Su=so("toUpperCase");function _u(e,t,n){return e=Ws(e),(t=n?o:t)===o?function(e){return _t.test(e)}(e)?function(e){return e.match(Et)||[]}(e):function(e){return e.match(Be)||[]}(e):e.match(t)||[]}var Tu=Si(function(e,t){try{return Ht(e,o,t)}catch(n){return Ss(n)?n:new i(n)}}),Cu=No(function(e,t){return Kt(t,function(t){t=ca(t),Or(e,t,ts(e[t],e))}),e});function xu(e){return function(){return e}}var ku=fo(),Iu=fo(!0);function Nu(e){return e}function Du(e){return si("function"==typeof e?e:Pr(e,h))}var Ou=Si(function(e,t){return function(n){return ni(n,e,t)}}),Au=Si(function(e,t){return function(n){return ni(e,n,t)}});function Ru(e,t,n){var r=ru(t),i=Gr(t,r);null!=n||xs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Gr(t,ru(t)));var o=!(xs(n)&&"chain"in n)||!!n.chain,a=_s(e);return Kt(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=to(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Pu(){}var Mu=yo(Zt),Lu=yo(Yt),ju=yo(rn);function Fu(e){return Ko(e)?hn(ca(e)):function(e){return function(t){return Yr(t,e)}}(e)}var Uu=vo(),Bu=vo(!0);function zu(){return[]}function qu(){return!1}var Vu=mo(function(e,t){return e+t},0),Wu=Eo("ceil"),Hu=mo(function(e,t){return e/t},1),Qu=Eo("floor");var Ku=mo(function(e,t){return e*t},1),Gu=Eo("round"),Yu=mo(function(e,t){return e-t},0);return hr.after=function(e,t){if("function"!=typeof t)throw new rt(u);return e=Bs(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=Za,hr.assign=Hs,hr.assignIn=Qs,hr.assignInWith=Ks,hr.assignWith=Gs,hr.at=Ys,hr.before=es,hr.bind=ts,hr.bindAll=Cu,hr.bindKey=ns,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},hr.chain=Fa,hr.chunk=function(e,t,r){t=(r?Qo(e,t,r):t===o)?1:Wn(Bs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(jn(i/t));a<i;)u[s++]=Ni(e,a,a+=t);return u},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(ys(r)?to(r):[r],Vr(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Mo();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new rt(u);return[n(e[0]),e[1]]}):[],Si(function(n){for(var r=-1;++r<t;){var i=e[r];if(Ht(i[0],this,n))return Ht(i[1],this,n)}})},hr.conforms=function(e){return function(e){var t=ru(e);return function(n){return Mr(n,e,t)}}(Pr(e,h))},hr.constant=xu,hr.countBy=za,hr.create=function(e,t){var n=pr(e);return null==t?n:Dr(n,t)},hr.curry=function e(t,n,r){var i=To(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,n,r){var i=To(t,E,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.debounce=rs,hr.defaults=Xs,hr.defaultsDeep=$s,hr.defer=is,hr.delay=os,hr.difference=ha,hr.differenceBy=pa,hr.differenceWith=da,hr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ni(e,(t=n||t===o?1:Bs(t))<0?0:t,r):[]},hr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ni(e,0,(t=r-(t=n||t===o?1:Bs(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?Ui(e,Mo(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?Ui(e,Mo(t,3),!0):[]},hr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Qo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Bs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Bs(r))<0&&(r+=i),r=n>r?0:zs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},hr.filter=function(e,t){return(ys(e)?Xt:qr)(e,Mo(t,3))},hr.flatMap=function(e,t){return Vr(Ya(e,t),1)},hr.flatMapDeep=function(e,t){return Vr(Ya(e,t),R)},hr.flatMapDepth=function(e,t,n){return n=n===o?1:Bs(n),Vr(Ya(e,t),n)},hr.flatten=ga,hr.flattenDeep=function(e){return(null==e?0:e.length)?Vr(e,R):[]},hr.flattenDepth=function(e,t){return(null==e?0:e.length)?Vr(e,t=t===o?1:Bs(t)):[]},hr.flip=function(e){return To(e,x)},hr.flow=ku,hr.flowRight=Iu,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},hr.functions=function(e){return null==e?[]:Gr(e,ru(e))},hr.functionsIn=function(e){return null==e?[]:Gr(e,iu(e))},hr.groupBy=Qa,hr.initial=function(e){return(null==e?0:e.length)?Ni(e,0,-1):[]},hr.intersection=ba,hr.intersectionBy=wa,hr.intersectionWith=Ea,hr.invert=eu,hr.invertBy=tu,hr.invokeMap=Ka,hr.iteratee=Du,hr.keyBy=Ga,hr.keys=ru,hr.keysIn=iu,hr.map=Ya,hr.mapKeys=function(e,t){var n={};return t=Mo(t,3),Qr(e,function(e,r,i){Or(n,t(e,r,i),e)}),n},hr.mapValues=function(e,t){var n={};return t=Mo(t,3),Qr(e,function(e,r,i){Or(n,r,t(e,r,i))}),n},hr.matches=function(e){return hi(Pr(e,h))},hr.matchesProperty=function(e,t){return pi(e,Pr(t,h))},hr.memoize=as,hr.merge=ou,hr.mergeWith=au,hr.method=Ou,hr.methodOf=Au,hr.mixin=Ru,hr.negate=ss,hr.nthArg=function(e){return e=Bs(e),Si(function(t){return mi(t,e)})},hr.omit=su,hr.omitBy=function(e,t){return cu(e,ss(Mo(t)))},hr.once=function(e){return es(2,e)},hr.orderBy=function(e,t,n,r){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(n=r?o:n)||(n=null==n?[]:[n]),yi(e,t,n))},hr.over=Mu,hr.overArgs=us,hr.overEvery=Lu,hr.overSome=ju,hr.partial=cs,hr.partialRight=ls,hr.partition=Xa,hr.pick=uu,hr.pickBy=cu,hr.property=Fu,hr.propertyOf=function(e){return function(t){return null==e?o:Yr(e,t)}},hr.pull=_a,hr.pullAll=Ta,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,Mo(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,o,n):e},hr.pullAt=Ca,hr.range=Uu,hr.rangeRight=Bu,hr.rearg=fs,hr.reject=function(e,t){return(ys(e)?Xt:qr)(e,ss(Mo(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Mo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return bi(e,i),n},hr.rest=function(e,t){if("function"!=typeof e)throw new rt(u);return Si(e,t=t===o?t:Bs(t))},hr.reverse=xa,hr.sampleSize=function(e,t,n){return t=(n?Qo(e,t,n):t===o)?1:Bs(t),(ys(e)?Tr:Ti)(e,t)},hr.set=function(e,t,n){return null==e?e:Ci(e,t,n)},hr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ci(e,t,n,r)},hr.shuffle=function(e){return(ys(e)?Cr:Ii)(e)},hr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Qo(e,t,n)?(t=0,n=r):(t=null==t?0:Bs(t),n=n===o?r:Bs(n)),Ni(e,t,n)):[]},hr.sortBy=$a,hr.sortedUniq=function(e){return e&&e.length?Ri(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Ri(e,Mo(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&Qo(e,t,n)&&(t=n=o),(n=n===o?j:n>>>0)?(e=Ws(e))&&("string"==typeof t||null!=t&&!Os(t))&&!(t=Mi(t))&&Cn(e)?Ki(An(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new rt(u);return t=null==t?0:Wn(Bs(t),0),Si(function(n){var r=n[t],i=Ki(n,0,t);return r&&en(i,r),Ht(e,this,i)})},hr.tail=function(e){var t=null==e?0:e.length;return t?Ni(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Ni(e,0,(t=n||t===o?1:Bs(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ni(e,(t=r-(t=n||t===o?1:Bs(t)))<0?0:t,r):[]},hr.takeRightWhile=function(e,t){return e&&e.length?Ui(e,Mo(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?Ui(e,Mo(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new rt(u);return xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rs(e,t,{leading:r,maxWait:t,trailing:i})},hr.thru=Ua,hr.toArray=Fs,hr.toPairs=lu,hr.toPairsIn=fu,hr.toPath=function(e){return ys(e)?Zt(e,ca):Ps(e)?[e]:to(ua(Ws(e)))},hr.toPlainObject=Vs,hr.transform=function(e,t,n){var r=ys(e),i=r||ws(e)||Ms(e);if(t=Mo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:xs(e)&&_s(o)?pr(It(e)):{}}return(i?Kt:Qr)(e,function(e,r,i){return t(n,e,r,i)}),n},hr.unary=function(e){return Za(e,1)},hr.union=ka,hr.unionBy=Ia,hr.unionWith=Na,hr.uniq=function(e){return e&&e.length?Li(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Li(e,Mo(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Li(e,o,t):[]},hr.unset=function(e,t){return null==e||ji(e,t)},hr.unzip=Da,hr.unzipWith=Oa,hr.update=function(e,t,n){return null==e?e:Fi(e,t,Wi(n))},hr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Fi(e,t,Wi(n),r)},hr.values=hu,hr.valuesIn=function(e){return null==e?[]:vn(e,iu(e))},hr.without=Aa,hr.words=_u,hr.wrap=function(e,t){return cs(Wi(t),e)},hr.xor=Ra,hr.xorBy=Pa,hr.xorWith=Ma,hr.zip=La,hr.zipObject=function(e,t){return qi(e||[],t||[],kr)},hr.zipObjectDeep=function(e,t){return qi(e||[],t||[],Ci)},hr.zipWith=ja,hr.entries=lu,hr.entriesIn=fu,hr.extend=Qs,hr.extendWith=Ks,Ru(hr,hr),hr.add=Vu,hr.attempt=Tu,hr.camelCase=pu,hr.capitalize=du,hr.ceil=Wu,hr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=qs(n))===n?n:0),t!==o&&(t=(t=qs(t))===t?t:0),Rr(qs(e),t,n)},hr.clone=function(e){return Pr(e,d)},hr.cloneDeep=function(e){return Pr(e,h|d)},hr.cloneDeepWith=function(e,t){return Pr(e,h|d,t="function"==typeof t?t:o)},hr.cloneWith=function(e,t){return Pr(e,d,t="function"==typeof t?t:o)},hr.conformsTo=function(e,t){return null==t||Mr(e,t,ru(t))},hr.deburr=mu,hr.defaultTo=function(e,t){return null==e||e!==e?t:e},hr.divide=Hu,hr.endsWith=function(e,t,n){e=Ws(e),t=Mi(t);var r=e.length,i=n=n===o?r:Rr(Bs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},hr.eq=hs,hr.escape=function(e){return(e=Ws(e))&&Ce.test(e)?e.replace(_e,_n):e},hr.escapeRegExp=function(e){return(e=Ws(e))&&Re.test(e)?e.replace(Ae,"\\$&"):e},hr.every=function(e,t,n){var r=ys(e)?Yt:Br;return n&&Qo(e,t,n)&&(t=o),r(e,Mo(t,3))},hr.find=qa,hr.findIndex=ma,hr.findKey=function(e,t){return an(e,Mo(t,3),Qr)},hr.findLast=Va,hr.findLastIndex=ya,hr.findLastKey=function(e,t){return an(e,Mo(t,3),Kr)},hr.floor=Qu,hr.forEach=Wa,hr.forEachRight=Ha,hr.forIn=function(e,t){return null==e?e:Wr(e,Mo(t,3),iu)},hr.forInRight=function(e,t){return null==e?e:Hr(e,Mo(t,3),iu)},hr.forOwn=function(e,t){return e&&Qr(e,Mo(t,3))},hr.forOwnRight=function(e,t){return e&&Kr(e,Mo(t,3))},hr.get=Js,hr.gt=ps,hr.gte=ds,hr.has=function(e,t){return null!=e&&qo(e,t,Zr)},hr.hasIn=Zs,hr.head=va,hr.identity=Nu,hr.includes=function(e,t,n,r){e=vs(e)?e:hu(e),n=n&&!r?Bs(n):0;var i=e.length;return n<0&&(n=Wn(i+n,0)),Rs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&un(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Bs(n);return i<0&&(i=Wn(r+i,0)),un(e,t,i)},hr.inRange=function(e,t,n){return t=Us(t),n===o?(n=t,t=0):n=Us(n),function(e,t,n){return e>=Hn(t,n)&&e<Wn(t,n)}(e=qs(e),t,n)},hr.invoke=nu,hr.isArguments=ms,hr.isArray=ys,hr.isArrayBuffer=gs,hr.isArrayLike=vs,hr.isArrayLikeObject=bs,hr.isBoolean=function(e){return!0===e||!1===e||ks(e)&&$r(e)==W},hr.isBuffer=ws,hr.isDate=Es,hr.isElement=function(e){return ks(e)&&1===e.nodeType&&!Ds(e)},hr.isEmpty=function(e){if(null==e)return!0;if(vs(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||ws(e)||Ms(e)||ms(e)))return!e.length;var t=zo(e);if(t==X||t==ne)return!e.size;if(Xo(e))return!ui(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return ii(e,t)},hr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ii(e,t,o,n):!!r},hr.isError=Ss,hr.isFinite=function(e){return"number"==typeof e&&zn(e)},hr.isFunction=_s,hr.isInteger=Ts,hr.isLength=Cs,hr.isMap=Is,hr.isMatch=function(e,t){return e===t||oi(e,t,jo(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,oi(e,t,jo(t),n)},hr.isNaN=function(e){return Ns(e)&&e!=+e},hr.isNative=function(e){if(Yo(e))throw new i(s);return ai(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Ns,hr.isObject=xs,hr.isObjectLike=ks,hr.isPlainObject=Ds,hr.isRegExp=Os,hr.isSafeInteger=function(e){return Ts(e)&&e>=-P&&e<=P},hr.isSet=As,hr.isString=Rs,hr.isSymbol=Ps,hr.isTypedArray=Ms,hr.isUndefined=function(e){return e===o},hr.isWeakMap=function(e){return ks(e)&&zo(e)==ae},hr.isWeakSet=function(e){return ks(e)&&$r(e)==se},hr.join=function(e,t){return null==e?"":qn.call(e,t)},hr.kebabCase=yu,hr.last=Sa,hr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Bs(n))<0?Wn(r+i,0):Hn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):sn(e,ln,i,!0)},hr.lowerCase=gu,hr.lowerFirst=vu,hr.lt=Ls,hr.lte=js,hr.max=function(e){return e&&e.length?zr(e,Nu,Jr):o},hr.maxBy=function(e,t){return e&&e.length?zr(e,Mo(t,2),Jr):o},hr.mean=function(e){return fn(e,Nu)},hr.meanBy=function(e,t){return fn(e,Mo(t,2))},hr.min=function(e){return e&&e.length?zr(e,Nu,li):o},hr.minBy=function(e,t){return e&&e.length?zr(e,Mo(t,2),li):o},hr.stubArray=zu,hr.stubFalse=qu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Ku,hr.nth=function(e,t){return e&&e.length?mi(e,Bs(t)):o},hr.noConflict=function(){return Rt._===this&&(Rt._=dt),this},hr.noop=Pu,hr.now=Ja,hr.pad=function(e,t,n){e=Ws(e);var r=(t=Bs(t))?On(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return go(Fn(i),n)+e+go(jn(i),n)},hr.padEnd=function(e,t,n){e=Ws(e);var r=(t=Bs(t))?On(e):0;return t&&r<t?e+go(t-r,n):e},hr.padStart=function(e,t,n){e=Ws(e);var r=(t=Bs(t))?On(e):0;return t&&r<t?go(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Ws(e).replace(Me,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Qo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Us(e),t===o?(t=e,e=0):t=Us(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Gn();return Hn(e+i*(t-e+Nt("1e-"+((i+"").length-1))),t)}return wi(e,t)},hr.reduce=function(e,t,n){var r=ys(e)?tn:dn,i=arguments.length<3;return r(e,Mo(t,4),n,i,Fr)},hr.reduceRight=function(e,t,n){var r=ys(e)?nn:dn,i=arguments.length<3;return r(e,Mo(t,4),n,i,Ur)},hr.repeat=function(e,t,n){return t=(n?Qo(e,t,n):t===o)?1:Bs(t),Ei(Ws(e),t)},hr.replace=function(){var e=arguments,t=Ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var r=-1,i=(t=Hi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[ca(t[r])];a===o&&(r=i,a=n),e=_s(a)?a.call(e):a}return e},hr.round=Gu,hr.runInContext=e,hr.sample=function(e){return(ys(e)?_r:_i)(e)},hr.size=function(e){if(null==e)return 0;if(vs(e))return Rs(e)?On(e):e.length;var t=zo(e);return t==X||t==ne?e.size:ui(e).length},hr.snakeCase=bu,hr.some=function(e,t,n){var r=ys(e)?rn:Di;return n&&Qo(e,t,n)&&(t=o),r(e,Mo(t,3))},hr.sortedIndex=function(e,t){return Oi(e,t)},hr.sortedIndexBy=function(e,t,n){return Ai(e,t,Mo(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Oi(e,t);if(r<n&&hs(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Oi(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return Ai(e,t,Mo(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Oi(e,t,!0)-1;if(hs(e[n],t))return n}return-1},hr.startCase=wu,hr.startsWith=function(e,t,n){return e=Ws(e),n=null==n?0:Rr(Bs(n),0,e.length),t=Mi(t),e.slice(n,n+t.length)==t},hr.subtract=Yu,hr.sum=function(e){return e&&e.length?mn(e,Nu):0},hr.sumBy=function(e,t){return e&&e.length?mn(e,Mo(t,2)):0},hr.template=function(e,t,n){var r=hr.templateSettings;n&&Qo(e,t,n)&&(t=o),e=Ws(e),t=Ks({},t,r,Co);var i,a,s=Ks({},t.imports,r.imports,Co),u=ru(s),c=vn(s,u),l=0,f=t.interpolate||Xe,h="__p += '",p=tt((t.escape||Xe).source+"|"+f.source+"|"+(f===Ie?qe:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),d="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(p,function(t,n,r,o,s,u){return r||(r=o),h+=e.slice(l,u).replace($e,Tn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var m=ct.call(t,"variable")&&t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(be,""):h).replace(we,"$1").replace(Ee,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Tu(function(){return Je(u,d+"return "+h).apply(o,c)});if(y.source=h,Ss(y))throw y;return y},hr.times=function(e,t){if((e=Bs(e))<1||e>P)return[];var n=j,r=Hn(e,j);t=Mo(t),e-=j;for(var i=yn(r,t);++n<e;)t(n);return i},hr.toFinite=Us,hr.toInteger=Bs,hr.toLength=zs,hr.toLower=function(e){return Ws(e).toLowerCase()},hr.toNumber=qs,hr.toSafeInteger=function(e){return e?Rr(Bs(e),-P,P):0===e?e:0},hr.toString=Ws,hr.toUpper=function(e){return Ws(e).toUpperCase()},hr.trim=function(e,t,n){if((e=Ws(e))&&(n||t===o))return e.replace(Pe,"");if(!e||!(t=Mi(t)))return e;var r=An(e),i=An(t);return Ki(r,wn(r,i),En(r,i)+1).join("")},hr.trimEnd=function(e,t,n){if((e=Ws(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=Mi(t)))return e;var r=An(e);return Ki(r,0,En(r,An(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=Ws(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Mi(t)))return e;var r=An(e);return Ki(r,wn(r,An(t))).join("")},hr.truncate=function(e,t){var n=k,r=I;if(xs(t)){var i="separator"in t?t.separator:i;n="length"in t?Bs(t.length):n,r="omission"in t?Mi(t.omission):r}var a=(e=Ws(e)).length;if(Cn(e)){var s=An(e);a=s.length}if(n>=a)return e;var u=n-On(r);if(u<1)return r;var c=s?Ki(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Os(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=tt(i.source,Ws(Ve.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(e.indexOf(Mi(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},hr.unescape=function(e){return(e=Ws(e))&&Te.test(e)?e.replace(Se,Rn):e},hr.uniqueId=function(e){var t=++lt;return Ws(e)+t},hr.upperCase=Eu,hr.upperFirst=Su,hr.each=Wa,hr.eachRight=Ha,hr.first=va,Ru(hr,function(){var e={};return Qr(hr,function(t,n){ct.call(hr.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),hr.VERSION="4.17.15",Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){hr[e].placeholder=hr}),Kt(["drop","take"],function(e,t){yr.prototype[e]=function(n){n=n===o?1:Wn(Bs(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Hn(n,r.__takeCount__):r.__views__.push({size:Hn(n,j),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==O||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Mo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}}),Kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Nu)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=Si(function(e,t){return"function"==typeof e?new yr(this):this.map(function(n){return ni(n,e,t)})}),yr.prototype.reject=function(e){return this.filter(ss(Mo(e)))},yr.prototype.slice=function(e,t){e=Bs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Bs(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(j)},Qr(yr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=hr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof yr,c=s[0],l=u||ys(t),f=function(e){var t=i.apply(hr,en([e],s));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,m=u&&!p;if(!a&&l){t=m?t:new yr(this);var y=e.apply(t,s);return y.__actions__.push({func:Ua,args:[f],thisArg:o}),new mr(y,h)}return d&&m?e.apply(this,s):(y=this.thru(f),d?r?y.value()[0]:y.value():y)})}),Kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[n](function(n){return t.apply(ys(n)?n:[],e)})}}),Qr(yr.prototype,function(e,t){var n=hr[t];if(n){var r=n.name+"";ct.call(rr,r)||(rr[r]=[]),rr[r].push({name:t,func:n})}}),rr[ho(o,v).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=to(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=to(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=to(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ys(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Hn(t,e+a);break;case"takeRight":e=Wn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=Hn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return Bi(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var m=-1,y=e[c+=t];++m<f;){var g=l[m],v=g.iteratee,b=g.type,w=v(y);if(b==A)y=w;else if(!w){if(b==O)continue e;break e}}d[h++]=y}return d},hr.prototype.at=Ba,hr.prototype.chain=function(){return Fa(this)},hr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof dr;){var r=fa(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:Ua,args:[xa],thisArg:o}),new mr(t,this.__chain__)}return this.thru(xa)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Bi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,jt&&(hr.prototype[jt]=function(){return this}),hr}();Rt._=Pn,(i=function(){return Pn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n(22),n(44)(e))},function(e,t,n){var r=n(110);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=e[a],m=n[2],y=n[3],g=n[4],v=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=d&&d!==m,S="+"===b||"*"===b,_="?"===b||"*"===b,T=n[2]||l,C=g||v;r.push({name:y||o++,prefix:m||"",delimiter:T,optional:_,repeat:S,partial:E,asterisk:!!w,pattern:C?c(C):w?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=u(h[p]),!t[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(h),!t[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";(function(e){for(var n="undefined"!==typeof window&&"undefined"!==typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:l(c(e))}var f=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?f:10===e?h:f||h}function d(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?d(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function y(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||d(e.firstElementChild)===e)}(a)?a:d(a);var s=m(e);return s.host?y(s.host,t):y(e,m(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=p(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,c=e.offsetWidth-a,l=e.offsetHeight-s;if(c||l){var f=u(e);c-=v(f,"x"),l-=v(f,"y"),i.width-=c,i.height-=l}return C(i)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p(10),i="HTML"===t.nodeName,o=x(e),a=x(t),s=l(e),c=u(t),f=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=C({top:o.top-a.top-f,left:o.left-a.left-h,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop,10),y=parseFloat(c.marginLeft,10);d.top-=f-m,d.bottom-=f-m,d.left-=h-y,d.right-=h-y,d.marginTop=m,d.marginLeft=y}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),i=g(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function I(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?I(e):y(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=k(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:g(n),s=t?0:g(n,"left");return C({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var f=k(s,a,i);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===u(t,"position"))return!0;var r=c(t);return!!r&&e(r)}(a))o=f;else{var h=w(e.ownerDocument),p=h.height,d=h.width;o.top+=f.top-f.marginTop,o.bottom=p+f.top,o.left+=f.left-f.marginLeft,o.right=d+f.left}}var m="number"===typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function D(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=N(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return T({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,r?I(t):y(t,n),r)}function A(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function P(e,t,n){n=n.split("-")[0];var r=A(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[R(s)],i}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=M(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))}),t}function j(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var i=l(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),o||e(l(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function V(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(t[n])&&(r="px"),e.style[n]=t[n]+r})}var W=n&&/Firefox/i.test(navigator.userAgent);function H(e,t,n){var r=M(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=Q.slice(3);function G(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.indexOf(e),r=K.slice(n+1).concat(K.slice(0,n));return t?r.reverse():r}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function X(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(M(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return C(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){q(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:_({},u,o[u]),end:_({},u,o[u]+o[c]-a[c])};e.offsets.popper=T({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=q(+n)?[+n,0]:X(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var r=F("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=N(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),_({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=T({},l,f[t](e))}),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!H(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",h=f.toLowerCase(),p=c?"left":"top",d=c?"bottom":"right",m=A(r)[l];s[d]-m<a[h]&&(e.offsets.popper[h]-=a[h]-(s[d]-m)),s[h]+m>a[d]&&(e.offsets.popper[h]+=s[h]+m-a[d]),e.offsets.popper=C(e.offsets.popper);var y=s[h]+s[l]/2-m/2,g=u(e.instance.popper),v=parseFloat(g["margin"+f],10),b=parseFloat(g["border"+f+"Width"],10),w=y-e.offsets.popper[h]-v-b;return w=Math.max(Math.min(a[l]-m,w),0),e.arrowElement=r,e.offsets.arrow=(_(n={},h,Math.round(w)),_(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(j(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=N(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=R(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Y.FLIP:a=[r,i];break;case Y.CLOCKWISE:a=G(r);break;case Y.COUNTERCLOCKWISE:a=G(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=R(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,h="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),p=f(c.left)<f(n.left),d=f(c.right)>f(n.right),m=f(c.top)<f(n.top),y=f(c.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&d||"top"===r&&m||"bottom"===r&&y,v=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(v&&"start"===o&&p||v&&"end"===o&&d||!v&&"start"===o&&m||!v&&"end"===o&&y),w=!!t.flipVariationsByContent&&(v&&"start"===o&&d||v&&"end"===o&&p||!v&&"start"===o&&y||!v&&"end"===o&&m),E=b||w;(h||g||E)&&(e.flipped=!0,(h||g)&&(r=a[u+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=T({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=R(t),e.offsets.popper=C(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!H(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=M(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=M(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=d(e.instance.popper),u=x(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),h=t?l||f||u%2===c%2?o:a:s,p=t?o:s;return{left:h(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!W),f="bottom"===n?"top":"bottom",h="right"===r?"left":"right",p=F("transform"),m=void 0,y=void 0;if(y="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&p)c[p]="translate3d("+m+"px, "+y+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,v="right"===h?-1:1;c[f]=y*g,c[h]=m*v,c.willChange=f+", "+h}var b={"x-placement":e.placement};return e.attributes=T({},b,e.attributes),e.styles=T({},c,e.styles),e.arrowStyles=T({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return V(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&V(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=O(i,t,e,n.positionFixed),a=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),V(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=T({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return T({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return S(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();J.Utils=("undefined"!==typeof window?window:e).PopperUtils,J.placements=Q,J.Defaults=$,t.a=J}).call(this,n(22))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(0)),o=l(n(1)),a=l(n(35)),s=l(n(5)),u=n(29),c=l(n(79));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return h.call(i),(0,u.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,u.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,u.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,u.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,u.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,u.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,c=this.props.cols,l=(0,u.getLayoutItem)(s,e);if(l){var f={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};s=(0,u.moveElement)(s,l,t,n,!0,this.props.preventCollision,this.compactType(),c),this.props.onDrag(s,a,l,f,i,o),this.setState({layout:(0,u.compact)(s,this.compactType(),c),activeDrag:f})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,c=this.props,l=c.cols,f=c.preventCollision,h=(0,u.getLayoutItem)(s,e);if(h){s=(0,u.moveElement)(s,h,t,n,!0,f,this.compactType(),l),this.props.onDragStop(s,a,h,null,i,o);var p=(0,u.compact)(s,this.compactType(),l),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,u.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,u.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,i){var o=i.e,a=i.node,s=this.state,c=s.layout,l=s.oldResizeItem,f=this.props,h=f.cols,p=f.preventCollision,d=(0,u.getLayoutItem)(c,e);if(d){var m=void 0;if(p){var y=(0,u.getAllCollisions)(c,r({},d,{w:t,h:n})).filter(function(e){return e.i!==d.i});if(m=y.length>0){var g=1/0,v=1/0;y.forEach(function(e){e.x>d.x&&(g=Math.min(g,e.x)),e.y>d.y&&(v=Math.min(v,e.y))}),Number.isFinite(g)&&(d.w=g-d.x),Number.isFinite(v)&&(d.h=v-d.y)}}m||(d.w=t,d.h=n);var b={w:d.w,h:d.h,x:d.x,y:d.y,static:!0,i:e};this.props.onResize(c,l,d,b,o,a),this.setState({layout:(0,u.compact)(c,this.compactType(),h),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,c=a.oldResizeItem,l=this.props.cols,f=(0,u.getLayoutItem)(s,e);this.props.onResizeStop(s,c,f,null,i,o);var h=(0,u.compact)(s,this.compactType(),l),p=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,p)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,u=t.maxRows,l=t.useCSSTransforms;return i.default.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:u,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:l},i.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,u.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,l=n.rowHeight,f=n.maxRows,h=n.isDraggable,p=n.isResizable,d=n.useCSSTransforms,m=n.draggableCancel,y=n.draggableHandle,g=this.state.mounted,v=Boolean(!t.static&&h&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&p&&(t.isResizable||null==t.isResizable));return i.default.createElement(c.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:f,rowHeight:l,cancel:m,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:v,isResizable:b,useCSSTransforms:d&&g,usePercentages:!g,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,a=(0,s.default)("react-grid-layout",n),u=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:u},i.default.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())},t}(i.default.Component);f.displayName="ReactGridLayout",f.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,u.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0})}},f.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:u.noop,onDragStart:u.noop,onDrag:u.noop,onDragStop:u.noop,onResizeStart:u.noop,onResize:u.noop,onResizeStop:u.noop};var h=function(){this.state={activeDrag:null,layout:(0,u.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=f},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var s=function(e,t,n,r,i,o,s,u){if(a(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},c=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];u.apply(void 0,[t].concat(r))}},l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function p(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var d=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,r,i=p(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))f.call(n,a)&&(i[a]=n[a]);if(l){r=l(n);for(var s=0;s<r.length;s++)h.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y=s,g=c,v=m,b={},w=function(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{y("function"===typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,v)}catch(u){a=u}if(g(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in b)){b[a.message]=!0;var s=i?i():"";g(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}},E=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,r="@@iterator",i="<<anonymous>>",a={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:l(o.thatReturnsNull),arrayOf:function(e){return l(function(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new u("Invalid "+i+" `"+o+"` of type `"+p(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var c=e(a,s,r,i,o+"["+s+"]",m);if(c instanceof Error)return c}return null})},element:l(function(t,n,r,i,o){var a=t[n];return e(a)?null:new u("Invalid "+i+" `"+o+"` of type `"+p(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}),instanceOf:function(e){return l(function(t,n,r,o,a){if(!(t[n]instanceof e)){var s=e.name||i;return new u("Invalid "+o+" `"+a+"` of type `"+((c=t[n]).constructor&&c.constructor.name?c.constructor.name:i)+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var c;return null})},node:l(function(e,t,n,r,i){return h(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return l(function(t,n,r,i,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=p(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c,m);if(l instanceof Error)return l}return null})},oneOf:function(e){return Array.isArray(e)?l(function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(c=a,l=e[s],c===l?0!==c||1/c===1/l:c!==c&&l!==l)return null;var c,l;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}):(c(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return c(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return c(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",g(n),t),o.thatReturnsNull}return l(function(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,m))return null;return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")})},shape:function(e){return l(function(t,n,r,i,o){var a=t[n],s=p(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var f=l(a,c,r,i,o+"."+c,m);if(f)return f}}return null})},exact:function(e){return l(function(t,n,r,i,o){var a=t[n],s=p(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var c=d({},t[n],e);for(var l in c){var f=e[l];if(!f)return new u("Invalid "+i+" `"+o+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(a,l,r,i,o+"."+l,m);if(h)return h}return null})}};function u(e){this.message=e,this.stack=""}function l(e){var n={},r=0;function o(o,a,l,f,h,p,d){if(f=f||i,p=p||l,d!==m)if(t)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!==typeof console){var y=f+":"+l;!n[y]&&r<3&&(c(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),n[y]=!0,r++)}return null==a[l]?o?null===a[l]?new u("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new u("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(a,l,f,h,p)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function f(e){return l(function(t,n,r,i,o,a){var s=t[n];return p(s)!==e?new u("Invalid "+i+" `"+o+"` of type `"+y(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var i=function(e){var t=e&&(n&&e[n]||e[r]);if("function"===typeof t)return t}(t);if(!i)return!1;var o,a=i.call(t);if(i!==t.entries){for(;!(o=a.next()).done;)if(!h(o.value))return!1}else for(;!(o=a.next()).done;){var s=o.value;if(s&&!h(s[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function y(e){if("undefined"===typeof e||null===e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){var t=y(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return u.prototype=Error.prototype,a.checkPropTypes=w,a.PropTypes=a,a},S=n(function(e){var t="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=E(function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t},!0)}),_=n(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()});function T(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function C(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function x(e){return"number"===typeof e&&!isNaN(e)}function k(e){return parseInt(e,10)}function I(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var N=["Moz","Webkit","O","ms"];function D(e,t){return t?""+t+function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e):e}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<N.length;n++)if(D(e,N[n])in t)return N[n];return""}(),A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},F=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},U="";function B(e,t){return U||(U=T(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return C(e[t])})),!!C(e[U])&&e[U](t)}function z(e,t,n){var r=e;do{if(B(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function q(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function V(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function W(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=k(n.borderTopWidth),t+=k(n.borderBottomWidth)}function H(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=k(n.borderLeftWidth),t+=k(n.borderRightWidth)}function Q(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=k(n.paddingTop),t-=k(n.paddingBottom)}function K(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=k(n.paddingLeft),t-=k(n.paddingRight)}function G(e,t,n){var r="translate("+e.x+n+","+e.y+n+")";return t&&(r="translate("+("string"===typeof t.x?t.x:t.x+n)+", "+("string"===typeof t.y?t.y:t.y+n)+")"+r),r}function Y(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(t.className+=" "+n))}}function X(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(r){}var t,n}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M({touchAction:"none"},e)}function J(e){return"both"===e.props.axis||"x"===e.props.axis}function Z(e){return"both"===e.props.axis||"y"===e.props.axis}function ee(e,t,n){var r="number"===typeof t?function(e,t){return e.targetTouches&&T(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&T(e.changedTouches,function(e){return t===e.identifier})}(e,t):null;if("number"===typeof t&&!r)return null;var i=re(n);return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function te(e,t,n){var r=e.state,i=!x(r.lastX),o=re(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function ne(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function re(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var ie={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},oe=ie.mouse,ae=function(n){function r(){var t,n,i;A(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=j(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!z(t.target,i.props.handle,n)||i.props.cancel&&z(t.target,i.props.cancel,n))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(t);i.setState({touchIdentifier:o});var a=ee(t,o,i);if(null!=a){var s=a.x,u=a.y,c=te(i,s,u);i.props.onStart,!1!==i.props.onStart(t,c)&&(i.props.enableUserSelectHack&&Y(r),i.setState({dragging:!0,lastX:s,lastY:u}),q(r,oe.move,i.handleDrag),q(r,oe.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=ee(e,i.state.touchIdentifier,i);if(null!=t){var n,r,o,a=t.x,s=t.y;if(Array.isArray(i.props.grid)){var u=a-i.state.lastX,c=s-i.state.lastY,l=(n=i.props.grid,r=u,o=c,[Math.round(r/n[0])*n[0],Math.round(o/n[1])*n[1]]),f=F(l,2);if(u=f[0],c=f[1],!u&&!c)return;a=i.state.lastX+u,s=i.state.lastY+c}var h=te(i,a,s);if(!1!==i.props.onDrag(e,h))i.setState({lastX:a,lastY:s});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(d){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(p)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=ee(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=te(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&X(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(V(s.ownerDocument,oe.move,i.handleDrag),V(s.ownerDocument,oe.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return oe=ie.mouse,i.handleDragStart(e)},i.onMouseUp=function(e){return oe=ie.mouse,i.handleDragStop(e)},i.onTouchStart=function(e){return oe=ie.touch,i.handleDragStart(e)},i.onTouchEnd=function(e){return oe=ie.touch,i.handleDragStop(e)},j(i,n)}return L(r,n),R(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;V(n,ie.mouse.move,this.handleDrag),V(n,ie.touch.move,this.handleDrag),V(n,ie.mouse.stop,this.handleDragStop),V(n,ie.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&X(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:$(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);ae.displayName="DraggableCore",ae.propTypes={allowAnyClick:S.bool,disabled:S.bool,enableUserSelectHack:S.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:S.arrayOf(S.number),scale:S.number,handle:S.string,cancel:S.string,onStart:S.func,onDrag:S.func,onStop:S.func,onMouseDown:S.func,className:I,style:I,transform:I},ae.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var se=function(n){function r(e){A(this,r);var t=j(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ne(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=ne(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"===typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var i=re(e);if("string"===typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),c=a.getComputedStyle(s);r={left:-i.offsetLeft+k(c.paddingLeft)+k(u.marginLeft),top:-i.offsetTop+k(c.paddingTop)+k(u.marginTop),right:K(s)-H(i)-i.offsetLeft+k(c.paddingRight)-k(u.marginRight),bottom:Q(s)-W(i)-i.offsetTop+k(c.paddingBottom)-k(u.marginBottom)}}return x(r.right)&&(t=Math.min(t,r.right)),x(r.bottom)&&(n=Math.min(n,r.bottom)),x(r.left)&&(t=Math.max(t,r.left)),x(r.top)&&(n=Math.max(n,r.top)),[t,n]}(t,i.x,i.y),u=F(s,2),c=u[0],l=u[1];i.x=c,i.y=l,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ne(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return L(r,n),R(r,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n,r,i={},o=null,a=!Boolean(this.props.position)||this.state.dragging,s=this.props.position||this.props.defaultPosition,u={x:J(this)&&a?this.state.x:s.x,y:Z(this)&&a?this.state.y:s.y};this.state.isElementSVG?(n=u,r=this.props.positionOffset,o=G(n,r,"")):i=function(e,t){var n=G(e,t,"px");return P({},D("transform",O),n)}(u,this.props.positionOffset);var c=this.props,l=c.defaultClassName,f=c.defaultClassNameDragging,h=c.defaultClassNameDragged,p=t.Children.only(this.props.children),d=_(p.props.className||"",l,(P(e={},f,this.state.dragging),P(e,h,this.state.dragged),e));return t.createElement(ae,M({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(p,{className:d,style:M({},p.props.style,i),transform:o}))}}]),r}(t.Component);return se.displayName="Draggable",se.propTypes=M({},ae.propTypes,{axis:S.oneOf(["both","x","y","none"]),bounds:S.oneOfType([S.shape({left:S.number,right:S.number,top:S.number,bottom:S.number}),S.string,S.oneOf([!1])]),defaultClassName:S.string,defaultClassNameDragging:S.string,defaultClassNameDragged:S.string,defaultPosition:S.shape({x:S.number,y:S.number}),positionOffset:S.shape({x:S.oneOfType([S.number,S.string]),y:S.oneOfType([S.number,S.string])}),position:S.shape({x:S.number,y:S.number}),className:I,style:I,transform:I}),se.defaultProps=M({},ae.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),se.default=se,se.DraggableCore=ae,se}(n(23),n(0))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),o=u(n(1)),a=n(45),s=u(n(81));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},c(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=(t=e/o)*o}if(!r&&!i)return[e,t];var a=e,s=t,u=this.state,c=u.slackW,l=u.slackH;return e+=c,t+=l,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),l+=s-t,(c+=a-e)===this.state.slackW&&l===this.state.slackH||this.setState({slackW:c,slackH:l}),[e,t]},t.prototype.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,u=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),c=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);u&&"w"===t[t.length-1]&&(a=-a),c&&"n"===t[0]&&(s=-s);var l=n.state.width+(u?a:0),f=n.state.height+(c?s:0),h=l!==n.state.width,p=f!==n.state.height;if("onResize"!==e||h||p){var d=n.runConstraints(l,f);l=d[0],f=d[1];var m={};if("onResizeStart"===e)m.resizing=!0;else if("onResizeStop"===e)m.resizing=!1,m.slackW=m.slackH=0;else{if(l===n.state.width&&f===n.state.height)return;m.width=l,m.height=f}"function"===typeof n.props[e]?("function"===typeof r.persist&&r.persist(),n.setState(m,function(){return n.props[e](r,{node:o,size:{width:l,height:f},handle:t})})):n.setState(m)}}},t.prototype.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"===typeof t?t(e):t:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts,u=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),l=c.className?c.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},c,{className:l,children:[n.props.children,u.map(function(t){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})]}))},t}(i.default.Component);l.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},l.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.getBreakpointFromWidth=function(e,t){for(var n=i(e),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,o,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var u=e[o],c=i(t),l=c.slice(c.indexOf(n)),f=0,h=l.length;f<h;f++){var p=l[f];if(e[p]){u=e[p];break}}return u=(0,r.cloneLayout)(u||[]),(0,r.compact)((0,r.correctBounds)(u,{cols:a}),s,a)},t.sortBreakpoints=i;var r=n(29);function i(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return!!function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}()&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}())},r.isLegacyOpera=function(){return!!window.opera}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(36),o=n(52),a=n(53),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=[],f=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){l=l.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),l=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var h="6.6.0",p=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"===typeof r&&null!==r||(r={name:r});var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var f=new e(n,a,i);return t[s]=f,l(f,"create"),f},app:a,apps:null,SDK_VERSION:h,INTERNAL:{registerService:function(t,c,l,f,h){if(void 0===h&&(h=!1),n[t])return p.debug("There were multiple attempts to register service "+t+"."),i[t];function d(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=c,f&&(r[t]=f,s().forEach(function(e){f("create",e)})),void 0!==l&&o.deepExtend(d,l),i[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,h?e:[])},d},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:f}};function a(e){if(e=e||c,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map(function(e){return t[e]})}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=f(0,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function f(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i}(f);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),y=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var g=m;t.default=g,t.firebase=g},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function y(e,t){return e.replace(g,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}var g=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function _(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=m,t.FirebaseError=d,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=_,t.getUA=h,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(_(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(_(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(_(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(22))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",function(){return r}),n.d(t,"Logger",function(){return s}),n.d(t,"setLogLevel",function(){return u});var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach(function(t){t.logLevel=e})}},function(e,t,n){"use strict";n(101)},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=s(n(0)),o=s(n(23)),a=n(56);n(57);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;t.EXITING="exiting";var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=c,r.appearStatus=l):i=f:i=t.unmountOnExit||t.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,function(){n.safeSetState({status:f},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:f},function(){n.props.onEntered(e)})},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function p(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var d=(0,a.polyfill)(h);t.default=d},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),i=s(n(0)),o=n(56),a=n(109);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=u({},t.children);return delete n[e.key],{children:n}}))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,o.polyfill)(f);t.default=h,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(111)},function(e,t,n){(function(t){var n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Null]",a="[object Proxy]",s="[object Undefined]",u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype,h=f.hasOwnProperty,p=f.toString,d=l.Symbol,m=d?d.toStringTag:void 0;function y(e){return null==e?void 0===e?s:o:m&&m in Object(e)?function(e){var t=h.call(e,m),n=e[m];try{e[m]=void 0;var r=!0}catch(o){}var i=p.call(e);r&&(t?e[m]=n:delete e[m]);return i}(e):function(e){return p.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=y(e);return t==r||t==i||t==n||t==a}}).call(this,n(22))},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(14),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(2),d={active:l.a.bool,"aria-label":l.a.string,block:l.a.bool,color:l.a.string,disabled:l.a.bool,outline:l.a.bool,tag:p.h,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),onClick:l.a.func,size:l.a.string,children:l.a.node,className:l.a.string,cssModule:l.a.object,close:l.a.bool},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],o=e.block,a=e.className,s=e.close,c=e.cssModule,l=e.color,f=e.outline,d=e.size,m=e.tag,y=e.innerRef,g=Object(i.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&"undefined"===typeof g.children&&(g.children=u.a.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(f?"-outline":"")+"-"+l,b=Object(p.e)(h()(a,{close:s},s||"btn",s||v,!!d&&"btn-"+d,!!o&&"btn-block",{active:t,disabled:this.props.disabled}),c);g.href&&"button"===m&&(m="a");var w=s?"Close":null;return u.a.createElement(m,Object(r.a)({type:"button"===m&&g.onClick?"button":void 0},g,{className:b,ref:y,onClick:this.onClick,"aria-label":n||w}))},t}(u.a.Component);m.propTypes=d,m.defaultProps={color:"secondary",tag:"button"},t.a=m},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"input-group-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"span"},t.a=p},function(e,t,n){"use strict";var r=n(59),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var v=h(n,g);try{c(t,g,v)}catch(b){}}}return t}return t}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(112));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},,,function(e,t,n){"use strict";var r=n(42),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function S(){}function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw v(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=E.prototype;var T=_.prototype=new S;T.constructor=_,r(T,E.prototype),T.isPureReactComponent=!0;var C={current:null},x={suspense:null},k={current:null},I=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,R=[];function P(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+j(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+j(s=t[c],c);u+=e(s,l,r,i)}else if(l=null===t||"object"!==typeof t?null:"function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+j(s,c++),r,i);else if("object"===s)throw r=""+t,v(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),L(e,U,t=P(t,o,r,i)),M(t)}function z(){var e=C.current;if(null===e)throw v(Error(321));return e}var q={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,F,t=P(null,null,t,n)),M(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){if(!O(e))throw v(Error(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:p,unstable_SuspenseList:d,createElement:D,cloneElement:function(e,t,n){if(null===e||void 0===e)throw v(Error(267),e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=k.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)I.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=D.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=x.suspense;x.suspense=void 0===t?null:t;try{e()}finally{x.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:x,ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r}},V={default:q},W=V&&q||V;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(0),i=n(42),o=n(72);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!f[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,p=r;if(h.hasOwnProperty(p))throw a(Error(99),p);h[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,p);i=!0}else o.registrationName?(l(o.registrationName,c,p),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function l(e,t,n){if(p[e])throw a(Error(100),e);p[e]=t,d[e]=t.eventTypes[n].dependencies}var f=[],h={},p={},d={};var m=!1,y=null,g=!1,v=null,b={onError:function(e){m=!0,y=e}};function w(e,t,n,r,i,o,a,s,u){m=!1,y=null,function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(b,arguments)}var E=null,S=null,_=null;function T(e,t,n){var r=e.type||"unknown-event";e.currentTarget=_(n),function(e,t,n,r,i,o,s,u,c){if(w.apply(this,arguments),m){if(!m)throw a(Error(198));var l=y;m=!1,y=null,g||(g=!0,v=l)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var k=null;function I(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)T(e,t[r],n[r]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e){if(x(e,I),k)throw a(Error(95));if(g)throw e=v,g=!1,v=null,e}}var D={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw a(Error(102),t);u[t]=r,n=!0}}n&&c()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var A=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+A,P="__reactEventHandlers$"+A;function M(e){if(e[R])return e[R];for(;!e[R];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[R]).tag||6===e.tag?e:null}function L(e){return!(e=e[R])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function F(e){return e[P]||null}function U(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function q(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function W(e){x(e,z)}var H=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement);function Q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var K={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},G={},Y={};function X(e){if(G[e])return G[e];if(!K[e])return e;var t,n=K[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return G[e]=n[t];return e}H&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);var $=X("animationend"),J=X("animationiteration"),Z=X("animationstart"),ee=X("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ue(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function le(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ce,e.release=le}i(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(ue);var he=ue.extend({data:null}),pe=ue.extend({data:null}),de=[9,13,27,32],me=H&&"CompositionEvent"in window,ye=null;H&&"documentMode"in document&&(ye=document.documentMode);var ge=H&&"TextEvent"in window&&!ye,ve=H&&(!me||ye&&8<ye&&11>=ye),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function Se(e,t){switch(e){case"keyup":return-1!==de.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Ce={eventTypes:we,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=we.compositionStart;break e;case"compositionend":i=we.compositionEnd;break e;case"compositionupdate":i=we.compositionUpdate;break e}i=void 0}else Te?Se(e,n)&&(i=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=we.compositionStart);return i?(ve&&"ko"!==n.locale&&(Te||i!==we.compositionStart?i===we.compositionEnd&&Te&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Te=!0)),i=he.getPooled(i,t,n,r),o?i.data=o:null!==(o=_e(n))&&(i.data=o),W(i),o=i):o=null,(e=ge?function(e,t){switch(e){case"compositionend":return _e(t);case"keypress":return 32!==t.which?null:(Ee=!0,be);case"textInput":return(e=t.data)===be&&Ee?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!me&&Se(e,t)?(e=oe(),ie=re=ne=null,Te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ve&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(we.beforeInput,t,n,r)).data=e,W(t)):t=null,null===o?t:null===t?o:[o,t]}},xe=null,ke=null,Ie=null;function Ne(e){if(e=S(e)){if("function"!==typeof xe)throw a(Error(280));var t=E(e.stateNode);xe(e.stateNode,e.type,t)}}function De(e){ke?Ie?Ie.push(e):Ie=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Ie;if(Ie=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ae(e,t){return e(t)}function Re(e,t,n,r){return e(t,n,r)}function Pe(){}var Me=Ae,Le=!1;function je(){null===ke&&null===Ie||(Pe(),Oe())}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fe[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!H)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function qe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.hasOwnProperty("ReactCurrentDispatcher")||(He.ReactCurrentDispatcher={current:null}),He.hasOwnProperty("ReactCurrentBatchConfig")||(He.ReactCurrentBatchConfig={suspense:null});var Qe=/^(.*)[\\\/]/,Ke="function"===typeof Symbol&&Symbol.for,Ge=Ke?Symbol.for("react.element"):60103,Ye=Ke?Symbol.for("react.portal"):60106,Xe=Ke?Symbol.for("react.fragment"):60107,$e=Ke?Symbol.for("react.strict_mode"):60108,Je=Ke?Symbol.for("react.profiler"):60114,Ze=Ke?Symbol.for("react.provider"):60109,et=Ke?Symbol.for("react.context"):60110,tt=Ke?Symbol.for("react.concurrent_mode"):60111,nt=Ke?Symbol.for("react.forward_ref"):60112,rt=Ke?Symbol.for("react.suspense"):60113,it=Ke?Symbol.for("react.suspense_list"):60120,ot=Ke?Symbol.for("react.memo"):60115,at=Ke?Symbol.for("react.lazy"):60116;Ke&&Symbol.for("react.fundamental"),Ke&&Symbol.for("react.responder");var st="function"===typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Xe:return"Fragment";case Ye:return"Portal";case Je:return"Profiler";case $e:return"StrictMode";case rt:return"Suspense";case it:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case et:return"Context.Consumer";case Ze:return"Context.Provider";case nt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case at:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ct(e.type);n=null,r&&(n=ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Qe,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ht=Object.prototype.hasOwnProperty,pt={},dt={};function mt(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new mt(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new mt(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new mt(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new mt(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){yt[e]=new mt(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){yt[e]=new mt(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){yt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1)});var gt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ht.call(dt,e)||!ht.call(pt,e)&&(ft.test(e)?dt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Et(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function _t(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function Tt(e,t){_t(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xt(e,t.type,n):t.hasOwnProperty("defaultValue")&&xt(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ct(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,vt);yt[t]=new mt(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,vt);yt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,vt);yt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1)}),yt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){yt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0)});var kt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function It(e,t,n){return(e=ue.getPooled(kt.change,e,t,n)).type="change",De(n),W(e),e}var Nt=null,Dt=null;function Ot(e){N(e)}function At(e){if(We(j(e)))return e}function Rt(e,t){if("change"===e)return t}var Pt=!1;function Mt(){Nt&&(Nt.detachEvent("onpropertychange",Lt),Dt=Nt=null)}function Lt(e){if("value"===e.propertyName&&At(Dt))if(e=It(Dt,e,Be(e)),Le)N(e);else{Le=!0;try{Ae(Ot,e)}finally{Le=!1,je()}}}function jt(e,t,n){"focus"===e?(Mt(),Dt=n,(Nt=t).attachEvent("onpropertychange",Lt)):"blur"===e&&Mt()}function Ft(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return At(Dt)}function Ut(e,t){if("click"===e)return At(t)}function Bt(e,t){if("input"===e||"change"===e)return At(t)}H&&(Pt=ze("input")&&(!document.documentMode||9<document.documentMode));var zt={eventTypes:kt,_isInputEventSupported:Pt,extractEvents:function(e,t,n,r){var i=t?j(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Rt:Ue(i)?Pt?o=Bt:(o=Ft,a=jt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ut),o&&(o=o(e,t)))return It(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xt(i,"number",i.value)}},qt=ue.extend({view:null,detail:null}),Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function Ht(){return Wt}var Qt=0,Kt=0,Gt=!1,Yt=!1,Xt=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kt;return Kt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),$t=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?M(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Jt.mouseLeave,u=Jt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=$t,s=Jt.pointerLeave,u=Jt.pointerEnter,c="pointer");var l=null==o?i:j(o);if(i=null==t?i:j(t),(e=a.getPooled(s,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,a=t=o;a;a=U(a))c++;for(a=0,u=i;u;u=U(u))a++;for(;0<c-a;)t=U(t),c--;for(;0<a-c;)i=U(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=U(t),i=U(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=U(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=U(r);for(r=0;r<t.length;r++)q(t[r],"bubbled",e);for(r=o.length;0<r--;)q(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e,t){return{responder:e,props:t}}function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){if(2!==on(e))throw a(Error(188))}function sn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=on(e)))throw a(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return an(i),e;if(o===r)return an(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var un=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ln=qt.extend({relatedTarget:null});function fn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=qt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?fn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),mn=Xt.extend({dataTransfer:null}),yn=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),gn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[$,"animationEnd",2],[J,"animationIteration",2],[Z,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[ee,"transitionEnd",2],["waiting","waiting",2]],wn={},En={},Sn=0;Sn<bn.length;Sn++){var _n=bn[Sn],Tn=_n[0],Cn=_n[1],xn=_n[2],kn="on"+(Cn[0].toUpperCase()+Cn.slice(1)),In={phasedRegistrationNames:{bubbled:kn,captured:kn+"Capture"},dependencies:[Tn],eventPriority:xn};wn[Cn]=In,En[Tn]=In}var Nn={eventTypes:wn,getEventPriority:function(e){return void 0!==(e=En[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=En[e];if(!i)return null;switch(e){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=yn;break;case $:case J:case Z:e=un;break;case ee:e=gn;break;case"scroll":e=qt;break;case"wheel":e=vn;break;case"copy":case"cut":case"paste":e=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$t;break;default:e=ue}return W(t=e.getPooled(i,t,n,r)),t}},Dn=Nn.getEventPriority,On=[];function An(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=M(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Be(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=C(a,u))}N(a)}}var Rn=!0;function Pn(e,t){Mn(t,e,!1)}function Mn(e,t,n){switch(Dn(t)){case 0:var r=function(e,t,n){Le||Pe();var r=Ln,i=Le;Le=!0;try{Re(r,e,t,n)}finally{(Le=i)||je()}}.bind(null,t,1);break;case 1:r=function(e,t,n){Ln(e,t,n)}.bind(null,t,1);break;default:r=Ln.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Ln(e,t,n){if(Rn){if(null===(t=M(t=Be(n)))||"number"!==typeof t.tag||2===on(t)||(t=null),On.length){var r=On.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,Le)An(n);else{Le=!0;try{Me(An,n,void 0)}finally{Le=!1,je()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>On.length&&On.push(e)}}}var jn=new("function"===typeof WeakMap?WeakMap:Map);function Fn(e){var t=jn.get(e);return void 0===t&&(t=new Set,jn.set(e,t)),t}function Un(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Bn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zn(e,t){var n,r=Bn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bn(r)}}function qn(){for(var e=window,t=Un();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Un((e=t.contentWindow).document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Wn=H&&"documentMode"in document&&11>=document.documentMode,Hn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qn=null,Kn=null,Gn=null,Yn=!1;function Xn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yn||null==Qn||Qn!==Un(n)?null:("selectionStart"in(n=Qn)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gn&&nn(Gn,n)?null:(Gn=n,(e=ue.getPooled(Hn.select,Kn,e,t)).type="select",e.target=Qn,W(e),e))}var $n={eventTypes:Hn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Fn(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?j(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(Qn=o,Kn=t,Gn=null);break;case"blur":Gn=Kn=Qn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Xn(n,r);case"selectionchange":if(Wn)break;case"keydown":case"keyup":return Xn(n,r)}return null}};function Jn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function er(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tr(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:wt(n)}}function nr(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function rr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}D.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=F,S=L,_=j,D.injectEventPluginsByName({SimpleEventPlugin:Nn,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:zt,SelectEventPlugin:$n,BeforeInputEventPlugin:Ce});var ir={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function or(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?or(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var sr=void 0,ur=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==ir.svg||"innerHTML"in e)e.innerHTML=t;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];function hr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function pr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=hr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(lr).forEach(function(e){fr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});var dr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(e,t){if(t){if(dr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function yr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gr(e,t){var n=Fn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=d[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.has(i)){switch(i){case"scroll":Mn(e,"scroll",!0);break;case"focus":case"blur":Mn(e,"focus",!0),Mn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":ze(i)&&Mn(e,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Pn(i,e)}n.add(i)}}}function vr(){}var br=null,wr=null;function Er(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _r="function"===typeof setTimeout?setTimeout:void 0,Tr="function"===typeof clearTimeout?clearTimeout:void 0;function Cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var xr=[],kr=-1;function Ir(e){0>kr||(e.current=xr[kr],xr[kr]=null,kr--)}function Nr(e,t){xr[++kr]=e.current,e.current=t}var Dr={},Or={current:Dr},Ar={current:!1},Rr=Dr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(e){Ir(Ar),Ir(Or)}function jr(e){Ir(Ar),Ir(Or)}function Fr(e,t,n){if(Or.current!==Dr)throw a(Error(168));Nr(Or,t),Nr(Ar,n)}function Ur(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),ct(t)||"Unknown",o);return i({},n,r)}function Br(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Dr,Rr=Or.current,Nr(Or,t),Nr(Ar,Ar.current),!0}function zr(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=Ur(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=t,Ir(Ar),Ir(Or),Nr(Or,t)):Ir(Ar),Nr(Ar,n)}var qr=o.unstable_runWithPriority,Vr=o.unstable_scheduleCallback,Wr=o.unstable_cancelCallback,Hr=o.unstable_shouldYield,Qr=o.unstable_requestPaint,Kr=o.unstable_now,Gr=o.unstable_getCurrentPriorityLevel,Yr=o.unstable_ImmediatePriority,Xr=o.unstable_UserBlockingPriority,$r=o.unstable_NormalPriority,Jr=o.unstable_LowPriority,Zr=o.unstable_IdlePriority,ei={},ti=void 0!==Qr?Qr:function(){},ni=null,ri=null,ii=!1,oi=Kr(),ai=1e4>oi?Kr:function(){return Kr()-oi};function si(){switch(Gr()){case Yr:return 99;case Xr:return 98;case $r:return 97;case Jr:return 96;case Zr:return 95;default:throw a(Error(332))}}function ui(e){switch(e){case 99:return Yr;case 98:return Xr;case 97:return $r;case 96:return Jr;case 95:return Zr;default:throw a(Error(332))}}function ci(e,t){return e=ui(e),qr(e,t)}function li(e,t,n){return e=ui(e),Vr(e,t,n)}function fi(e){return null===ni?(ni=[e],ri=Vr(Yr,pi)):ni.push(e),ei}function hi(){null!==ri&&Wr(ri),pi()}function pi(){if(!ii&&null!==ni){ii=!0;var e=0;try{var t=ni;ci(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ni=null}catch(n){throw null!==ni&&(ni=ni.slice(e+1)),Vr(Yr,hi),n}finally{ii=!1}}}function di(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function mi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var yi={current:null},gi=null,vi=null,bi=null;function wi(){bi=vi=gi=null}function Ei(e,t){var n=e.type._context;Nr(yi,n._currentValue),n._currentValue=t}function Si(e){var t=yi.current;Ir(yi),e.type._context._currentValue=t}function _i(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ti(e,t){gi=e,bi=vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ua=!0),e.firstContext=null)}function Ci(e,t){if(bi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(bi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===vi){if(null===gi)throw a(Error(308));vi=t,gi.dependencies={expirationTime:0,firstContext:t,responders:null}}else vi=vi.next=t;return e._currentValue}var xi=!1;function ki(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ii(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ni(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Di(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Oi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=ki(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=ki(e.memoizedState),i=n.updateQueue=ki(n.memoizedState)):r=e.updateQueue=Ii(i):null===i&&(i=n.updateQueue=Ii(r));null===i||r===i?Di(r,t):null===r.lastUpdate||null===i.lastUpdate?(Di(r,t),Di(i,t)):(Di(r,t),i.lastUpdate=t)}function Ai(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ki(e.memoizedState):Ri(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ri(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ii(t)),t}function Pi(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:xi=!0}return r}function Mi(e,t,n,r,i){xi=!1;for(var o=(t=Ri(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(Us(l,u.suspenseConfig),c=Pi(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Pi(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function Li(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ji(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ji(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ji(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var Fi=He.ReactCurrentBatchConfig,Ui=(new r.Component).refs;function Bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var zi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Fi.suspense;(i=Ni(r=ks(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Oi(e,i),Ns(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Fi.suspense;(i=Ni(r=ks(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Oi(e,i),Ns(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xs(),r=Fi.suspense;(r=Ni(n=ks(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Oi(e,r),Ns(e,n)}};function qi(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Vi(e,t,n){var r=!1,i=Dr,o=t.contextType;return"object"===typeof o&&null!==o?o=Ci(o):(i=Mr(t)?Rr:Or.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pr(e,i):Dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ui;var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ci(o):(o=Mr(t)?Rr:Or.current,i.context=Pr(e,o)),null!==(o=e.updateQueue)&&(Mi(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(Bi(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Mi(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Qi=Array.isArray;function Ki(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ui&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Gi(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Yi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Zs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ki(e,t,n),r.return=e,r):((r=eu(n.type,n.key,n.props,null,e.mode,r)).ref=Ki(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ru(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=tu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=eu(t.type,t.key,t.props,null,e.mode,n)).ref=Ki(e,null,t),n.return=e,n;case Ye:return(t=ru(t,e.mode,n)).return=e,t}if(Qi(t)||ut(t))return(t=tu(t,e.mode,n,null)).return=e,t;Gi(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===i?n.type===Xe?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ye:return n.key===i?l(e,t,n,r):null}if(Qi(n)||ut(n))return null!==i?null:f(e,t,n,r,null);Gi(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ge:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ye:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Qi(r)||ut(r))return f(t,e=e.get(n)||null,r,i,null);Gi(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var g=p(i,f,s[m],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(y=d(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(i,e)}),c}function y(i,s,u,c){var l=ut(u);if("function"!==typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var f=l=null,m=s,y=s=0,g=null,v=u.next();null!==m&&!v.done;y++,v=u.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=p(i,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,m=g}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;y++,v=u.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,y),null===f?l=v:f.sibling=v,f=v);return l}for(m=r(i,m);!v.done;y++,v=u.next())null!==(v=d(m,i,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=o(v,s,y),null===f?l=v:f.sibling=v,f=v);return e&&m.forEach(function(e){return t(i,e)}),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===Xe&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Ge:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Xe:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===Xe?o.props.children:o.props)).ref=Ki(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Xe?((r=tu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=eu(o.type,o.key,o.props,null,e.mode,u)).ref=Ki(e,r,o),u.return=e,e=u)}return s(e);case Ye:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ru(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=nu(o,e.mode,u)).return=e,e=r),s(e);if(Qi(o))return m(e,r,o,u);if(ut(o))return y(e,r,o,u);if(l&&Gi(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var Xi=Yi(!0),$i=Yi(!1),Ji={},Zi={current:Ji},eo={current:Ji},to={current:Ji};function no(e){if(e===Ji)throw a(Error(174));return e}function ro(e,t){Nr(to,t),Nr(eo,e),Nr(Zi,Ji);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ar(null,"");break;default:t=ar(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ir(Zi),Nr(Zi,t)}function io(e){Ir(Zi),Ir(eo),Ir(to)}function oo(e){no(to.current);var t=no(Zi.current),n=ar(t,e.type);t!==n&&(Nr(eo,e),Nr(Zi,n))}function ao(e){eo.current===e&&(Ir(Zi),Ir(eo))}var so=1,uo=1,co=2,lo={current:0};function fo(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=0,po=2,mo=4,yo=8,go=16,vo=32,bo=64,wo=128,Eo=He.ReactCurrentDispatcher,So=0,_o=null,To=null,Co=null,xo=null,ko=null,Io=null,No=0,Do=null,Oo=0,Ao=!1,Ro=null,Po=0;function Mo(){throw a(Error(321))}function Lo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,i,o){if(So=o,_o=t,Co=null!==e?e.memoizedState:null,Eo.current=null===Co?Xo:$o,t=n(r,i),Ao){do{Ao=!1,Po+=1,Co=null!==e?e.memoizedState:null,Io=xo,Do=ko=To=null,Eo.current=$o,t=n(r,i)}while(Ao);Ro=null,Po=0}if(Eo.current=Yo,(e=_o).memoizedState=xo,e.expirationTime=No,e.updateQueue=Do,e.effectTag|=Oo,e=null!==To&&null!==To.next,So=0,Io=ko=xo=Co=To=_o=null,No=0,Do=null,Oo=0,e)throw a(Error(300));return t}function Fo(){Eo.current=Yo,So=0,Io=ko=xo=Co=To=_o=null,No=0,Do=null,Oo=0,Ao=!1,Ro=null,Po=0}function Uo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ko?xo=ko=e:ko=ko.next=e,ko}function Bo(){if(null!==Io)Io=(ko=Io).next,Co=null!==(To=Co)?To.next:null;else{if(null===Co)throw a(Error(310));var e={memoizedState:(To=Co).memoizedState,baseState:To.baseState,queue:To.queue,baseUpdate:To.baseUpdate,next:null};ko=null===ko?xo=e:ko.next=e,Co=To.next}return ko}function zo(e,t){return"function"===typeof t?t(e):t}function qo(e){var t=Bo(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<Po){var r=n.dispatch;if(null!==Ro){var i=Ro.get(n);if(void 0!==i){Ro.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(ua=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<So?(l||(l=!0,u=s,i=o),f>No&&(No=f)):(Us(f,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),en(o,t.memoizedState)||(ua=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Do?(Do={lastEffect:null}).lastEffect=e.next=e:null===(t=Do.lastEffect)?Do.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Do.lastEffect=e),e}function Wo(e,t,n,r){var i=Uo();Oo|=e,i.memoizedState=Vo(t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Bo();r=void 0===r?null:r;var o=void 0;if(null!==To){var a=To.memoizedState;if(o=a.destroy,null!==r&&Lo(r,a.deps))return void Vo(ho,n,o,r)}Oo|=e,i.memoizedState=Vo(t,n,o,r)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(){}function Go(e,t,n){if(!(25>Po))throw a(Error(301));var r=e.alternate;if(e===_o||null!==r&&r===_o)if(Ao=!0,e={expirationTime:So,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Ro&&(Ro=new Map),void 0===(n=Ro.get(t)))Ro.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=xs(),o=Fi.suspense;o={expirationTime:i=ks(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,en(l,c))return}catch(f){}Ns(e,i)}}var Yo={readContext:Ci,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useResponder:Mo},Xo={readContext:Ci,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:function(e,t){return Wo(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,mo|vo,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4,mo|vo,e,t)},useMemo:function(e,t){var n=Uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Go.bind(null,_o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:function(e){var t=Uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e}).dispatch=Go.bind(null,_o,e),[t.memoizedState,e]},useDebugValue:Ko,useResponder:rn},$o={readContext:Ci,useCallback:function(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Ci,useEffect:function(e,t){return Ho(516,wo|bo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,mo|vo,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4,mo|vo,e,t)},useMemo:function(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Lo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:qo,useRef:function(){return Bo().memoizedState},useState:function(e){return qo(zo)},useDebugValue:Ko,useResponder:rn},Jo=null,Zo=null,ea=!1;function ta(e,t){var n=$s(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function na(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ra(e){if(ea){var t=Zo;if(t){var n=t;if(!na(e,t)){if(!(t=Cr(n.nextSibling))||!na(e,t))return e.effectTag|=2,ea=!1,void(Jo=e);ta(Jo,n)}Jo=e,Zo=Cr(t.firstChild)}else e.effectTag|=2,ea=!1,Jo=e}}function ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Jo=e}function oa(e){if(e!==Jo)return!1;if(!ea)return ia(e),ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sr(t,e.memoizedProps))for(t=Zo;t;)ta(e,t),t=Cr(t.nextSibling);return ia(e),Zo=Jo?Cr(e.stateNode.nextSibling):null,!0}function aa(){Zo=Jo=null,ea=!1}var sa=He.ReactCurrentOwner,ua=!1;function ca(e,t,n,r){t.child=null===e?$i(t,null,n,r):Xi(t,e.child,n,r)}function la(e,t,n,r,i){n=n.render;var o=t.ref;return Ti(t,i),r=jo(e,t,n,r,o,i),null===e||ua?(t.effectTag|=1,ca(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function fa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Js(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ha(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Sa(e,t,o):(t.effectTag|=1,(e=Zs(a,r)).ref=t.ref,e.return=t,t.child=e)}function ha(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(ua=!1,i<o)?Sa(e,t,o):da(e,t,n,r,o)}function pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function da(e,t,n,r,i){var o=Mr(n)?Rr:Or.current;return o=Pr(t,o),Ti(t,i),n=jo(e,t,n,r,o,i),null===e||ua?(t.effectTag|=1,ca(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sa(e,t,i))}function ma(e,t,n,r,i){if(Mr(n)){var o=!0;Br(t)}else o=!1;if(Ti(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Vi(t,n,r),Hi(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Pr(t,c=Mr(n)?Rr:Or.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wi(t,a,r,c),xi=!1;var h=t.memoizedState;u=a.state=h;var p=t.updateQueue;null!==p&&(Mi(t,p,r,a,i),u=t.memoizedState),s!==r||h!==u||Ar.current||xi?("function"===typeof l&&(Bi(t,n,l,r),u=t.memoizedState),(s=xi||qi(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:mi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ci(c):c=Pr(t,c=Mr(n)?Rr:Or.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wi(t,a,r,c),xi=!1,u=t.memoizedState,h=a.state=u,null!==(p=t.updateQueue)&&(Mi(t,p,r,a,i),h=t.memoizedState),s!==r||u!==h||Ar.current||xi?("function"===typeof l&&(Bi(t,n,l,r),h=t.memoizedState),(l=xi||qi(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ya(e,t,n,r,o,i)}function ya(e,t,n,r,i,o){pa(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&zr(t,n,!1),Sa(e,t,o);r=t.stateNode,sa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Xi(t,e.child,null,o),t.child=Xi(t,null,s,o)):ca(e,t,s,o),t.memoizedState=r.state,i&&zr(t,n,!0),t.child}function ga(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),ro(e,t.containerInfo)}var va={};function ba(e,t,n){var r,i=t.mode,o=t.pendingProps,a=lo.current,s=null,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(a&co)&&(null===e||null!==e.memoizedState)),r?(s=va,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=uo),Nr(lo,a&=so),null===e)if(u){if(o=o.fallback,(e=tu(null,i,0,null)).return=t,0===(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=tu(o,i,n,null)).return=t,e.sibling=n,i=e}else i=n=$i(t,null,o.children,n);else{if(null!==e.memoizedState)if(i=(a=e.child).sibling,u){if(o=o.fallback,(n=Zs(a,a.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=Zs(i,o,i.expirationTime)).return=t,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=Xi(t,a.child,o.children,n);else if(a=e.child,u){if(u=o.fallback,(o=tu(null,i,0,null)).return=t,o.child=a,null!==a&&(a.return=o),0===(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=tu(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=Xi(t,a,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,n}function wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ca(e,t,r.children,n),0!==((r=lo.current)&co))r=r&so|co,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),_i(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=so}if(Nr(lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}wa(t,!0,n,null,o);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Zs(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zs(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function _a(e){e.effectTag|=4}var Ta=void 0,Ca=void 0,xa=void 0,ka=void 0;function Ia(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Na(e){switch(e.tag){case 1:Mr(e.type)&&Lr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(io(),jr(),0!==(64&(t=e.effectTag)))throw a(Error(285));return e.effectTag=-2049&t|64,e;case 5:return ao(e),null;case 13:return Ir(lo),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Ir(lo),null;case 4:return io(),null;case 10:return Si(e),null;default:return null}}function Da(e,t){return{value:e,source:t,stack:lt(t)}}Ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},xa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(no(Zi.current),e=null,n){case"input":a=Et(s,a),r=Et(s,r),e=[];break;case"option":a=Jn(s,a),r=Jn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=er(s,a),r=er(s,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=vr)}mr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(p.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(p.hasOwnProperty(n)?(null!=l&&gr(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&_a(t)}},ka=function(e,t,n,r){n!==r&&_a(t)};var Oa="function"===typeof WeakSet?WeakSet:Set;function Aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function Ra(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Hs(e,n)}else t.current=null}function Pa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==ho){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==ho&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ma(e,t){switch("function"===typeof Ys&&Ys(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;ci(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Hs(i,o)}}t=t.next}while(t!==r)})}break;case 1:Ra(e),"function"===typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Hs(e,n)}}(e,t);break;case 5:Ra(e);break;case 4:Ua(e,t)}}function La(e,t){for(var n=e;;)if(Ma(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ja(e){return 5===e.tag||3===e.tag||4===e.tag}function Fa(e){e:{for(var t=e.return;null!==t;){if(ja(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(cr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ja(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=vr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ua(e,t){for(var n=e,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(La(n,t),o){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,La(n,t),o?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Ma(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Pa(mo,yo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[P]=r,"input"===e&&"radio"===r.type&&null!=r.name&&_t(n,r),yr(e,i),t=yr(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?pr(n,u):"dangerouslySetInnerHTML"===s?ur(n,u):"children"===s?cr(n,u):bt(n,s,u,t)}switch(e){case"input":Tt(n,r);break;case"textarea":nr(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Zn(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Zn(n,!!r.multiple,r.defaultValue,!0):Zn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,hs=ai()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=hr("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}za(t);break;case 19:za(t);break;case 17:case 20:break;default:throw a(Error(163))}}function za(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Oa),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=xs(),t=ks(n,e,null),n=di(n,t),null!==(e=Ds(e,t))&&Os(e,n,t)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var qa="function"===typeof WeakMap?WeakMap:Map;function Va(e,t,n){(n=Ni(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ms||(ms=!0,ys=r),Aa(e,t)},n}function Wa(e,t,n){(n=Ni(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Aa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===gs?gs=new Set([this]):gs.add(this),Aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ha=Math.ceil,Qa=He.ReactCurrentDispatcher,Ka=He.ReactCurrentOwner,Ga=0,Ya=8,Xa=16,$a=32,Ja=0,Za=1,es=2,ts=3,ns=4,rs=Ga,is=null,os=null,as=0,ss=Ja,us=1073741823,cs=1073741823,ls=null,fs=!1,hs=0,ps=500,ds=null,ms=!1,ys=null,gs=null,vs=!1,bs=null,ws=90,Es=0,Ss=null,_s=0,Ts=null,Cs=0;function xs(){return(rs&(Xa|$a))!==Ga?1073741821-(ai()/10|0):0!==Cs?Cs:Cs=1073741821-(ai()/10|0)}function ks(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=si();if(0===(4&t))return 99===r?1073741823:1073741822;if((rs&Xa)!==Ga)return as;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw a(Error(326))}return null!==is&&e===as&&--e,e}var Is=0;function Ns(e,t){if(50<_s)throw _s=0,Ts=null,a(Error(185));if(null!==(e=Ds(e,t))){e.pingTime=0;var n=si();if(1073741823===t)if((rs&Ya)!==Ga&&(rs&(Xa|$a))===Ga)for(var r=Fs(e,1073741823,!0);null!==r;)r=r(!0);else Os(e,99,1073741823),rs===Ga&&hi();else Os(e,n,t);(4&rs)===Ga||98!==n&&99!==n||(null===Ss?Ss=new Map([[e,t]]):(void 0===(n=Ss.get(e))||n>t)&&Ss.set(e,t))}}function Ds(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Os(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ei&&Wr(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=fi(As.bind(null,e,Fs.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-ai()}),e.callbackNode=li(t,As.bind(null,e,Fs.bind(null,e,n)),r))}}function As(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?As.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Rs(){(rs&(1|Xa|$a))===Ga&&(function(){if(null!==Ss){var e=Ss;Ss=null,e.forEach(function(e,t){fi(Fs.bind(null,t,e))}),hi()}}(),Vs())}function Ps(e,t){var n=rs;rs|=1;try{return e(t)}finally{(rs=n)===Ga&&hi()}}function Ms(e,t,n,r){var i=rs;rs|=4;try{return ci(98,e.bind(null,t,n,r))}finally{(rs=i)===Ga&&hi()}}function Ls(e,t){var n=rs;rs&=-2,rs|=Ya;try{return e(t)}finally{(rs=n)===Ga&&hi()}}function js(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tr(n)),null!==os)for(n=os.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&Lr();break;case 3:io(),jr();break;case 5:ao(r);break;case 4:io();break;case 13:case 19:Ir(lo);break;case 10:Si(r)}n=n.return}is=e,os=Zs(e.current,null),as=t,ss=Ja,cs=us=1073741823,ls=null,fs=!1}function Fs(e,t,n){if((rs&(Xa|$a))!==Ga)throw a(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return qs.bind(null,e);if(Vs(),e!==is||t!==as)js(e,t);else if(ss===ts)if(fs)js(e,t);else{var r=e.lastPendingTime;if(r<t)return Fs.bind(null,e,r)}if(null!==os){r=rs,rs|=Xa;var i=Qa.current;if(null===i&&(i=Yo),Qa.current=Yo,n){if(1073741823!==t){var o=xs();if(o<t)return rs=r,wi(),Qa.current=i,Fs.bind(null,e,o)}}else Cs=0;for(;;)try{if(n)for(;null!==os;)os=Bs(os);else for(;null!==os&&!Hr();)os=Bs(os);break}catch(m){if(wi(),Fo(),null===(o=os)||null===o.return)throw js(e,t),rs=r,m;e:{var s=e,u=o.return,c=o,l=m,f=as;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,p=0!==(lo.current&uo);l=u;do{var d;if((d=13===l.tag)&&(null!==l.memoizedState?d=!1:d=void 0!==(d=l.memoizedProps).fallback&&(!0!==d.unstable_avoidThisFallback||!p)),d){if(null===(u=l.updateQueue)?((u=new Set).add(h),l.updateQueue=u):u.add(h),0===(2&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((f=Ni(1073741823,null)).tag=2,Oi(c,f))),c.expirationTime=1073741823;break e}c=s,s=f,null===(p=c.pingCache)?(p=c.pingCache=new qa,u=new Set,p.set(h,u)):void 0===(u=p.get(h))&&(u=new Set,p.set(h,u)),u.has(s)||(u.add(s),c=Qs.bind(null,c,h,s),h.then(c,c)),l.effectTag|=2048,l.expirationTime=f;break e}l=l.return}while(null!==l);l=Error((ct(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}ss!==ns&&(ss=Za),l=Da(l,c),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=f,Ai(c,f=Va(c,l,f));break e;case 1:if(h=l,s=c.type,u=c.stateNode,0===(64&c.effectTag)&&("function"===typeof s.getDerivedStateFromError||null!==u&&"function"===typeof u.componentDidCatch&&(null===gs||!gs.has(u)))){c.effectTag|=2048,c.expirationTime=f,Ai(c,f=Wa(c,h,f));break e}}c=c.return}while(null!==c)}os=zs(o)}if(rs=r,wi(),Qa.current=i,null!==os)return Fs.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(li(97,function(){return n._onComplete(),null}),!0)}(e,t))return null;switch(is=null,ss){case Ja:throw a(Error(328));case Za:return(r=e.lastPendingTime)<t?Fs.bind(null,e,r):n?qs.bind(null,e):(js(e,t),fi(Fs.bind(null,e,t)),null);case es:return 1073741823===us&&!n&&10<(n=hs+ps-ai())?fs?(js(e,t),Fs.bind(null,e,t)):(r=e.lastPendingTime)<t?Fs.bind(null,e,r):(e.timeoutHandle=_r(qs.bind(null,e),n),null):qs.bind(null,e);case ts:if(!n){if(fs)return js(e,t),Fs.bind(null,e,t);if((n=e.lastPendingTime)<t)return Fs.bind(null,e,n);if(1073741823!==cs?n=10*(1073741821-cs)-ai():1073741823===us?n=0:(n=10*(1073741821-us)-5e3,0>(n=(r=ai())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ha(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=_r(qs.bind(null,e),n),null}return qs.bind(null,e);case ns:return!n&&1073741823!==us&&null!==ls&&(r=us,0>=(t=0|(i=ls).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=ai()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=_r(qs.bind(null,e),t),null):qs.bind(null,e);default:throw a(Error(329))}}function Us(e,t){e<us&&1<e&&(us=e),null!==t&&e<cs&&1<e&&(cs=e,ls=t)}function Bs(e){var t=Ks(e.alternate,e,as);return e.memoizedProps=e.pendingProps,null===t&&(t=zs(e)),Ka.current=null,t}function zs(e){os=e;do{var t=os.alternate;if(e=os.return,0===(1024&os.effectTag)){e:{var n=t,r=as,o=(t=os).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&Lr();break;case 3:io(),jr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(oa(t),t.effectTag&=-3),Ca(t);break;case 5:ao(t),r=no(to.current);var s=t.type;if(null!==n&&null!=t.stateNode)xa(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=no(Zi.current);if(oa(t)){o=void 0,s=(n=t).stateNode;var c=n.type,l=n.memoizedProps;switch(s[R]=n,s[P]=l,c){case"iframe":case"object":case"embed":Pn("load",s);break;case"video":case"audio":for(var f=0;f<te.length;f++)Pn(te[f],s);break;case"source":Pn("error",s);break;case"img":case"image":case"link":Pn("error",s),Pn("load",s);break;case"form":Pn("reset",s),Pn("submit",s);break;case"details":Pn("toggle",s);break;case"input":St(s,l),Pn("invalid",s),gr(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Pn("invalid",s),gr(r,"onChange");break;case"textarea":tr(s,l),Pn("invalid",s),gr(r,"onChange")}for(o in mr(c,l),f=null,l)l.hasOwnProperty(o)&&(u=l[o],"children"===o?"string"===typeof u?s.textContent!==u&&(f=["children",u]):"number"===typeof u&&s.textContent!==""+u&&(f=["children",""+u]):p.hasOwnProperty(o)&&null!=u&&gr(r,o));switch(c){case"input":Ve(s),Ct(s,l,!0);break;case"textarea":Ve(s),rr(s);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(s.onclick=vr)}r=f,n.updateQueue=r,null!==r&&_a(t)}else{l=s,n=o,c=t,f=9===r.nodeType?r:r.ownerDocument,u===ir.html&&(u=or(l)),u===ir.html?"script"===l?((l=f.createElement("div")).innerHTML="<script><\/script>",f=l.removeChild(l.firstChild)):"string"===typeof n.is?f=f.createElement(l,{is:n.is}):(f=f.createElement(l),"select"===l&&(l=f,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):f=f.createElementNS(u,l),(l=f)[R]=c,l[P]=n,Ta(n=l,t,!1,!1),c=n;var h=r,d=yr(s,o);switch(s){case"iframe":case"object":case"embed":Pn("load",c),r=o;break;case"video":case"audio":for(r=0;r<te.length;r++)Pn(te[r],c);r=o;break;case"source":Pn("error",c),r=o;break;case"img":case"image":case"link":Pn("error",c),Pn("load",c),r=o;break;case"form":Pn("reset",c),Pn("submit",c),r=o;break;case"details":Pn("toggle",c),r=o;break;case"input":St(c,o),r=Et(c,o),Pn("invalid",c),gr(h,"onChange");break;case"option":r=Jn(c,o);break;case"select":c._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),Pn("invalid",c),gr(h,"onChange");break;case"textarea":tr(c,o),r=er(c,o),Pn("invalid",c),gr(h,"onChange");break;default:r=o}mr(s,r),l=void 0,f=s,u=c;var m=r;for(l in m)if(m.hasOwnProperty(l)){var y=m[l];"style"===l?pr(u,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&ur(u,y):"children"===l?"string"===typeof y?("textarea"!==f||""!==y)&&cr(u,y):"number"===typeof y&&cr(u,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=y&&gr(h,l):null!=y&&bt(u,l,y,d))}switch(s){case"input":Ve(c),Ct(c,o,!1);break;case"textarea":Ve(c),rr(c);break;case"option":null!=o.value&&c.setAttribute("value",""+wt(o.value));break;case"select":r=c,c=o,r.multiple=!!c.multiple,null!=(l=c.value)?Zn(r,!!c.multiple,l,!1):null!=c.defaultValue&&Zn(r,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof r.onClick&&(c.onclick=vr)}Er(s,o)&&_a(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)ka(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));n=no(to.current),no(Zi.current),oa(t)?(r=t.stateNode,n=t.memoizedProps,r[R]=t,r.nodeValue!==n&&_a(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[R]=t,r.stateNode=n)}break;case 11:break;case 13:if(Ir(lo),o=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?oa(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(lo.current&uo)?ss===Ja&&(ss=es):ss!==Ja&&ss!==es||(ss=ts)),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:io(),Ca(t);break;case 10:Si(t);break;case 9:case 14:break;case 17:Mr(t.type)&&Lr();break;case 18:break;case 19:if(Ir(lo),null===(o=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(c=o.rendering)){if(s)Ia(o,!1);else if(ss!==Ja||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=fo(n))){for(t.effectTag|=64,Ia(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,s=c.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Nr(lo,lo.current&so|co),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=fo(c))){if(t.effectTag|=64,s=!0,Ia(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else ai()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Ia(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ai()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,n=lo.current,Nr(lo,n=s?n&so|co:n&so),t=r;break e}break;case 20:break;default:throw a(Error(156))}t=null}if(r=os,1===as||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(c=o.childExpirationTime)>n&&(n=c),o=o.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=os.firstEffect),null!==os.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=os.firstEffect),e.lastEffect=os.lastEffect),1<os.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=os:e.firstEffect=os,e.lastEffect=os))}else{if(null!==(t=Na(os)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=os.sibling))return t;os=e}while(null!==os);return ss===Ja&&(ss=ns),null}function qs(e){var t=si();return ci(99,function(e,t){if(Vs(),(rs&(Xa|$a))!==Ga)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===is&&(os=is=null,as=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=rs,rs|=$a,Ka.current=null,br=Rn;var s=qn();if(Vn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(U){u=null;break e}var h=0,p=-1,d=-1,m=0,y=0,g=s,v=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=h+l),g!==f||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)v=g,g=b;for(;;){if(g===s)break t;if(v===u&&++m===l&&(p=h),v===f&&++y===c&&(d=h),null!==(b=g.nextSibling))break;v=(g=v).parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;wr={focusedElem:s,selectionRange:u},Rn=!1,ds=i;do{try{for(;null!==ds;){if(0!==(256&ds.effectTag)){var w=ds.alternate;switch((s=ds).tag){case 0:case 11:case 15:Pa(po,ho,s);break;case 1:if(256&s.effectTag&&null!==w){var E=w.memoizedProps,S=w.memoizedState,_=s.stateNode,T=_.getSnapshotBeforeUpdate(s.elementType===s.type?E:mi(s.type,E),S);_.__reactInternalSnapshotBeforeUpdate=T}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}ds=ds.nextEffect}}catch(U){if(null===ds)throw a(Error(330));Hs(ds,U),ds=ds.nextEffect}}while(null!==ds);ds=i;do{try{for(w=t;null!==ds;){var C=ds.effectTag;if(16&C&&cr(ds.stateNode,""),128&C){var x=ds.alternate;if(null!==x){var k=x.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(14&C){case 2:Fa(ds),ds.effectTag&=-3;break;case 6:Fa(ds),ds.effectTag&=-3,Ba(ds.alternate,ds);break;case 4:Ba(ds.alternate,ds);break;case 8:Ua(E=ds,w),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var I=E.alternate;null!==I&&(I.return=null,I.child=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null)}ds=ds.nextEffect}}catch(U){if(null===ds)throw a(Error(330));Hs(ds,U),ds=ds.nextEffect}}while(null!==ds);if(k=wr,x=qn(),C=k.focusedElem,w=k.selectionRange,x!==C&&C&&C.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(C.ownerDocument.documentElement,C)){null!==w&&Vn(C)&&(x=w.start,void 0===(k=w.end)&&(k=x),"selectionStart"in C?(C.selectionStart=x,C.selectionEnd=Math.min(k,C.value.length)):(k=(x=C.ownerDocument||document)&&x.defaultView||window).getSelection&&(k=k.getSelection(),E=C.textContent.length,I=Math.min(w.start,E),w=void 0===w.end?I:Math.min(w.end,E),!k.extend&&I>w&&(E=w,w=I,I=E),E=zn(C,I),S=zn(C,w),E&&S&&(1!==k.rangeCount||k.anchorNode!==E.node||k.anchorOffset!==E.offset||k.focusNode!==S.node||k.focusOffset!==S.offset)&&((x=x.createRange()).setStart(E.node,E.offset),k.removeAllRanges(),I>w?(k.addRange(x),k.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),k.addRange(x))))),x=[];for(k=C;k=k.parentNode;)1===k.nodeType&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<x.length;C++)(k=x[C]).element.scrollLeft=k.left,k.element.scrollTop=k.top}wr=null,Rn=!!br,br=null,e.current=n,ds=i;do{try{for(C=r;null!==ds;){var N=ds.effectTag;if(36&N){var D=ds.alternate;switch(k=C,(x=ds).tag){case 0:case 11:case 15:Pa(go,vo,x);break;case 1:var O=x.stateNode;if(4&x.effectTag)if(null===D)O.componentDidMount();else{var A=x.elementType===x.type?D.memoizedProps:mi(x.type,D.memoizedProps);O.componentDidUpdate(A,D.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var R=x.updateQueue;null!==R&&Li(0,R,O);break;case 3:var P=x.updateQueue;if(null!==P){if(I=null,null!==x.child)switch(x.child.tag){case 5:I=x.child.stateNode;break;case 1:I=x.child.stateNode}Li(0,P,I)}break;case 5:var M=x.stateNode;null===D&&4&x.effectTag&&(k=M,Er(x.type,x.memoizedProps)&&k.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&N){var L=ds.ref;if(null!==L){var j=ds.stateNode;switch(ds.tag){case 5:var F=j;break;default:F=j}"function"===typeof L?L(F):L.current=F}}512&N&&(vs=!0),ds=ds.nextEffect}}catch(U){if(null===ds)throw a(Error(330));Hs(ds,U),ds=ds.nextEffect}}while(null!==ds);ds=null,ti(),rs=o}else e.current=n;if(vs)vs=!1,bs=e,Es=r,ws=t;else for(ds=i;null!==ds;)t=ds.nextEffect,ds.nextEffect=null,ds=t;if(0!==(t=e.firstPendingTime)?(N=di(N=xs(),t),Os(e,N,t)):gs=null,"function"===typeof Gs&&Gs(n.stateNode,r),1073741823===t?e===Ts?_s++:(_s=0,Ts=e):_s=0,ms)throw ms=!1,e=ys,ys=null,e;return(rs&Ya)!==Ga?null:(hi(),null)}.bind(null,e,t)),null!==bs&&li(97,function(){return Vs(),null}),null}function Vs(){if(null===bs)return!1;var e=bs,t=Es,n=ws;return bs=null,Es=0,ws=90,ci(97<n?97:n,function(e){if((rs&(Xa|$a))!==Ga)throw a(Error(331));var t=rs;for(rs|=$a,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Pa(wo,ho,n),Pa(ho,bo,n)}}catch(r){if(null===e)throw a(Error(330));Hs(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return rs=t,hi(),!0}.bind(null,e,t))}function Ws(e,t,n){Oi(e,t=Va(e,t=Da(n,t),1073741823)),null!==(e=Ds(e,1073741823))&&Os(e,99,1073741823)}function Hs(e,t){if(3===e.tag)Ws(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ws(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===gs||!gs.has(r))){Oi(n,e=Wa(n,e=Da(t,e),1073741823)),null!==(n=Ds(n,1073741823))&&Os(n,99,1073741823);break}}n=n.return}}function Qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),is===e&&as===n?ss===ts||ss===es&&1073741823===us&&ai()-hs<ps?js(e,as):fs=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Os(e,t=di(t=xs(),n),n)))}var Ks=void 0;Ks=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ar.current)ua=!0;else if(r<n){switch(ua=!1,t.tag){case 3:ga(t),aa();break;case 5:if(oo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Mr(t.type)&&Br(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:Ei(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ba(e,t,n):(Nr(lo,lo.current&so),null!==(t=Sa(e,t,n))?t.sibling:null);Nr(lo,lo.current&so);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Nr(lo,lo.current),!r)return null}return Sa(e,t,n)}}else ua=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Pr(t,Or.current),Ti(t,n),i=jo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Fo(),Mr(r)){var o=!0;Br(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&Bi(t,r,s,e),i.updater=zi,t.stateNode=i,i._reactInternalFiber=t,Hi(t,r,e,n),t=ya(null,t,r,!0,o,n)}else t.tag=0,ca(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Js(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===nt)return 11;if(e===ot)return 14}return 2}(i),e=mi(i,e),o){case 0:t=da(null,t,i,e,n);break;case 1:t=ma(null,t,i,e,n);break;case 11:t=la(null,t,i,e,n);break;case 14:t=fa(null,t,i,mi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,da(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ma(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 3:if(ga(t),null===(r=t.updateQueue))throw a(Error(282));return i=null!==(i=t.memoizedState)?i.element:null,Mi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(aa(),t=Sa(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Zo=Cr(t.stateNode.containerInfo.firstChild),Jo=t,i=ea=!0),i?(t.effectTag|=2,t.child=$i(t,null,r,n)):(ca(e,t,r,n),aa()),t=t.child),t;case 5:return oo(t),null===e&&ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Sr(r,i)?s=null:null!==o&&Sr(r,o)&&(t.effectTag|=16),pa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ca(e,t,s,n),t=t.child),t;case 6:return null===e&&ra(t),null;case 13:return ba(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):ca(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,la(e,t,r,i=t.elementType===r?i:mi(r,i),n);case 7:return ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Ei(t,o=i.value),null!==s){var u=s.value;if(0===(o=en(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Ar.current){t=Sa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=Ni(n,null)).tag=2,Oi(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),_i(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}ca(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ti(t,n),r=r(i=Ci(i,o.unstable_observedBits)),t.effectTag|=1,ca(e,t,r,n),t.child;case 14:return o=mi(i=t.type,t.pendingProps),fa(e,t,i,o=mi(i.type,o),r,n);case 15:return ha(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,Br(t)):e=!1,Ti(t,n),Vi(t,r,i),Hi(t,r,i,n),ya(null,t,r,!0,e,n);case 19:return Ea(e,t,n)}throw a(Error(156))};var Gs=null,Ys=null;function Xs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $s(e,t,n,r){return new Xs(e,t,n,r)}function Js(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zs(e,t){var n=e.alternate;return null===n?((n=$s(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Js(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Xe:return tu(n.children,i,o,t);case tt:s=8,i|=7;break;case $e:s=8,i|=1;break;case Je:return(e=$s(12,n,t,8|i)).elementType=Je,e.type=Je,e.expirationTime=o,e;case rt:return(e=$s(13,n,t,i)).type=rt,e.elementType=rt,e.expirationTime=o,e;case it:return(e=$s(19,n,t,i)).elementType=it,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Ze:s=10;break e;case et:s=9;break e;case nt:s=11;break e;case ot:s=14;break e;case at:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=$s(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function tu(e,t,n,r){return(e=$s(7,e,r,t)).expirationTime=n,e}function nu(e,t,n){return(e=$s(6,e,null,t)).expirationTime=n,e}function ru(e,t,n){return(t=$s(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ou(e,t,n){return e=new iu(e,t,n),t=$s(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function au(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(Mr(c)){n=Ur(n,c,u);break e}}n=u}else n=Dr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=Ni(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Oi(s,i),Ns(s,r),r}function su(e,t,n,r){var i=t.current,o=xs(),a=Fi.suspense;return au(e,t,n,i=ks(o,i,a),a,r)}function uu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function cu(e){var t=1073741821-25*(1+((1073741821-xs()+500)/25|0));t<=Is&&--t,this._expirationTime=Is=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function lu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function fu(e,t,n){this._internalRoot=ou(e,t,n)}function hu(e,t){this._internalRoot=ou(e,2,t)}function pu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function du(e,t,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=uu(a);s.call(e)}}su(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new fu(e,0,t)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=uu(a);u.call(e)}}Ls(function(){su(t,a,e,i)})}return uu(a)}function mu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!pu(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}xe=function(e,t,n){switch(t){case"input":if(Tt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=F(r);if(!i)throw a(Error(90));We(r),Tt(r,i)}}}break;case"textarea":nr(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},cu.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new lu;return au(e,t,null,n,null,r._onCommit),r},cu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},cu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(rs&(Xa|$a))!==Ga)throw a(Error(253));fi(Fs.bind(null,e,t)),hi(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},cu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},lu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},lu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},hu.prototype.render=fu.prototype.render=function(e,t){var n=this._internalRoot,r=new lu;return null!==(t=void 0===t?null:t)&&r.then(t),su(e,n,null,r._onCommit),r},hu.prototype.unmount=fu.prototype.unmount=function(e){var t=this._internalRoot,n=new lu;return null!==(e=void 0===e?null:e)&&n.then(e),su(null,t,null,n._onCommit),n},hu.prototype.createBatch=function(){var e=new cu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ae=Ps,Re=Ms,Pe=Rs,Me=function(e,t){var n=rs;rs|=2;try{return e(t)}finally{(rs=n)===Ga&&hi()}};var yu={createPortal:mu,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=sn(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!pu(t))throw a(Error(200));return du(null,e,t,!0,n)},render:function(e,t,n){if(!pu(t))throw a(Error(200));return du(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!pu(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return du(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!pu(e))throw a(Error(40));return!!e._reactRootContainer&&(Ls(function(){du(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return mu.apply(void 0,arguments)},unstable_batchedUpdates:Ps,unstable_interactiveUpdates:function(e,t,n,r){return Rs(),Ms(e,t,n,r)},unstable_discreteUpdates:Ms,unstable_flushDiscreteUpdates:Rs,flushSync:function(e,t){if((rs&(Xa|$a))!==Ga)throw a(Error(187));var n=rs;rs|=1;try{return ci(99,e.bind(null,t))}finally{rs=n,hi()}},unstable_createRoot:function(e,t){if(!pu(e))throw a(Error(299),"unstable_createRoot");return new hu(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!pu(e))throw a(Error(299),"unstable_createRoot");return new fu(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs|=1;try{ci(99,e)}finally{(rs=t)===Ga&&hi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,j,F,D.injectEventPluginsByName,h,W,function(e){x(e,V)},De,Oe,Ln,N,Vs,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Gs=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ys=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:M,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var gu={default:yu},vu=gu&&yu||gu;e.exports=vu.default||vu},function(e,t,n){"use strict";e.exports=n(73)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};t.unstable_now=function(){return Date.now()},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,d=window.clearTimeout,m=window.requestAnimationFrame,y=window.cancelAnimationFrame;"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"===typeof f&&"function"===typeof f.now?function(){return f.now()}:function(){return h.now()};var g=!1,v=null,b=-1,w=-1,E=33.33,S=-1,_=-1,T=0,C=!1;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(E=Math.floor(1e3/e),C=!0):(E=33.33,C=!1)};var x=function(){if(null!==v){var e=t.unstable_now(),n=0<T-e;try{v(n,e)||(v=null)}catch(r){throw I.postMessage(null),r}}},k=new MessageChannel,I=k.port2;k.port1.onmessage=x;r=function(e){v=e,g||(g=!0,m(function(e){!function e(n){if(null===v)_=S=-1,g=!1;else{g=!0,m(function(t){d(b),e(t)});if(b=p(function e(){T=t.unstable_now()+E/2,x(),b=p(e,3*E)},3*E),-1!==S&&.1<n-S){var r=n-S;!C&&-1!==_&&r<E&&_<E&&(8.33>(E=r<_?_:r)&&(E=8.33)),_=r}S=n,T=n+E,I.postMessage(null)}}(e)}))},i=function(e,n){w=p(function(){e(t.unstable_now())},n)},o=function(){d(w),w=-1}}var N=null,D=null,O=null,A=3,R=!1,P=!1,M=!1;function L(e,t){var n=e.next;if(n===e)N=null;else{e===N&&(N=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=A;var i=O;A=e.priorityLevel,O=e;try{var o=e.expirationTime<=t;switch(A){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(s){throw s}finally{A=r,O=i}if("function"===typeof a)if(t=e.expirationTime,e.callback=a,null===N)N=e.next=e.previous=e;else{a=null,o=N;do{if(t<=o.expirationTime){a=o;break}o=o.next}while(o!==N);null===a?a=N:a===N&&(N=e),(t=a.previous).next=a.previous=e,e.next=a,e.previous=t}}function j(e){if(null!==D&&D.startTime<=e)do{var t=D,n=t.next;if(t===n)D=null;else{D=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,z(t,t.expirationTime)}while(null!==D&&D.startTime<=e)}function F(e){M=!1,j(e),P||(null!==N?(P=!0,r(U)):null!==D&&i(F,D.startTime-e))}function U(e,n){P=!1,M&&(M=!1,o()),j(n),R=!0;try{if(e){if(null!==N)do{L(N,n),j(n=t.unstable_now())}while(null!==N&&!a())}else for(;null!==N&&N.expirationTime<=n;)L(N,n),j(n=t.unstable_now());return null!==N||(null!==D&&i(F,D.startTime-n),!1)}finally{R=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function z(e,t){if(null===N)N=e.next=e.previous=e;else{var n=null,r=N;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==N);null===n?n=N:n===N&&(N=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var q=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===D)D=e.next=e.previous=e;else{n=null;var c=D;do{if(a<c.startTime){n=c;break}c=c.next}while(c!==D);null===n?n=D:n===D&&(D=e),(a=n.previous).next=n.previous=e,e.next=n,e.previous=a}null===N&&D===e&&(M?o():M=!0,i(F,u-s))}else z(e,a),P||R||(P=!0,r(U));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===N?N=null:e===D&&(D=null);else{e===N?N=t:e===D&&(D=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();return j(e),null!==O&&null!==N&&N.startTime<=e&&N.expirationTime<O.expirationTime||a()},t.unstable_requestPaint=q,t.unstable_continueExecution=function(){P||R||(P=!0,r(U))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return N}},function(e,t,n){},,,function(e,t,n){"use strict";var r=n(78);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(0)),o=l(n(1)),a=n(45),s=n(80),u=n(29),c=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,u=o.rowHeight,c=this.calcColWidth(),l={left:Math.round((c+a[0])*e+s[0]),top:Math.round((u+a[1])*t+s[1]),width:n===1/0?n:Math.round(c*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(u*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(l.width=Math.round(i.resizing.width),l.height=Math.round(i.resizing.height)),i&&i.dragging&&(l.top=Math.round(i.dragging.top),l.left=Math.round(i.dragging.left)),l},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,u=n.maxRows,c=this.calcColWidth(),l=Math.round((t-r[0])/(c+r[0])),f=Math.round((e-r[1])/(o+r[1]));return{x:l=Math.max(Math.min(l,i-a),0),y:f=Math.max(Math.min(f,u-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,u=r.x,c=r.y,l=this.calcColWidth(),f=Math.round((n+i[0])/(l+i[0])),h=Math.round((t+i[1])/(s+i[1]));return{w:f=Math.max(Math.min(f,a-u),0),h:h=Math.max(Math.min(h,o-c),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,u.setTransform)(e):(i=(0,u.setTopLeft)(e),n&&(i.left=(0,u.perc)(e.left/r),i.width=(0,u.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,a=n.minW,u=n.minH,c=n.maxW,l=n.maxH,f=this.calcPosition(0,0,r-o,0).width,h=this.calcPosition(0,0,a,u),p=this.calcPosition(0,0,c,l),d=[h.width,h.height],m=[Math.min(p.width,f),Math.min(p.height,1/0)];return i.default.createElement(s.Resizable,{width:t.width,height:t.height,minConstraints:d,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var u={top:0,left:0};switch(e){case"onDragStart":var c=i.offsetParent;if(!c)return;var l=c.getBoundingClientRect(),f=i.getBoundingClientRect();u.left=f.left-l.left+c.scrollLeft,u.top=f.top-l.top+c.scrollTop,t.setState({dragging:u});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");u.left=t.state.dragging.left+o,u.top=t.state.dragging.top+a,t.setState({dragging:u});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");u.left=t.state.dragging.left,u.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var h=t.calcXY(u.top,u.left),p=h.x,d=h.y;return s.call(t,t.props.i,p,d,{e:n,node:i,newPosition:u})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,u=s.cols,c=s.x,l=s.i,f=s.maxW,h=s.minW,p=s.maxH,d=s.minH,m=t.calcWH(o),y=m.w,g=m.h;y=Math.min(y,u-c),y=Math.max(y,1),y=Math.max(Math.min(y,f),h),g=Math.max(Math.min(g,p),d),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,l,y,g,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,s=e.isDraggable,u=e.isResizable,l=e.useCSSTransforms,f=this.calcPosition(t,n,o,a,this.state),h=i.default.Children.only(this.props.children),p=i.default.cloneElement(h,{className:(0,c.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":s,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:l}),style:r({},this.props.style,h.props.style,this.createStyle(f))});return u&&(p=this.mixinResizable(p,f)),s&&(p=this.mixinDraggable(p)),p},t}(i.default.Component);h.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},h.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=h},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(46).default,e.exports.ResizableBox=n(82).default},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.style&&e.props.style&&(t.style=i({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(0)),o=s(n(1)),a=s(n(46));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height;r.props.onResize?(e.persist&&e.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(e,t)})):r.setState(n)},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),s=e.onResizeStop,u=e.draggableOpts,c=e.minConstraints,l=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,p=(e.width,e.height,e.resizeHandles),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:u,minConstraints:c,maxConstraints:l,lockAspectRatio:f,axis:h,resizeHandles:p},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},d)))},t}(i.default.Component);c.propTypes={height:o.default.number,width:o.default.number},c.defaultProps={handleSize:[20,20]},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(0)),o=l(n(1)),a=l(n(35)),s=n(29),u=n(47),c=l(n(43));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return Object.prototype.toString.call(e)},p=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=f(this,e.call.apply(e,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(e){var t;i.props.onLayoutChange(e,r({},i.props.layouts,((t={})[i.state.breakpoint]=e,t)))},f(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,u.getBreakpointFromWidth)(n,t),a=(0,u.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,u.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,u.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,u.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var c=(0,u.getColsFromBreakpoint)(o,n),l=(0,u.findOrGenerateResponsiveLayout)(r,t,o,a,c,i);l=(0,s.synchronizeLayoutWithChildren)(l,e.children,c,i),r[o]=l,this.props.onLayoutChange(l,r),this.props.onBreakpointChange(o,c),this.props.onWidthChange(e.width,e.margin,c,e.containerPadding),this.setState({breakpoint:o,layout:l,cols:c})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return i.default.createElement(c.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(i.default.Component);p.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(e,t){if("[object Object]"!==h(e[t]))throw new Error("Layout property must be an object. Received: "+h(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)})},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},p.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},t.default=p},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},u(r,e)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(e,r({},o,this.state))},n}(i.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:o.default.bool},n};var i=s(n(0)),o=s(n(1)),a=s(n(23));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";var r=n(48).forEach,i=n(86),o=n(87),a=n(88),s=n(89),u=n(90),c=n(49),l=n(91),f=n(93),h=n(94),p=n(95);function d(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,function(e){t.push(e)}),t}function y(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return void 0!==r&&null!==r||void 0===n?r:n}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),v=s({idGenerator:n,stateHandler:f});t=v}var b=e.reporter;b||(b=u(!1===b));var w=g(e,"batchProcessor",l({reporter:b})),E={};E.callOnAdd=!!g(e,"callOnAdd",!0),E.debug=!!g(e,"debug",!1);var S,_=o(t),T=i({stateHandler:f}),C=g(e,"strategy","object"),x={reporter:b,batchProcessor:w,stateHandler:f,idHandler:t};if("scroll"===C&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),C="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),C="object")),"scroll"===C)S=p(x);else{if("object"!==C)throw new Error("Invalid strategy name: "+C);S=h(x)}var k={};return{listenTo:function(e,n,i){function o(e){var t=_.get(e);r(t,function(t){t(e)})}function a(e,t,n){_.add(t,n),e&&n(t)}if(i||(i=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(y(n))n=[n];else{if(!d(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,u=g(e,"callOnAdd",E.callOnAdd),c=g(e,"onReady",function(){}),l=g(e,"debug",E.debug);r(n,function(e){f.getState(e)||(f.initState(e),t.set(e));var h=t.get(e);if(l&&b.log("Attaching listener to element",h,e),!T.isDetectable(e))return l&&b.log(h,"Not detectable."),T.isBusy(e)?(l&&b.log(h,"System busy making it detectable"),a(u,e,i),k[h]=k[h]||[],void k[h].push(function(){++s===n.length&&c()})):(l&&b.log(h,"Making detectable..."),T.markBusy(e,!0),S.makeDetectable({debug:l},e,function(e){if(l&&b.log(h,"onElementDetectable"),f.getState(e)){T.markAsDetectable(e),T.markBusy(e,!1),S.addListener(e,o),a(u,e,i);var t=f.getState(e);if(t&&t.startSize){var p=e.offsetWidth,d=e.offsetHeight;t.startSize.width===p&&t.startSize.height===d||o(e)}k[h]&&r(k[h],function(e){e()})}else l&&b.log(h,"Element uninstalled before being detectable.");delete k[h],++s===n.length&&c()}));l&&b.log(h,"Already detecable, adding listener."),a(u,e,i),s++}),s===n.length&&c()},removeListener:_.removeListener,removeAllListeners:_.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(y(e))e=[e];else{if(!d(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,function(e){_.removeAllListeners(e),S.uninstall(e),f.cleanState(e)})}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}},function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},function(e,t,n){"use strict";var r=n(92);function i(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++){(0,i[o])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),o=r.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=i(),u=!1;function c(){for(u=!0;s.size();){var e=s;s=i(),e.process()}u=!1}function l(){a=function(e){return t=e,setTimeout(t,0);var t}(c)}return{add:function(e,t){!u&&o&&n&&0===s.size()&&l(),s.add(e,t)},force:function(e){u||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?l():c())}}}},function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if((void 0===r||null===r)&&void 0!==n)return n;return r}},function(e,t,n){"use strict";var r="_erd";function i(e){return e[r]}e.exports={initState:function(e){return e[r]={},i(e)},getState:i,cleanState:function(e){delete e[r]}}},function(e,t,n){"use strict";var r=n(49);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(e){return i(e).object}return{makeDetectable:function(e,o,a){a||(a=o,o=e,e=null),(e=e||{}).debug,r.isIE(8)?a(o):function(e,o){var a="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",s=!1,u=window.getComputedStyle(e),c=e.offsetWidth,l=e.offsetHeight;function f(){function n(){if("static"===u.position){e.style.position="relative";var n=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};n(t,e,u,"top"),n(t,e,u,"right"),n(t,e,u,"bottom"),n(t,e,u,"left")}}""!==u.position&&(n(),s=!0);var c=document.createElement("object");c.style.cssText=a,c.tabIndex=-1,c.type="text/html",c.setAttribute("aria-hidden","true"),c.onload=function(){s||n(),function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout(function(){e(t,n)},100)}(this,function(t){o(e)})},r.isIE()||(c.data="about:blank"),e.appendChild(c),i(e).object=c,r.isIE()&&(c.data="about:blank")}i(e).startSize={width:c,height:l},n?n.add(f):f()}(o,a)},addListener:function(e,t){if(!o(e))throw new Error("Element is not detectable by this strategy.");function n(){t(e)}r.isIE(8)?(i(e).object={proxy:n},e.attachEvent("onresize",n)):o(e).contentDocument.defaultView.addEventListener("resize",n)},uninstall:function(e){r.isIE(8)?e.detachEvent("onresize",i(e).object.proxy):e.removeChild(o(e)),delete i(e).object}}}},function(e,t,n){"use strict";var r=n(48).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}(),s="erd_scroll_detection_container";function u(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function c(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function l(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function f(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var n=t+"_animation",r="/* Created by the element-resize-detector library. */\n";r+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",r+="."+(t+"_animation_active")+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+n+"; animation-name: "+n+"; }\n",r+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,n){n=n||function(e){document.head.appendChild(e)};var r=document.createElement("style");r.innerHTML=t,r.id=e,n(r)}(r+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",s),{makeDetectable:function(e,c,h){function p(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function d(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function m(){var e=window.getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function y(){if(p("storeStyle invoked."),i(c)){var e=m();i(c).style=e}else p("Aborting because element has been uninstalled")}function g(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function v(){return 2*a.width+1}function b(){return 2*a.height+1}function w(e){return e+10+v()}function E(e){return e+10+b()}function S(e,t,n){var r=l(e),i=f(e),o=w(t),a=E(n),s=function(e){return 2*e+v()}(t),u=function(e){return 2*e+b()}(n);r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=u}function _(){var e=i(c).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",i(c).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),c.appendChild(e);var t=function(){i(c).onRendered&&i(c).onRendered()};u(e,"animationstart",t),i(c).onAnimationStart=t}return e}function T(){if(p("Injecting elements"),i(c)){!function(){var e=i(c).style;if("static"===e.position){c.style.position="relative";var n=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};n(t,c,e,"top"),n(t,c,e,"right"),n(t,c,e,"bottom"),n(t,c,e,"left")}}();var e=i(c).container;e||(e=_());var n,r,o,l,f=a.width,h=a.height,d="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+("left: "+(n=(n=-(1+f))?n+"px":"0")+"; top: "+(r=(r=-(1+h))?r+"px":"0")+"; right: "+(l=(l=-f)?l+"px":"0")+"; bottom: "+(o=(o=-h)?o+"px":"0")+";"),m=document.createElement("div"),y=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div");m.dir="ltr",m.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",m.className=s,y.className=s,y.style.cssText=d,g.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",v.style.cssText="position: absolute; left: 0; top: 0;",b.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",w.style.cssText="position: absolute; width: 200%; height: 200%;",g.appendChild(v),b.appendChild(w),y.appendChild(g),y.appendChild(b),m.appendChild(y),e.appendChild(m),u(g,"scroll",E),u(b,"scroll",S),i(c).onExpandScroll=E,i(c).onShrinkScroll=S}else p("Aborting because element has been uninstalled");function E(){i(c).onExpand&&i(c).onExpand()}function S(){i(c).onShrink&&i(c).onShrink()}}function C(){function a(e,t,n){var r=function(e){return l(e).childNodes[0]}(e),i=w(t),o=E(n);r.style.width=i+"px",r.style.height=o+"px"}function s(r){var s=c.offsetWidth,l=c.offsetHeight;p("Storing current size",s,l),g(c,s,l),n.add(0,function(){if(i(c))if(u()){if(e.debug){var n=c.offsetWidth,r=c.offsetHeight;n===s&&r===l||t.warn(o.get(c),"Scroll: Size changed before updating detector elements.")}a(c,s,l)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")}),n.add(1,function(){i(c)?u()?S(c,s,l):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}),r&&n.add(2,function(){i(c)?u()?r():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})}function u(){return!!i(c).container}function h(){p("notifyListenersIfNeeded invoked");var e=i(c);return void 0===i(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(i(c).listeners,function(e){e(c)}))}function m(){if(p("Scroll detected."),d(c))p("Scroll event fired while unrendered. Ignoring...");else{var e=c.offsetWidth,t=c.offsetHeight;e!==i(c).lastWidth||t!==i(c).lastHeight?(p("Element size changed."),s(h)):p("Element size has not changed ("+e+"x"+t+").")}}if(p("registerListenersAndPositionElements invoked."),i(c)){i(c).onRendered=function(){if(p("startanimation triggered."),d(c))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var e=l(c),t=f(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),s(h))}},i(c).onExpand=m,i(c).onShrink=m;var y=i(c).style;a(c,y.width,y.height)}else p("Aborting because element has been uninstalled")}function x(){if(p("finalizeDomMutation invoked."),i(c)){var e=i(c).style;g(c,e.width,e.height),S(c,e.width,e.height)}else p("Aborting because element has been uninstalled")}function k(){h(c)}function I(){p("Installing..."),i(c).listeners=[],function(){var e=m();i(c).startSize={width:e.width,height:e.height},p("Element start size",i(c).startSize)}(),n.add(0,y),n.add(1,T),n.add(2,C),n.add(3,x),n.add(4,k)}h||(h=c,c=e,e=null),e=e||{},p("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(c)?I():(p("Element is detached"),_(),p("Waiting until element is attached..."),i(c).onRendered=function(){p("Element is now attached"),I()})},addListener:function(e,t){if(!i(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");i(e).listeners.push(t)},uninstall:function(e){var t=i(e);t&&(t.onExpandScroll&&c(l(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(f(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function u(){var u=this,c=Date.now()-a,l=arguments;function f(){a=Date.now(),n.apply(u,l)}o||(r&&!i&&f(),s(),void 0===r&&c>e?f():!0!==t&&(i=setTimeout(r?function(){i=void 0}:f,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),o=!0},u}function i(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}n.r(t),n.d(t,"throttle",function(){return r}),n.d(t,"debounce",function(){return i})},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n(51))&&"object"===typeof r&&"default"in r?r.default:r,a=n(53),s=n(36),u=n(52),c=n(102),l=o.SDK_VERSION,f=new a.Logger("@firebase/firestore");function h(){return f.logLevel===a.LogLevel.DEBUG?i.DEBUG:f.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function p(e){switch(e){case i.DEBUG:f.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=a.LogLevel.ERROR;break;case i.SILENT:f.logLevel=a.LogLevel.SILENT;break;default:f.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function d(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=a.LogLevel.DEBUG){var i=n.map(y);f.debug.apply(f,["Firestore ("+l+") ["+e+"]: "+t].concat(i))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=a.LogLevel.ERROR){var r=t.map(y);f.error.apply(f,["Firestore ("+l+"): "+e].concat(r))}}function y(e){if("string"===typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function g(e){var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function v(e,t){e||g(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&g("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||g("Platform not set"),e.platform},e}();function w(){return b.getPlatform().emptyByteString}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(t,e),t}(Error);function _(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new S(E.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return void 0!==e?e:t}function x(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function I(e){for(var t in v(null!=e&&"object"===typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t){if(0!==t.length)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function D(e,t,n){if(t.length!==n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function O(e,t,n){if(t.length<n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function A(e,t,n,r){if(t.length<n||t.length>r)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function R(e,t,n,r){B(e,t,Q(n)+" argument",r)}function P(e,t,n,r){void 0!==r&&R(e,t,n,r)}function M(e,t,n,r){B(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function j(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+q(r[o]))}(e,t,n,r,i)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new S(E.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function U(e,t,n,r){if(!t.some(function(e){return e===r}))throw new S(E.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+e+"() for its "+Q(n)+" argument. Acceptable values: "+t.join(", "))}function B(e,t,n,r){if(!("object"===t?z(r):"non-empty string"===t?"string"===typeof r&&""!==r:typeof r===t)){var i=q(r);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function z(e){return"object"===typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function q(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":g("Unknown wrong type: "+typeof e)}function V(e,t,n){if(void 0===n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+Q(t)+" argument, but it was undefined.")}function W(e,t,n){k(t,function(t,r){if(n.indexOf(t)<0)throw new S(E.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function H(e,t,n,r){var i=q(r);return new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+Q(n)+" argument to be a "+t+", but it was: "+i)}function Q(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}var G=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return v(20===t.length,"Invalid auto ID: "+t),t},e}();function Y(e,t){return e<t?-1:e>t?1:0}function X(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function $(e){return e+"\0"}function J(){if("undefined"===typeof Uint8Array)throw new S(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!b.getPlatform().base64Available)throw new S(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ee,te=function(){function e(e){Z(),this._binaryString=e}return e.fromBase64String=function(t){D("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),Z();try{var n=b.getPlatform().atob(t);return new e(n)}catch(r){throw new S(E.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(D("Blob.fromUint8Array",arguments,1),J(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join("");return new e(n)},e.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),J();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return Y(this._binaryString,e._binaryString)},e}(),ne=_(te,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),re=function(){return function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),ie="(default)",oe=function(){function e(e,t){this.projectId=e,this.database=t||ie}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===ie},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return Y(this.projectId,e.projectId)||Y(this.database,e.database)},e}(),ae=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),se=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&g("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,v(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return v(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.EMPTY_PATH=new t([]),t}(se),ce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ce.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(se),fe=function(){function e(t){this.path=t,v(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ue.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ue.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new ue(t.slice()))},e.fromPathString=function(t){return new e(ue.fromString(t))},e.EMPTY=new e(new ue([])),e}(),he=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(ee||(ee={}));var pe=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new he,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),de=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(e){}):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),v(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=pe.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){v(e===ee.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==ee.All&&i.timerId===e)break}return t.drain()})},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);v(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),me="\x01",ye="\x01",ge="\x10",ve="\x11";function be(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ee(t)),t=we(e.get(n),t);return Ee(t)}function we(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=me+ge;break;case me:n+=me+ve;break;default:n+=o}}return n}function Ee(e){return e+me+ye}function Se(e){var t=e.length;if(v(t>=2,"Invalid path "+e),2===t)return v(e.charAt(0)===me&&e.charAt(1)===ye,"Non-empty path "+e+" had length 2"),ue.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(me,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case ye:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case ge:i+=e.substring(o,a),i+="\0";break;case ve:i+=e.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+e+'"')}o=a+2}return new ue(r)}var _e=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Te=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new _e(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new _e(0,0)),e}(),Ce=function(){function e(e,t){this.comparator=e,this.root=t||ke.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ke.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new xe(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new xe(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new xe(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new xe(this.root,e,this.comparator,!0)},e}(),xe=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ke=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw g("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ie=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ke(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();ke.EMPTY=new Ie;var Ne=function(){function e(e){this.comparator=e,this.data=new Ce(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new De(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new De(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),De=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Oe=new Ce(fe.comparator);function Ae(){return Oe}function Re(){return Ae()}var Pe=new Ce(fe.comparator);function Me(){return Pe}var Le=new Ce(fe.comparator);function je(){return Le}var Fe=new Ne(fe.comparator);function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Fe,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Be=new Ne(Y);function ze(){return Be}var qe=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&v(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&v(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime))}for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Ue())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&X(this.mutations,e.mutations)&&X(this.baseMutations,e.baseMutations)},e}(),Ve=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){v(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=je(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),We=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++){r(o[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),He=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return v(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).iterate({index:cn.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=Ge(n),$e(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=Ge(t),$e(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Xe(e),a=Ye(e);return a.add({}).next(function(s){v("number"===typeof s,"Auto-generated key is not a number");var u=new qe(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=ln.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,ln.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,p.key.path.popLast()))}return We.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ye(e).get(t).next(function(e){return e?(v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?We.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ye(e).iterate({index:cn.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ye(e).iterate({index:cn.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ye(e).loadAll(cn.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ln.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Xe(e).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Se(u);if(s===n.userId&&t.path.isEqual(l))return Ye(e).get(c).next(function(e){if(!e)throw g("Dangling document-mutation reference found: "+r+" which points to "+c);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ne(Y),i=[];return t.forEach(function(t){var o=ln.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Xe(e).iterate({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Se(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),We.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;v(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=ln.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ne(Y);return Xe(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Se(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Ye(e).get(t).next(function(e){if(null===e)throw g("Dangling document-mutation reference found, which points to "+t);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),We.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ke(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),We.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return We.resolve();var r=IDBKeyRange.lowerBound(ln.prefixForUser(t.userId)),i=[];return Xe(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var o=Se(e[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return Qe(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return $e(e).get(this.userId).next(function(e){return e||new un(t.userId,-1,"")})},e}();function Qe(e,t,n){var r=ln.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Xe(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Ke(e,t,n){var r=e.store(cn.store),i=e.store(ln.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){v(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=ln.key(t,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return We.waitFor(o).next(function(){return c})}function Ge(e){return e instanceof Uint8Array?(v("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Ye(e){return Un.getStore(e,cn.store)}function Xe(e){return Un.getStore(e,ln.store)}function $e(e){return Un.getStore(e,un.store)}var Je,Ze=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(Je||(Je={}));var et=function(){function e(e,t){this.generatorId=e,v((e&Ze)===e,"Generator ID "+e+" contains more than "+Ze+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<Ze,e},e.prototype.after=function(e){return this.seek(e+(1<<Ze)),this.next()},e.prototype.seek=function(e){v((e&Ze)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Je.QueryCache,2)},e.forSyncEngine=function(){return new e(Je.SyncEngine)},e}(),tt="SimpleDb",nt=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return v(e.isAvailable(),"IndexedDB not supported in current environment."),d(tt,"Opening database:",t),new We(function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new S(E.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new S(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},a.onupgradeneeded=function(e){d(tt,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new it(a.transaction);r.createOrUpgrade(n,i,e.oldVersion,rn).next(function(){d(tt,"Database upgrade to version "+rn+" complete")})}}).toPromise()},e.delete=function(e){return d(tt,"Removing database:",e),at(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var t=u.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=it.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),We.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),rt=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return at(this.dbCursor.delete())},e}(),it=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new he,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ut(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(d(tt,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return v(!!t,"Object store not part of transaction: "+e),new ot(t)},e}(),ot=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(d(tt,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(d(tt,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),at(n)},e.prototype.add=function(e){return d(tt,"ADD",this.store.name,e,e),at(this.store.add(e))},e.prototype.get=function(e){var t=this;return at(this.store.get(e)).next(function(n){return void 0===n&&(n=null),d(tt,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return d(tt,"DELETE",this.store.name,e),at(this.store.delete(e))},e.prototype.count=function(){return d(tt,"COUNT",this.store.name),at(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){d(tt,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new We(function(n,r){t.onerror=function(e){var t=ut(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new We(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rt(i),a=t(i.primaryKey,i.value,o);if(a instanceof We){var s=a.catch(function(e){return o.done(),We.reject(e)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return We.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(v(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function at(e){return new We(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ut(e.target.error);n(t)}})}var st=!1;function ut(e){var t=nt.getIOSVersion(u.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new S("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return st||(st=!0,setTimeout(function(){throw r},0)),r}}return e}var ct=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=et.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return Te.fromTimestamp(new _e(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return ht(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return lt(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return v(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return lt(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return We.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return lt(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return ft(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Un.getStore(n,gn.store)).put(gn.key,t);var n},e.prototype.saveQueryData=function(e,t){return lt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return lt(e).iterate({range:i,index:mn.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=pt(e);return t.forEach(function(t){var a=be(t.path);i.push(o.put(new yn(n,a))),i.push(r.referenceDelegate.addReference(e,t))}),We.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=pt(e);return We.forEach(t,function(t){var o=be(t.path);return We.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=pt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pt(e),i=Ue();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=Se(e[1]),o=new fe(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=be(t.path),r=IDBKeyRange.bound([n],[$(n)],!1,!0),i=0;return pt(e).iterate({index:yn.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return lt(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}();function lt(e){return Un.getStore(e,mn.store)}function ft(e){return nt.getStore(e,gn.store).get(gn.key).next(function(e){return v(null!==e,"Missing metadata row."),e})}function ht(e){return ft(e).next(function(e){return e.highestListenSequenceNumber})}function pt(e){return Un.getStore(e,yn.store)}var dt,mt=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Ne(le.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),yt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),gt=function(){return function(e,t){this.version=e,this.transformResults=t}}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(dt||(dt={}));var vt,bt,wt=function(){function e(e,t){this.updateTime=e,this.exists=t,v(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Vt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Vt:(v(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!==t&&void 0!==t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),Et=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&v(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Vt?e.version:Te.MIN},e}(),St=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=dt.Set,i}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Vt(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Et.getPostMutationVersion(e);return new Vt(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(Et),_t=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=dt.Patch,o}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ht(this.key,t.version);var n=this.patchDocument(e);return new Vt(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Et.getPostMutationVersion(e),i=this.patchDocument(e);return new Vt(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Vt?e.data():Bt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}}),e},t}(Et),Tt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=dt.Transform,r.precondition=wt.exists(!0),r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ht(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Vt(this.key,i,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Vt(this.key,r.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Vt?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Bt.EMPTY.set(i.field,a):t.set(i.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&X(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){v(e instanceof Vt,"Unknown MaybeDocument type "+e);var t=e;return v(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];v(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Vt&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Vt&&(u=t.field(a.field)),null===u&&n instanceof Vt&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){v(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(Et),Ct=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=dt.Delete,r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by DeleteMutation."),new Wt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&v(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Wt(this.key,Te.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Et);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(vt||(vt={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(bt||(bt={}));var xt=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(bt.Estimate,n);case"previous":return new e(bt.Previous,n);case"none":case void 0:return new e(bt.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},e}(),kt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return v(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,e.typeOrder)},e}(),It=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=vt.NullValue,t.internalValue=null,t}return s.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(kt),Nt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.BooleanValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(kt),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.NumberValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(kt);function Ot(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t}(Dt),Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Dt),Pt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.StringValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Y(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(kt),Mt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.TimestampValue,n}return s.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Lt?-1:this.defaultCompareTo(e)},t}(kt),Lt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=vt.TimestampValue,r}return s.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===bt.Estimate?new Mt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===bt.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Mt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(kt),jt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.BlobValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(kt),Ft=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=vt.RefValue,r}return s.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:fe.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(kt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.GeoPointValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(kt),Bt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.ObjectValue,n}return s.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=Y(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return Y(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(v(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(v(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){v(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e):null}),n},t.prototype.fieldMask=function(){var e=new Ne(le.comparator);return this.internalValue.forEach(function(n,r){var i=new le([n]);if(r instanceof t){var o=r.fieldMask().fields;o.isEmpty()?e=e.add(i):o.forEach(function(t){e=e.add(i.child(t))})}else e=e.add(i)}),mt.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Ce(Y)),t}(kt),zt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=vt.ArrayValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return Y(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map(function(e){return e.toString()}).join(",")+"]"},t}(kt),qt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return fe.comparator(e.key,t.key)},e}(),Vt=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n)||this;return s.objectValue=i,s.proto=o,s.converter=a,v(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return s.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Bt.EMPTY;k(this.proto.fields,function(n,r){t=t.set(new le([n]),e.converter(r))}),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},t}(qt),Wt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(qt),Qt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return I(this.inner)},e}(),Kt=function(){function e(){this.changes=new Qt(function(e){return e.toString()}),this.changesApplied=!1}return e.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},e.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?We.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},e}(),Gt="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Yt=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=nt.getStore(e,wn.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntry=function(e,t,n){var r=this;return $t(e).put(Zt(t),n).next(function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())})},e.prototype.removeEntry=function(e,t){var n=$t(e),r=Zt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.setMetadata(e,i).next(function(){if(r.keepDocumentChangeLog)return Jt(e).put({changes:r.serializer.toDbResourcePaths(t)})})})},e.prototype.getEntry=function(e,t){var n=this;return $t(e).get(Zt(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return $t(e).get(Zt(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:en(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=Re();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=Re(),i=new Ce(fe.comparator);return this.forEachDbEntry(e,t,function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,en(t))):(r=r.insert(e,null),i=i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return We.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return $t(e).iterate({range:r},function(e,t,r){for(var a=fe.fromSegments(e);o&&fe.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Me(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return $t(e).iterate({range:a},function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof Vt&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ue(),r=Ae(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Jt(e);return a.iterate({range:i},function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next(function(){return We.reject(new S(E.DATA_LOSS,Gt))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new Wt(n,Te.forDeletedDoc());r=r.insert(n,t)}))}),We.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Jt(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Xt(e).get(dn.key).next(function(e){return v(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return Xt(e).put(dn.key,t)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n.documentSizes=new Qt(function(e){return e.toString()}),n}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=Ue();return this.changes.forEach(function(o,a){var s=t.documentSizes.get(o);if(v(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),c=en(u);r+=c-s,n.push(t.documentCache.addEntry(e,o,u))}else r-=s,n.push(t.documentCache.removeEntry(e,o));i=i.add(o)}),n.push(this.documentCache.updateMetadata(e,i,r)),We.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},t}(Kt),e}();function Xt(e){return Un.getStore(e,dn.store)}function $t(e){return Un.getStore(e,pn.store)}function Jt(e){return Un.getStore(e,wn.store)}function Zt(e){return e.path.toArray()}function en(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var tn=function(){function e(){this.collectionParentIndex=new nn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),We.resolve()},e.prototype.getCollectionParents=function(e,t){return We.resolve(this.collectionParentIndex.getEntries(t))},e}(),nn=function(){function e(){this.index={}}return e.prototype.add=function(e){v(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ne(ue.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new Ne(ue.comparator)).toArray()},e}(),rn=8,on=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=rn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(e){e.createObjectStore(sn.store)}(e),function(e){e.createObjectStore(un.store,{keyPath:un.keyPath}),e.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ln.store)}(e),bn(e),function(e){e.createObjectStore(pn.store)}(e));var o=We.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(yn.store),e.deleteObjectStore(mn.store),e.deleteObjectStore(gn.store)}(e),bn(e)),o=o.next(function(){return function(e){var t=e.store(gn.store),n=new gn(0,0,Te.MIN.toTimestamp(),0);return t.put(gn.key,n)}(t)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store(cn.store).loadAll().next(function(n){e.deleteObjectStore(cn.store),e.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0});var r=t.store(cn.store),i=n.map(function(e){return r.put(e)});return We.waitFor(i)})}(e,t)})),o=o.next(function(){!function(e){e.createObjectStore(En.store,{keyPath:En.keyPath})}(e),function(e){e.createObjectStore(wn.store,{keyPath:"id",autoIncrement:!0})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore(dn.store)}(e),i.addDocumentGlobal(t)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(e,t)})),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(pn.store).iterate(function(e,n){t+=en(n)}).next(function(){var n=new dn(t);return e.store(dn.store).put(dn.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(un.store),r=e.store(cn.store);return n.loadAll().next(function(n){return We.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cn.userMutationsIndex,i).next(function(r){return We.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Ke(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(yn.store),n=e.store(pn.store);return ht(e).next(function(e){var r=[];return n.iterate(function(n,i){var o=new ue(n),a=function(e){return[0,be(e)]}(o);r.push(t.get(a).next(function(n){return n?We.resolve():function(n){return t.put(new yn(0,be(n),e))}(o)}))}).next(function(){return We.waitFor(r)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(vn.store,{keyPath:vn.keyPath});var n=t.store(vn.store),r=new nn,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:be(i)})}};return t.store(pn.store).iterate({keysOnly:!0},function(e,t){var n=new ue(e);return i(n.popLast())}).next(function(){return t.store(ln.store).iterate({keysOnly:!0},function(e,t){e[0];var n=e[1],r=(e[2],Se(n));return i(r.popLast())})})},e}();var an=function(){return function(e,t){this.seconds=e,this.nanoseconds=t}}(),sn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var un=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),cn=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var ln=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,be(t)]},e.key=function(e,t,n){return[e,be(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var fn=function(){return function(e,t){this.path=e,this.readTime=t}}(),hn=function(){return function(e,t){this.path=e,this.version=t}}(),pn=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),dn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var mn=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),yn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,v(0===e===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),gn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),vn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function bn(e){e.createObjectStore(yn.store,{keyPath:yn.keyPath}).createIndex(yn.documentTargetsIndex,yn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.queryTargetsIndexName,mn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gn.store)}var wn=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}();var En=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}();var Sn,_n=[un.store,cn.store,ln.store,pn.store,mn.store,sn.store,gn.store,yn.store].concat([En.store,wn.store]).concat([dn.store]).concat([vn.store]),Tn=function(){function e(){this.collectionParentsCache=new nn}return e.prototype.addToCollectionParentIndex=function(e,t){if(v(t.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(t)){v(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Cn(e).put({collectionId:n,parent:be(r)})}return We.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return Cn(e).loadAll(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Se(o.parent))}return n})},e}();function Cn(e){return Un.getStore(e,vn.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Sn||(Sn={}));var xn=function(){function e(e,t,n,r,i,o){void 0===i&&(i=Te.MIN),void 0===o&&(o=w()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.withSequenceNumber=function(t){return new e(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.query,this.targetId,this.purpose,this.sequenceNumber,n,t)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),kn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=fe.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Wt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=fe.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new Ht(t,n)}return g("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof Vt){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new pn(null,null,t,n)}if(e instanceof Wt){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);n=e.hasCommittedMutations;return new pn(null,new fn(r,i),null,n)}if(e instanceof Ht){r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new pn(new hn(r,i),null,null,!0)}return g("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new an(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new _e(e.seconds,e.nanoseconds);return Te.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),i=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new cn(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),i=_e.fromMillis(e.localWriteTimeMs);return new qe(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(be(e.path))}),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Ue(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new fe(Se(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new xn(t,e.targetId,Sn.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){v(Sn.Listen===e.purpose,"Only queries with purpose "+Sn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(v("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new mn(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},e}();function In(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Y(n,i);return 0===a?Y(r,o):a}var Nn=function(){function e(e){this.maxElements=e,this.buffer=new Ne(In),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();In(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Dn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},On=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),An=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==On.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ee.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(Bn)})},e}(),Rn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return We.resolve(ae.INVALID);var r=new Nn(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===On.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(Dn)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Dn):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){(c=Date.now(),h()<=i.DEBUG)&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms");return We.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})})},e}(),Pn=function(){return function(){}}(),Mn="IndexedDbPersistence",Ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Fn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return s.__extends(t,e),t}(Pn),Un=function(){function e(t,n,r,i,o,a,s,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new Vn(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new kn(s),this.document=i.document,this.queryCache=new ct(this.referenceDelegate,this.serializer),this.indexManager=new Tn,this.remoteDocumentCache=new Yt(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Fn)return nt.getStore(e.simpleDbTransaction,t);throw g("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:if(!e.isAvailable())throw new S(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},e.prototype.start=function(){var e=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),nt.openOrCreate(this.dbName,rn,new on(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[gn.store],function(t){return ht(t).next(function(t){e.listenSequence=new ae(t,e.sequenceNumberSyncer)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",_n,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener(function(n){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",_n,function(t){return qn(t).put(new En(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return zn(e).get(sn.key).next(function(e){return We.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return qn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=e.getStore(i,En.store);return o.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return We.forEach(n,function(e){return o.delete(e.clientId)})}).next(function(){if((t=t.filter(function(e){return e.clientId!==r.clientId})).length>0){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ee.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return zn(e).get(sn.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,jn);return!1}}return!(!t.networkEnabled||!t.inForeground)||qn(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&d(Mn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sn.store,En.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[En.store],function(t){return qn(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},e.clearPersistence=function(t){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,nt.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),He.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return d(Mn,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",_n,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new S(E.FAILED_PRECONDITION,Ln);return n(new Fn(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Fn(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return zn(e).get(sn.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,jn)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new sn(this.clientId,this.allowTabSynchronization,Date.now());return zn(e).put(sn.key,t)},e.isAvailable=function(){return nt.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=zn(e);return n.get(sn.key).next(function(e){return t.isLocalClient(e)?(d(Mn,"Releasing primary lease."),n.delete(sn.key)):We.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(m("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return d(Mn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return m(Mn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Bn(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){if(!function(e){return e.code===E.FAILED_PRECONDITION&&e.message===Ln}(e))throw e;return d(Mn,"Unexpectedly lost primary lease"),[2]})})}function zn(e){return e.store(sn.store)}function qn(e){return e.store(En.store)}var Vn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Rn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Wn(e,t)},e.prototype.removeReference=function(e,t){return Wn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Wn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?We.resolve(!0):function(e,t){var n=!1;return $e(e).iterateSerial(function(r){return Qe(e,r,t).next(function(e){return e&&(n=!0),We.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,function(a,s){if(s<=t){var u=n.isPinned(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),pt(e).delete([0,be(a.path)])})});i.push(u)}}).next(function(){return We.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Wn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=pt(e),i=ae.INVALID;return r.iterate({index:yn.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==ae.INVALID&&t(new fe(Se(n)),i),i=s,n=a):i=ae.INVALID}).next(function(){i!==ae.INVALID&&t(new fe(Se(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Wn(e,t){return pt(e).put(function(e,t){return new yn(0,be(e.path),t)}(t,e.currentSequenceNumber))}var Hn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Re();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++){t=o[i].applyToLocalView(e,t)}r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=Ae();return i.forEach(function(e,t){t||(t=new Wt(e,Te.forDeletedDoc())),o=o.insert(e,t)}),o})},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new fe(t)).next(function(e){var t=Me();return e instanceof Vt&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;v(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Me();return this.indexManager.getCollectionParents(e,r).next(function(o){return We.forEach(o,function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next(function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof Vt?n.insert(c,f):n.remove(c)}})}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Ue(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof _t&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof Vt&&(c=c.insert(e,t))}),c})},e}(),Qn=function(){function e(){this.refsByKey=new Ne(Kn.compareByKey),this.refsByTarget=new Ne(Kn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Kn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new Kn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=fe.EMPTY,r=new Kn(n,e),i=new Kn(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=fe.EMPTY,n=new Kn(t,e),r=new Kn(t,e+1),i=Ue();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Kn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Kn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return fe.comparator(e.key,t.key)||Y(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return Y(e.targetOrBatchId,t.targetOrBatchId)||fe.comparator(e.key,t.key)},e}(),Gn=function(){function e(e,t){this.persistence=e,this.localViewReferences=new Qn,this.queryDataByTarget={},v(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Hn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new Hn(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],a=Ue(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p];o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++){h=y[m];a=a.add(h.key)}}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},e.prototype.localWrite=function(e){var t=this,n=_e.now(),r=e.reduce(function(e,t){return e.add(t.key)},Ue());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return t.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new _t(u.key,c,c.fieldMask(),wt.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):We.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return v(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=t.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=[];x(t.targetChanges,function(t,r){var s=n.queryDataByTarget[t];if(s){a.push(n.queryCache.removeMatchingKeys(o,r.removedDocuments,t).next(function(){return n.queryCache.addMatchingKeys(o,r.addedDocuments,t)}));var u=r.resumeToken;if(u.length>0){var c=s.withResumeToken(u,i);n.queryDataByTarget[t]=c,e.shouldPersistQueryData(s,c,r)&&a.push(n.queryCache.updateQueryData(o,c))}}});var s=Ae(),u=Ue();if(t.documentUpdates.forEach(function(e,t){u=u.add(e)}),a.push(r.getEntries(o,u).next(function(e){t.documentUpdates.forEach(function(i,u){var c=e.get(i);null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(r.addEntry(u),s=s.insert(i,u)):u instanceof Wt&&u.version.isEqual(Te.MIN)?(r.removeEntry(i),s=s.insert(i,u)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))})})),!i.isEqual(Te.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(e){return v(i.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+e),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,i)});a.push(c)}return We.waitFor(a).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,s)})})},e.shouldPersistQueryData=function(e,t,n){return v(t.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return We.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),We.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,We.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new xn(e,i,Sn.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return v(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){v(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?We.resolve():We.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=We.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,a=t.docVersions.get(r);v(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):v(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Yn=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ne(Kn.compareByKey)}return e.prototype.checkEmpty=function(e){return We.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,We.resolve()},e.prototype.getLastStreamToken=function(e){return We.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,We.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new qe(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Kn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return We.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return We.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return v(null!=n,"Failed to find local mutation batch."),We.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return We.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return We.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return We.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Kn(t,0),i=new Kn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){v(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),We.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ne(Y);return t.forEach(function(e){var t=new Kn(e,0),i=new Kn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){v(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),We.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;fe.isDocumentKey(i)||(i=i.child(""));var o=new Kn(new fe(i),0),a=new Ne(Y);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},o),We.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return We.forEach(t.mutations,function(i){var o=new Kn(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)}).next(function(){n.batchesByDocumentKey=r})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Kn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return We.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),We.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return v(n.batchId===e,"If found batch must match"),n},e}(),Xn=function(){function e(e){this.persistence=e,this.queries=new Qt(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=Te.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Qn,this.targetCount=0,this.targetIdGenerator=et.forQueryCache()}return e.prototype.getTargetCount=function(e){return We.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),We.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return We.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return We.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,We.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),We.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return v(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,We.resolve()},e.prototype.updateQueryData=function(e,t){return v(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),We.resolve()},e.prototype.removeQueryData=function(e,t){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,We.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),We.waitFor(o).next(function(){return i})},e.prototype.getQueryCount=function(e){return We.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return We.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return g("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),We.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),We.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),We.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return We.resolve(n)},e.prototype.containsKey=function(e,t){return We.resolve(this.references.containsKey(t))},e}();var $n=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Ce(fe.comparator),this.newDocumentChanges=Ue(),this.size=0}return e.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return We.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Re();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),We.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Me(),r=new fe(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof Vt&&t.matches(s)&&(n=n.insert(s.key,s))}return We.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return We.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=Ae();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new Wt(e,Te.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=Ue(),We.resolve(n)},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return We.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i?n.push(t.documentCache.addEntry(e,i)):t.documentCache.removeEntry(r)}),We.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Kt),e}(),Jn=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ae(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Xn(this);this.indexManager=new tn,this.remoteDocumentCache=new $n(this.indexManager,function(e){return n.referenceDelegate.documentSize(e)})}return e.createLruPersistence=function(t,n,r){return new e(t,function(e){return new tr(e,new kn(n),r)})},e.createEagerPersistence=function(t){return new e(t,function(e){return new er(e)})},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Yn(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;d("MemoryPersistence","Starting transaction:",e);var i=new Zn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return We.or(function(e){var t=[];return k(e,function(e,n){return t.push(n)}),t}(this.mutationQueues).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Zn=function(){return function(e){this.currentSequenceNumber=e}}(),er=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw g("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),We.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),We.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),We.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(e){e||n.removeEntry(r)})}).next(function(){return t._orphanedDocuments=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return We.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return We.resolve(n.inMemoryPins.containsKey(t))}])},e}(),tr=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Qt(function(e){return be(e.path)}),this.garbageCollector=new Rn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return We.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return We.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?We.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,function(i){return n.isPinned(e,i,t).next(function(e){e||(r++,o.removeEntry(i))})}).next(function(){return o.apply(e)}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw g("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return We.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return We.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return We.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),nr=Number,rr=nr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ir=nr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,or=nr.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function ar(e){return null===e||void 0===e}function sr(e){return or(e)&&e<=ir&&e>=rr}var ur,cr=1e3,lr=1.5,fr=6e4,hr=function(){function e(e,t,n,r,i){void 0===n&&(n=cr),void 0===r&&(r=lr),void 0===i&&(i=fr),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(ur||(ur={}));var pr,dr,mr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ur.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new hr(e,t)}return e.prototype.isStarted=function(){return this.state===ur.Starting||this.state===ur.Open||this.state===ur.Backoff},e.prototype.isOpen=function(){return this.state===ur.Open},e.prototype.start=function(){this.state!==ur.Error?(v(this.state===ur.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(ur.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ur.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return this.isOpen()?[2,this.close(ur.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(e===ur.Error||ar(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==ur.Error?this.backoff.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===E.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;v(this.state===ur.Initial,"Must be in initial state to auth"),this.state=ur.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new S(E.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;v(this.state===ur.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return v(t.state===ur.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=ur.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;v(this.state===ur.Error,"Should only perform backoff when in Error state"),this.state=ur.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return v(this.state===ur.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ur.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return v(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+e),this.stream=null,this.close(ur.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),yr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,ee.ListenStreamConnectionBackoff,ee.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return s.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(mr),gr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,ee.WriteStreamConnectionBackoff,ee.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return s.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return v(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(mr),vr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new gr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new yr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Ae();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);v(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),br=function(){function e(e){this.datastore=e,this.readVersions=je(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n=this;return s.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new S(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach(function(e){e instanceof Wt||e instanceof Vt?n.recordVersion(e):g("Document in a transaction was a "+e.constructor.name)}),[2,t]}})})},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Ct(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new S(E.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e instanceof Vt)t=e.version;else{if(!(e instanceof Wt))throw g("Document in a transaction was a "+e.constructor.name);t=Te.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new S(E.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?wt.updateTime(t):wt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Te.forDeletedDoc()))throw new S(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(t)}return wt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(pr||(pr={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(dr||(dr={}));var wr,Er=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=pr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(pr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ee.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,v(e.state===pr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(pr.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===pr.Online?(this.setAndBroadcast(pr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(pr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===pr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(t),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Sr(e){switch(e){case E.OK:return g("Treated status OK as error");case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return g("Unknown status code: "+e)}}function _r(e){if(void 0===e)return m("GRPC error has no .code"),E.UNKNOWN;switch(e){case wr.OK:return E.OK;case wr.CANCELLED:return E.CANCELLED;case wr.UNKNOWN:return E.UNKNOWN;case wr.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case wr.INTERNAL:return E.INTERNAL;case wr.UNAVAILABLE:return E.UNAVAILABLE;case wr.UNAUTHENTICATED:return E.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case wr.NOT_FOUND:return E.NOT_FOUND;case wr.ALREADY_EXISTS:return E.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return E.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case wr.ABORTED:return E.ABORTED;case wr.OUT_OF_RANGE:return E.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return E.UNIMPLEMENTED;case wr.DATA_LOSS:return E.DATA_LOSS;default:return g("Unknown status code: "+e)}}function Tr(e){if(void 0===e)return wr.OK;switch(e){case E.OK:return wr.OK;case E.CANCELLED:return wr.CANCELLED;case E.UNKNOWN:return wr.UNKNOWN;case E.DEADLINE_EXCEEDED:return wr.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return wr.RESOURCE_EXHAUSTED;case E.INTERNAL:return wr.INTERNAL;case E.UNAVAILABLE:return wr.UNAVAILABLE;case E.UNAUTHENTICATED:return wr.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return wr.INVALID_ARGUMENT;case E.NOT_FOUND:return wr.NOT_FOUND;case E.ALREADY_EXISTS:return wr.ALREADY_EXISTS;case E.PERMISSION_DENIED:return wr.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return wr.FAILED_PRECONDITION;case E.ABORTED:return wr.ABORTED;case E.OUT_OF_RANGE:return wr.OUT_OF_RANGE;case E.UNIMPLEMENTED:return wr.UNIMPLEMENTED;case E.DATA_LOSS:return wr.DATA_LOSS;default:return g("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(wr||(wr={}));var Cr,xr,kr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||fe.comparator(t.key,n.key)}:function(e,t){return fe.comparator(e.key,t.key)},this.keyedMap=Me(),this.sortedSet=new Ce(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Cr||(Cr={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(xr||(xr={}));var Ir,Nr=function(){function e(){this.changeMap=new Ce(fe.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Cr.Added&&n.type===Cr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Cr.Metadata&&n.type!==Cr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Cr.Modified&&n.type===Cr.Modified?this.changeMap=this.changeMap.insert(t,{type:Cr.Modified,doc:e.doc}):e.type===Cr.Modified&&n.type===Cr.Added?this.changeMap=this.changeMap.insert(t,{type:Cr.Added,doc:e.doc}):e.type===Cr.Removed&&n.type===Cr.Added?this.changeMap=this.changeMap.remove(t):e.type===Cr.Removed&&n.type===Cr.Modified?this.changeMap=this.changeMap.insert(t,{type:Cr.Removed,doc:n.doc}):e.type===Cr.Added&&n.type===Cr.Removed?this.changeMap=this.changeMap.insert(t,{type:Cr.Modified,doc:e.doc}):g("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Dr=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:Cr.Added,doc:e})}),new e(t,n,kr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Or=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Ar.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Te.MIN,i,ze(),Ae(),Ue())},e}(),Ar=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Ue(),Ue(),Ue())},e}(),Rr=function(){return function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}}(),Pr=function(){return function(e,t){this.targetId=e,this.existenceFilter=t}}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Ir||(Ir={}));var Mr=function(){return function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}(),Lr=function(){function e(){this.pendingResponses=0,this.documentChanges=Ur(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Ue(),t=Ue(),n=Ue();return this.documentChanges.forEach(function(r,i){switch(i){case Cr.Added:e=e.add(r);break;case Cr.Modified:t=t.add(r);break;case Cr.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}}),new Ar(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ur()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),jr=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Ne(Y)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Vt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Wt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Ir.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Ir.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Ir.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),v(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Ir.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Ir.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:g("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):x(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new fe(i.path);this.removeDocumentFromTarget(t,o,new Wt(o,Te.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};x(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new fe(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Wt(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ue();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Sn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Or(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ae(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new Ne(Y),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Cr.Modified:Cr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Cr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Lr),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ne(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;v(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Lr,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Fr(){return new Ce(fe.comparator)}function Ur(){return new Ce(fe.comparator)}var Br="RemoteStore",zr=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(e){n.enqueueAndForget(function(){return s.__awaiter(o,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(d(Br,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new Er(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var e;return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(pr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(pr.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(d(Br,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return d(Br,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(pr.Unknown),[2]}})})},e.prototype.listen=function(e){v(!T(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){v(T(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),I(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(pr.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new jr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!I(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(t){return x(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return void 0===e&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(pr.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(pr.Online),e instanceof Mr&&e.state===Ir.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Rr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Pr?this.watchChangeAggregator.handleExistenceFilter(e):(v(e instanceof Mr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Te.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;v(!e.isEqual(Te.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return x(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(w(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new xn(n.query,e,Sn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;v(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return T(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var e,t;return s.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(Bn)},e.prototype.onMutationResult=function(e,t){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Ve.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(n){return void 0===e&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return Sr(e.code)?(d(Br,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Bn)]):[2]})})},e.prototype.handleWriteError=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n=this;return s.__generator(this,function(r){return Sr(i=e.code)&&i!==E.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2];var i})})},e.prototype.createTransaction=function(){return new br(this.datastore)},e.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(pr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}})})},e.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(d(Br,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(pr.Unknown),t.label=4;case 4:return[2]}})})},e}(),qr=function(){function e(e,t){if(D("GeoPoint",arguments,2),R("GeoPoint","number",1,e),R("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)},e}(),Vr=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[ti]:this.memoizedOrderBy=[new ei(e),ti];else{v(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Jr.ASCENDING;this.memoizedOrderBy.push(a===Jr.ASCENDING?ti:ni)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){v(null==this.getInequalityFilterField()||!(t instanceof Qr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}ar(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),ar(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!ar(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Qr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Qr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return fe.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):fe.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){v(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Wr=function(){return function(){}}(),Hr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return g("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),Qr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return s.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===Hr.IN?(v(r instanceof zt,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every(function(e){return e instanceof Ft}),"Comparing on key with IN, but an array value was not a RefValue"),new Gr(e,r)):(v(r instanceof Ft,"Comparing on key, but filter value not a RefValue"),v(n!==Hr.ARRAY_CONTAINS&&n!==Hr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Kr(e,n,r));if(r.isEqual(It.INSTANCE)){if(n!==Hr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Rt.NAN)){if(n!==Hr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===Hr.ARRAY_CONTAINS?new Yr(e,r):n===Hr.IN?(v(r instanceof zt,"IN filter has invalid value: "+r.toString()),new Xr(e,r)):n===Hr.ARRAY_CONTAINS_ANY?(v(r instanceof zt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new $r(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Hr.LESS_THAN:return e<0;case Hr.LESS_THAN_OR_EQUAL:return e<=0;case Hr.EQUAL:return 0===e;case Hr.GREATER_THAN:return e>0;case Hr.GREATER_THAN_OR_EQUAL:return e>=0;default:return g("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Wr),Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=fe.comparator(e.key,t.key);return this.matchesComparison(n)},t}(Qr),Gr=function(e){function t(t,n){var r=e.call(this,t,Hr.IN,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some(function(t){return e.key.isEqual(t.key)})},t}(Qr),Yr=function(e){function t(t,n){return e.call(this,t,Hr.ARRAY_CONTAINS,n)||this}return s.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof zt&&t.contains(this.value)},t}(Qr),Xr=function(e){function t(t,n){var r=e.call(this,t,Hr.IN,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(Qr),$r=function(e){function t(t,n){var r=e.call(this,t,Hr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof zt&&n.internalValue.some(function(e){return t.value.contains(e)})},t}(Qr),Jr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Zr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){v(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Ft,"Bound has a non-key value where the key path is being used."),n=fe.comparator(o.key,t.key);else{var a=t.field(i.field);v(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Jr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),ei=function(){function e(e,t){this.field=e,void 0===t&&(t=Jr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Vt.compareByKey(e,t):Vt.compareByField(this.field,e,t);switch(this.dir){case Jr.ASCENDING:return n;case Jr.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),ti=new ei(le.keyField(),Jr.ASCENDING),ni=new ei(le.keyField(),Jr.DESCENDING),ri=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Lt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),ii=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=si(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new zt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&X(t.elements,this.elements)},e}(),oi=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=si(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new zt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&X(t.elements,this.elements)},e}(),ai=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof At&&this.operand instanceof At){var r=n.internalValue+this.operand.internalValue;return new At(r)}r=n.internalValue+this.operand.internalValue;return new Rt(r)},e.prototype.applyToRemoteDocument=function(e,t){return v(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Dt?e:new At(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function si(e){return e instanceof zt?e.internalValue.slice():[]}var ui=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),ci=function(){var e={};return e[Jr.ASCENDING.name]="ASCENDING",e[Jr.DESCENDING.name]="DESCENDING",e}(),li=function(){var e={};return e[Hr.LESS_THAN.name]="LESS_THAN",e[Hr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Hr.GREATER_THAN.name]="GREATER_THAN",e[Hr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Hr.EQUAL.name]="EQUAL",e[Hr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e[Hr.IN.name]="IN",e[Hr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",e}(),fi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(e,t){v(!ar(e),t+" is missing")}function pi(e){return"number"===typeof e?e:"string"===typeof e?Number(e):g("can't parse "+e)}var di=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?E.UNKNOWN:_r(e.code);return new S(t,e.message||"")},e.prototype.toInt32Value=function(e){return ar(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return ar(t="object"===typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return this.fromIso8601String(e);v(!!e,"Cannot deserialize null or undefined timestamp.");var t=pi(e.seconds||"0"),n=e.nanos||0;return new _e(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=fi.exec(e);if(v(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new _e(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),te.fromBase64String(e)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),te.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return v(!!e,"Trying to deserialize version that isn't set"),Te.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ue.fromString(e);return v(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return v(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),v(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new fe(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ue.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ue(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ue(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return v(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof It)return{nullValue:"NULL_VALUE"};if(e instanceof Nt)return{booleanValue:e.value()};if(e instanceof At)return{integerValue:""+e.value()};if(e instanceof Rt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Pt?{stringValue:e.value()}:e instanceof Bt?{mapValue:this.toMapValue(e)}:e instanceof zt?{arrayValue:this.toArrayValue(e)}:e instanceof Mt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ut?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof jt?{bytesValue:this.toBytes(e.value())}:e instanceof Ft?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:g("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return It.INSTANCE;if("booleanValue"in e)return Nt.of(e.booleanValue);if("integerValue"in e)return new At(pi(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Rt.NAN;if("Infinity"===e.doubleValue)return Rt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Rt.NEGATIVE_INFINITY}return new Rt(e.doubleValue)}if("stringValue"in e)return new Pt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){hi(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new zt(n.map(function(e){return t.fromValue(e)}))}if("timestampValue"in e)return hi(e.timestampValue,"timestampValue"),new Mt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){hi(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Ut(new qr(r,i))}if("bytesValue"in e){hi(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new jt(o)}if("referenceValue"in e){hi(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new oe(a.get(1),a.get(3)),u=new fe(this.extractLocalPathFromResourceName(a));return new Ft(s,u)}return g("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return v(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Vt(r,i,{hasCommittedMutations:!!t},void 0,e,function(e){return n.fromValue(e)})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Bt.EMPTY;return k(n,function(e,n){r=r.set(new le([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){var t=this;v(!!e.found,"Tried to deserialize a found document from a missing document."),hi(e.found.name,"doc.found.name"),hi(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Vt(n,r,{},void 0,e.found,function(e){return t.fromValue(e)})},e.prototype.fromMissing=function(e){v(!!e.missing,"Tried to deserialize a missing document from a found document."),v(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Wt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):g("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Ir.Added:return"ADD";case Ir.Current:return"CURRENT";case Ir.NoChange:return"NO_CHANGE";case Ir.Removed:return"REMOVE";case Ir.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Pr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Rr){if(e.newDoc instanceof Vt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Wt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Mr){var n=void 0;return e.cause&&(n={code:Tr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){hi(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Mr(r,i,o,s||null)}else if("documentChange"in e){hi(e.documentChange,"documentChange"),hi(e.documentChange.document,"documentChange.name"),hi(e.documentChange.document.name,"documentChange.document.name"),hi(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Vt(c,l,{},void 0,u.document,function(e){return n.fromValue(e)}),h=u.targetIds||[],p=u.removedTargetIds||[];t=new Rr(h,p,f.key,f)}else if("documentDelete"in e){hi(e.documentDelete,"documentDelete"),hi(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):Te.forDeletedDoc(),f=new Wt(c,l),p=d.removedTargetIds||[];t=new Rr([],p,f.key,f)}else if("documentRemove"in e){hi(e.documentRemove,"documentRemove"),hi(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[];t=new Rr([],p,c,null)}else{if(!("filter"in e))return g("Unknown change type "+JSON.stringify(e));hi(e.filter,"filter"),hi(e.filter.targetId,"filter.targetId");var y=e.filter,v=y.count||0,b=new ui(v),w=y.targetId;t=new Pr(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Ir.NoChange:"ADD"===e?Ir.Added:"REMOVE"===e?Ir.Removed:"CURRENT"===e?Ir.Current:"RESET"===e?Ir.Reset:g("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Te.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Te.MIN:t.readTime?this.fromVersion(t.readTime):Te.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof St)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Ct)t={delete:this.toName(e.key)};else if(e instanceof _t)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Tt))return g("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):wt.NONE;if(e.update){hi(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new _t(r,i,o,n)}return new St(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new Ct(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new Tt(r,a)}return g("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return v(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?wt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?wt.exists(e.exists):wt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new gt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(v(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof ri)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ii)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof oi)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof ai)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw g("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=ri.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ii(r.map(function(e){return t.fromValue(e)}))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new oi(r.map(function(e){return t.fromValue(e)}))}else if("increment"in e){var i=this.fromValue(e.increment);v(i instanceof Dt,"NUMERIC_ADD transform requires a NumberValue"),n=new ai(i)}else g("Unknown transform proto: "+JSON.stringify(e));var o=le.fromServerFormat(e.fieldPath);return new yt(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;v(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Vr.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(v(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(v(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Vr(t,i,s,a,u,c,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Sn.Listen:return null;case Sn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Sn.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof Qr?t.toUnaryOrFieldFilter(e):g("Unrecognized filter: "+JSON.stringify(e))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):g("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Zr(r,n)},e.prototype.toDirection=function(e){return ci[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return Jr.ASCENDING;case"DESCENDING":return Jr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return li[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Hr.EQUAL;case"GREATER_THAN":return Hr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hr.ARRAY_CONTAINS;case"IN":return Hr.IN;case"ARRAY_CONTAINS_ANY":return Hr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return g("Unspecified operator");default:return g("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return le.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new ei(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return Qr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Hr.EQUAL){if(e.value.isEqual(Rt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(It.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Qr.create(t,Hr.EQUAL,Rt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Qr.create(n,Hr.EQUAL,It.INSTANCE);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return le.fromServerFormat(e)});return mt.fromArray(t)},e}(),mi=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),yi=function(){function e(e){this.syncEngine=e,this.queries=new Qt(function(e){return e.canonicalId()}),this.onlineState=pr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new mi,this.queries.set(t,r)),r.listeners.push(e),v(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return s.__generator(this,function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(i)&&(t=!0)}a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++){o[i].applyOnlineStateChange(e)&&(t=!0)}}),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(e){e.next()})},e}(),gi=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=pr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(v(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Cr.Metadata&&t.push(i)}e=new Dr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==pr.Offline;return this.options.waitForSyncWhenOnline&&n?(v(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===pr.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),vi=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=Ue(),i=Ue(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Cr.Added:r=r.add(s.doc.key);break;case Cr.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),bi=function(){return function(e){this.key=e}}(),wi=function(){return function(e){this.key=e}}(),Ei=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ue(),this.mutatedKeys=Ue(),this.documentSet=new kr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Nr,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),l=t instanceof Vt?t:null;l&&(v(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:Cr.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Cr.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Cr.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Cr.Removed,doc:c}),p=!0,u&&(s=!0));p&&(l?(a=a.add(l),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Cr.Removed,doc:c})}return v(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;v(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case Cr.Added:return 1;case Cr.Modified:case Cr.Metadata:return 2;case Cr.Removed:return 0;default:return g("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?xr.Synced:xr.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Dr(this.query,e.documentSet,i,o,e.mutatedKeys,s===xr.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===pr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Nr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return v(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ue(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new wi(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new bi(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Ue();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return Dr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===xr.Local)},e}();var Si=5,_i=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=Si,this.backoff=new hr(this.asyncQueue,ee.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun(function(){return s.__awaiter(e,void 0,void 0,function(){var e,t,n=this;return s.__generator(this,function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.handleTransactionError(e)})})}).catch(function(e){n.handleTransactionError(e)}),[2]})})})},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!ar(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return t.runWithBackOff(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Sr(t)}return!1},e}(),Ti=function(){return function(e,t,n){this.query=e,this.targetId=t,this.view=n}}(),Ci=function(){return function(e){this.key=e,this.receivedDocument=!1}}(),xi=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Qt(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Ce(fe.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Qn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=et.forSyncEngine(),this.isPrimary=void 0,this.onlineState=pr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){v(null!==e,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return s.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l;return s.__generator(this,function(s){switch(s.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=s.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=s.sent(),o=new Ei(n,i),a=o.computeDocChanges(r),u=Ar.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==pr.Offline),v(0===(c=o.applyChanges(a,!0===this.isPrimary,u)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!c.snapshot,"applyChanges for new view should always return a snapshot"),l=new Ti(n,e.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[e.targetId]=l,[2,c.snapshot]}})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,r;return s.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}})})},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n=this;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch(Bn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},e.prototype.runTransaction=function(e,t,n){new _i(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n=this;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),k(e.targetChanges,function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===dr.RemoteStore||!this.isPrimary&&t===dr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Ce(fe.comparator)).insert(r,new Wt(r,Te.forDeletedDoc())),o=Ue().add(r),a=new Or(Te.MIN,{},new Ne(Y),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(Bn)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,t),s.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):g("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.rejectFailedWrite=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.registerPendingWritesCallback=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n;return s.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}})})},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach(function(e){e.resolve()}),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach(function(t){t.forEach(function(t){t.reject(new S(E.CANCELLED,e))})}),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ce(Y)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(v(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof bi)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof wi){d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else g("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){d("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Vr.atPath(t.path);this.limboResolutionsByTarget[n]=new Ci(t),this.remoteStore.listen(new xn(r,n,Sn.LimboResolution,ae.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=vi.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){v(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n;return s.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,u,c=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),x(this.queryViewsByTarget,function(e,t){c.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return c.unlisten(t.query)}),c.remoteStore.unlisten(t.targetId)}),[4,u]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;x(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Ce(fe.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return s.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,u,c,l;return s.__generator(this,function(s){switch(s.label){case 0:t=[],n=[],r=0,i=e,s.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(u=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return s.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return a=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(c=s.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return v(!!(l=s.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=s.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:s.sent(),s.label=9;case 9:t.push(a),s.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}})})},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return s.__awaiter(this,void 0,void 0,function(){var r,i,o,a,u;return s.__generator(this,function(s){switch(s.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return s.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=Or.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,11];case 4:return o=s.sent(),(c=o).code!==E.DATA_LOSS||c.message!==Gt?[3,6]:(a=[],x(this.queryViewsByTarget,function(e){return a.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]);case 5:return s.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return u=this.queryViewsByTarget[e],this.removeAndCleanupQuery(u),[4,this.localStore.releaseQuery(u.query,!0)];case 9:return s.sent(),this.syncEngineListener.onWatchError(u.query,n),[3,11];case 10:g("Unexpected target state: "+t),s.label=11;case 11:return[2]}var c})})},e.prototype.applyActiveTargetsChange=function(e,t){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(f=r[n],v(!this.queryViewsByTarget[f],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return s.__generator(this,function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)}).catch(Bn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=t,p.label=7;case 7:return c<l.length?(f=l[c],[5,a(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Ue().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Ue()},e}(),ki=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Ii="SharedClientState",Ni="firestore_clients",Di="firestore_mutations",Oi="firestore_targets",Ai="firestore_online_state",Ri="firestore_sequence_number",Pi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,v(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),a=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(a=new S(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(m(Ii,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Mi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,v(void 0!==n===("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new e(t,r.state,o):(m(Ii,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Li=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=ze(),a=0;i&&a<r.activeTargetIds.length;++a)i=sr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(m(Ii,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ji=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"===typeof n&&n.onlineState in pr&&"string"===typeof n.clientId?new e(n.clientId,pr[n.onlineState]):(m(Ii,"Failed to parse online state: "+t),null)},e}(),Fi=function(){function e(){this.activeTargetIds=ze()}return e.prototype.addQueryTarget=function(e){v(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ui=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ri+"_"+r,this.activeClients[this.localClientId]=new Fi,this.clientStateKeyRe=new RegExp("^"+Ni+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Di+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Oi+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ai+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,a,u,c,l,f,h=this;return s.__generator(this,function(s){switch(s.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=s.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Li.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=ze();return k(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Mi.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return d(Ii,"READ",e,t),t},e.prototype.setItem=function(e,t){d(Ii,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){d(Ii,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(d(Ii,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(t,void 0,void 0,function(){var t,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=ae.INVALID;if(null!=e)try{var n=JSON.parse(e);v("number"===typeof n,"Found non-numeric sequence number"),t=n}catch(r){m(Ii,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ae.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Pi(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:pr[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Mi(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return v(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Ni+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Oi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Di+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return v(null!==n,"Cannot parse client state key '"+e+"'"),Li.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);v(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Pi.fromWebStorageEntry(new ki(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);v(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Mi.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return ji.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(d(Ii,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(e){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(t){return i.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Bi=function(){function e(){this.localState=new Fi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Fi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),zi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return On.withCacheSize(this.cacheSizeBytes)},e}(),qi=function(){return function(){}}(),Vi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new he,r=new he,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(e){return t.initializeRest(o,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof zi?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof S?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Un.buildStoragePrefix(this.databaseInfo),i=new di(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Ui.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Ui(this.asyncQueue,this.platform,r,this.clientId,e):new Bi,[4,Un.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=Jn.createEagerPersistence(this.clientId),this.sharedClientState=new Bi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return d("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return s.__awaiter(n,void 0,void 0,function(){var n,i,o,a,u,c=this;return s.__generator(this,function(l){switch(l.label){case 0:return this.localStore=new Gn(this.persistence,e),t&&(this.lruScheduler=new An(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new vr(this.asyncQueue,r,this.credentials,i),a=function(e){return c.syncEngine.applyOnlineStateChange(e,dr.RemoteStore)},u=function(e){return c.syncEngine.applyOnlineStateChange(e,dr.SharedClientState)},this.remoteStore=new zr(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new xi(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return s.__awaiter(c,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return l.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return s.__awaiter(c,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}})})})];case 4:return l.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new he;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.registerPendingWritesCallback(t)}),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new gi(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof Vt)return e;if(e instanceof Wt)return null;throw new S(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=Ue(),r=new Ei(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new he;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()})},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new he;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()}),n.promise},e}(),Wi=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Hi=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+K(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(R("FieldPath","string",n,e[n]),0===e[n].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(le.keyField().canonicalString()),e}(),Qi=new RegExp("[~\\*/\\[\\]]");var Ki=function(){return function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}}(),Gi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(ki.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Yi=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new S(E.ABORTED,"getToken aborted due to token change.");return n?(v("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ki(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(this.currentUser)},e.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return v(null===e||"string"===typeof e,"Received invalid UID: "+e),new ki(e)},e}(),Xi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),$i=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Xi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ki.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ji(e){if(!e)return new Gi;switch(e.type){case"gapi":var t=e.client;return v(!("object"!==typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new $i(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new S(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Zi(e){return function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}(e,["next","error","complete"])}var eo,to=function(){function e(e){this._methodName=e}return e.delete=function(){return N("FieldValue.delete",arguments),no.instance},e.serverTimestamp=function(){return N("FieldValue.serverTimestamp",arguments),ro.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O("FieldValue.arrayUnion",arguments,1),new io(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O("FieldValue.arrayRemove",arguments,1),new oo(e)},e.increment=function(e){return R("FieldValue.increment","number",1,e),D("FieldValue.increment",arguments,1),new ao(e)},e.prototype.isEqual=function(e){return this===e},e}(),no=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return s.__extends(t,e),t.instance=new t,t}(to),ro=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(t,e),t.instance=new t,t}(to),io=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return s.__extends(t,e),t}(to),oo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return s.__extends(t,e),t}(to),ao=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return s.__extends(t,e),t}(to),so=_(to,"Use FieldValue.<field>() instead."),uo=/^__.*__$/,co=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new _t(e,this.data,this.fieldMask,t)):n.push(new St(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Tt(e,this.fieldTransforms)),n},e}(),lo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new _t(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Tt(e,this.fieldTransforms)),n},e}();function fo(e){switch(e){case eo.Set:case eo.MergeSet:case eo.Update:return!0;case eo.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(eo||(eo={}));var ho=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(E.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(fo(this.dataSource)&&uo.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),po=function(){return function(e,t){this.databaseId=e,this.key=t}}(),mo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new ho(eo.Set,e,le.EMPTY_PATH);go("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new co(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new ho(eo.MergeSet,e,le.EMPTY_PATH);go("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new Ne(le.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Hi)f=l._internalPath;else{if("string"!==typeof l)throw g("Expected stringOrFieldPath to be a string or a FieldPath");f=bo(e,l)}if(!r.contains(f))throw new S(E.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=mt.fromSet(s),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=mt.fromArray(r.fieldMask),o=r.fieldTransforms;return new co(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new ho(eo.Update,e,le.EMPTY_PATH);go("Data must be an object, but it was:",r,t);var i=new Ne(le.comparator),o=Bt.EMPTY;k(t,function(t,a){var s=bo(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof no)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=mt.fromSet(i);return new lo(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new ho(eo.Update,e,le.EMPTY_PATH),o=[vo(e,t)],a=[n];if(r.length%2!==0)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(vo(e,r[s])),a.push(r[s+1]);var u=new Ne(le.comparator),c=Bt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof no)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=mt.fromSet(u);return new lo(c,d,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new ho(eo.Argument,e,le.EMPTY_PATH),r=this.parseData(t,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=wo(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(yo(e=this.runPreConverter(e,t)))return go("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof to)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Ce(Y);return I(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new Bt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=It.INSTANCE),n.push(s),r++}return new zt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!fo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof no){if(t.dataSource!==eo.MergeSet)throw t.dataSource===eo.Update?(v(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ro)t.fieldTransforms.push(new yt(t.path,ri.instance));else if(e instanceof io){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new ii(n);t.fieldTransforms.push(new yt(t.path,r))}else if(e instanceof oo){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new oi(n);t.fieldTransforms.push(new yt(t.path,i))}else if(e instanceof ao){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new ai(o);t.fieldTransforms.push(new yt(t.path,a))}else g("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return It.INSTANCE;if("number"===typeof e)return sr(e)?new At(e):new Rt(e);if("boolean"===typeof e)return Nt.of(e);if("string"===typeof e)return new Pt(e);if(e instanceof Date)return new Mt(_e.fromDate(e));if(e instanceof _e)return new Mt(new _e(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof qr)return new Ut(e);if(e instanceof te)return new jt(e);if(e instanceof po)return new Ft(e.databaseId,e.key);throw t.createError("Unsupported field value: "+q(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new ho(eo.Argument,e,le.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}();function yo(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof _e)&&!(e instanceof qr)&&!(e instanceof te)&&!(e instanceof po)&&!(e instanceof to)}function go(e,t,n){if(!yo(n)||!z(n)){var r=q(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function vo(e,t){if(t instanceof Hi)return t._internalPath;if("string"===typeof t)return bo(e,t);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function bo(e,t){try{return function(e){if(e.search(Qi)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Hi.bind.apply(Hi,[void 0].concat(e.split("."))))}catch(t){throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=wo(r);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function wo(e){return e instanceof Error?e.message:e.toString()}var Eo="firestore.googleapis.com",So=!0,_o=!0,To=!1,Co=On.COLLECTION_DISABLED,xo=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eo,this.ssl=So}else M("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=C(e.ssl,So);if(W("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=C(e.timestampsInSnapshots,_o),L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=On.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Co&&e.cacheSizeBytes<On.MINIMUM_CACHE_SIZE_BYTES)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+On.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?To:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),ko=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new de,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}})})}},"object"===typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Yi(r)}else{var i=t;if(!i.projectId)throw new S(E.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new oe(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Gi}this._settings=new xo({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(D("Firestore.settings",arguments,1),R("Firestore.settings","object",1,e),T(e,"persistence"))throw new S(E.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new xo(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=Ji(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=C(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new zi(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Un.buildStoragePrefix(this.makeDatabaseInfo()),n=new he;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return s.__awaiter(e,void 0,void 0,function(){var e;return s.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new S(E.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Un.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Zi(e))return this.onSnapshotsInSyncInternal(e);R("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Wi({next:function(){e.next&&e.next()},error:function(e){throw g("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new qi),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new re(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Vi(b.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new mo(function(t){if(t instanceof Do){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new S(E.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new po(e,t._key)}return t})},e.databaseIdFromApp=function(e){var t=e.options;if(!T(t,"projectId"))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!==typeof n)throw new S(E.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return D("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Lo(ue.fromString(e),this)},e.prototype.doc=function(e){return D("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Do.forPath(ue.fromString(e),this)},e.prototype.collectionGroup=function(e){if(D("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Po(new Vr(ue.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return D("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Io(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new No(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return g("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(D("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new S(E.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Io=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;D("Transaction.get",arguments,1);var n=Bo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return g("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Wt)return new Ao(t._firestore,n._key,null,!1,!1);if(r instanceof Vt)return new Ao(t._firestore,n._key,r,!1,!1);throw g("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){A("Transaction.set",arguments,2,3);var r=Bo("Transaction.set",e,this._firestore),i=(n=jo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof t||t instanceof Hi?(O("Transaction.update",arguments,3),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(D("Transaction.update",arguments,2),r=Bo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){D("Transaction.delete",arguments,1);var t=Bo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),No=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){A("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Bo("WriteBatch.set",e,this._firestore),i=(n=jo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,wt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof t||t instanceof Hi?(O("WriteBatch.update",arguments,3),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(D("WriteBatch.update",arguments,2),r=Bo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,wt.exists(!0))),this},e.prototype.delete=function(e){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Bo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Ct(t._key,wt.NONE)),this},e.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Do=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new S(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new fe(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(D("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,e),!e)throw new S(E.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ue.fromString(e);return new Lo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){A("DocumentReference.set",arguments,1,2);var n=(t=jo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,wt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof e||e instanceof Hi?(O("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,wt.exists(!0)))},e.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ct(this._key,wt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];A("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof e[i]||Zi(e[i])||(W("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(e[i])?n=e[i]:(R("DocumentReference.onSnapshot","function",i,e[i]),P("DocumentReference.onSnapshot","function",i+1,e[i+1]),P("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Wi({next:function(e){if(t.next){v(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Ao(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Vr.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return A("DocumentReference.get",arguments,0,1),Uo("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Ao(t.firestore,t._key,e,!0,e instanceof Vt&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new S(E.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new S(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Oo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ao=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return A("DocumentSnapshot.data",arguments,0,1),e=Fo("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),xt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(A("DocumentSnapshot.get",arguments,1,2),t=Fo("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(vo("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,xt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Do(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Oo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof Bt)return this.convertObject(e,t);if(e instanceof zt)return this.convertArray(e,t);if(e instanceof Ft){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Do(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return v("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Ao),Po=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(D("Query.where",arguments,3),V("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];U("Query.where",i,2,n)}var o,a=vo("Query.where",t),s=Hr.fromString(n);if(a.isKeyField()){if(s===Hr.ARRAY_CONTAINS||s===Hr.ARRAY_CONTAINS_ANY)throw new S(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Hr.IN){this.validateDisjunctiveFilterElements(r,s);for(var u=[],c=0,l=r;c<l.length;c++){var f=l[c];u.push(this.parseDocumentIdValue(f))}o=new zt(u)}else o=this.parseDocumentIdValue(r)}else s!==Hr.IN&&s!==Hr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var h=Qr.create(a,s,o);return this.validateNewFilter(h),new e(this._query.addFilter(h),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(A("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Jr.ASCENDING;else{if("desc"!==n)throw new S(E.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Jr.DESCENDING}if(null!==this._query.startAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vo("Query.orderBy",t),o=new ei(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(D("Query.limit",arguments,1),R("Query.limit","number",1,t),t<=0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(V(e,1,t),t instanceof Ao){if(n.length>0)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new S(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Ft(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof Lt)throw new S(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new S(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Zr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new S(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ue.fromString(a));if(!fe.isDocumentKey(s))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new fe(s);i.push(new Ft(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new Zr(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];A("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof e[i]||Zi(e[i])||(W("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(e[i])?n=e[i]:(R("Query.onSnapshot","function",i,e[i]),P("Query.onSnapshot","function",i+1,e[i+1]),P("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Wi({next:function(e){t.next&&t.next(new Mo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return A("Query.get",arguments,0,1),Uo("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new Mo(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new S(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"===typeof e){if(""===e)throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ue.fromString(e));if(!fe.isDocumentKey(t))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Ft(this.firestore._databaseId,new fe(t))}if(e instanceof Do){var n=e;return new Ft(this.firestore._databaseId,n._key)}throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new S(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter(function(e){return Number.isNaN(e)}).length>0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof Qr){var t=[Hr.ARRAY_CONTAINS,Hr.ARRAY_CONTAINS_ANY],n=[Hr.IN,Hr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new S(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new S(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Mo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Oo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;A("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Po(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(W("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new Ro(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return v(t.type===Cr.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==Cr.Metadata}).map(function(t){var r=new Ro(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Cr.Added&&(v((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Cr.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:zo(t.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Ro(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(Mo.prototype.docChanges,e,{get:function(){return function(){throw new S(E.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Lo=function(e){function t(t,n){var r=e.call(this,Vr.atPath(t),n)||this;if(t.length%2!==1)throw new S(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return s.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Do(new fe(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(A("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=G.newId()),R("CollectionReference.doc","non-empty string",1,e),""===e)throw new S(E.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ue.fromString(e);return Do.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){D("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Po);function jo(e,t){if(void 0===t)return{merge:!1};if(W(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),j(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"===typeof e||e instanceof Hi}),void 0!==t.mergeFields&&void 0!==t.merge)throw new S(E.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Fo(e,t){return void 0===t?{}:(W(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Uo(e,t){P(e,"object",1,t),t&&(W(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function Bo(e,t,n){if(t instanceof Do){if(t.firestore!==n)throw new S(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw H(e,"DocumentReference",1,t)}function zo(e){switch(e){case Cr.Added:return"added";case Cr.Modified:case Cr.Metadata:return"modified";case Cr.Removed:return"removed";default:return g("Unknown change type: "+e)}}var qo=_(ko,"Use firebase.firestore() instead."),Vo=_(Io,"Use firebase.firestore().runTransaction() instead."),Wo=_(No,"Use firebase.firestore().batch() instead."),Ho=_(Do,"Use firebase.firestore().doc() instead."),Qo=_(Ao),Ko=_(Ro),Go=_(Po),Yo=_(Mo),Xo=_(Lo,"Use firebase.firestore().collection() instead."),$o={Firestore:qo,GeoPoint:qr,Timestamp:_e,Blob:ne,Transaction:Vo,WriteBatch:Wo,DocumentReference:Ho,DocumentSnapshot:Qo,Query:Go,QueryDocumentSnapshot:Ko,QuerySnapshot:Yo,CollectionReference:Xo,FieldPath:Hi,FieldValue:so,setLogLevel:ko.setLogLevel,CACHE_SIZE_UNLIMITED:Co};function Jo(e){e.INTERNAL.registerService("firestore",function(e){return new ko(e)},function(e){v(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}($o))}var Zo=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),ea=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!==typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ta=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),na="Connection",ra={BatchGetDocuments:"batchGet",Commit:"commit"},ia="gl-js/ fire/"+l,oa=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=ia},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(o,a){var s=new c.XhrIo;s.listenOnce(c.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var t=s.getResponseJson();d(na,"XHR received:",JSON.stringify(t)),o(t);break;case c.ErrorCode.TIMEOUT:d(na,'RPC "'+e+'" timed out'),a(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d(na,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(E).indexOf(t)>=0?t:E.UNKNOWN}(r.status);a(new S(i,r.message))}else a(new S(E.UNKNOWN,"Server responded with status "+s.getStatus()))}else d(na,'RPC "'+e+'" failed'),a(new S(E.UNAVAILABLE,"Connection failed."));break;default:g('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(na,'RPC "'+e+'" completed.')}});var u=JSON.stringify(t);d(na,"XHR sending: ",i+" "+u);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",u,l,15)})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(na,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new ta({sendFn:function(e){l?d(na,"Not sending because WebChannel is closed:",e):(s||(d(na,"Opening WebChannel transport."),a.open(),s=!0),d(na,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,function(e){try{t(e)}catch(n){setTimeout(function(){throw n},0)}})};return h(c.WebChannel.EventType.OPEN,function(){l||d(na,"WebChannel transport opened.")}),h(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(na,"WebChannel transport closed"),f.callOnClose())}),h(c.WebChannel.EventType.ERROR,function(e){l||(l=!0,d(na,"WebChannel transport errored:",e),f.callOnClose(new S(E.UNAVAILABLE,"The operation could not be completed")))}),h(c.WebChannel.EventType.MESSAGE,function(e){if(!l){var t=e.data[0];v(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){d(na,"WebChannel received error:",r);var i=r.status,o=function(e){var t=wr[e];if(void 0!==t)return _r(t)}(i),s=r.message;void 0===o&&(o=E.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,f.callOnClose(new S(o,s)),a.close()}else d(na,"WebChannel received:",t),f.callOnMessage(t)}}),setTimeout(function(){f.callOnOpen()},0),f},e.prototype.makeUrl=function(e){var t=ra[e];v(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),aa=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new oa(e))},e.prototype.newConnectivityMonitor=function(){return ea.isAvailable()?new ea:new Zo},e.prototype.newSerializer=function(e){return new di(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();function sa(e){Jo(e)}b.setPlatform(new aa),sa(o),t.registerFirestore=sa},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ErrorCode",function(){return ur}),n.d(t,"EventType",function(){return cr}),n.d(t,"WebChannel",function(){return lr}),n.d(t,"XhrIo",function(){return fr}),n.d(t,"createWebChannelTransport",function(){return sr});var r,i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o=o||{},a=i;function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function h(e){return"array"==f(e)}function p(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function S(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[m]||(this[m]=++y)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function x(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e){return/^[\s\xa0]*$/.test(e)}var N,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function O(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var R=a.navigator;if(R){var P=R.userAgent;if(P){N=P;break e}}N=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t,n={};for(t in e)n[t]=e[t];return n}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=l;var B,z=O(N,"Opera"),q=O(N,"Trident")||O(N,"MSIE"),V=O(N,"Edge"),W=V||q,H=O(N,"Gecko")&&!(O(N.toLowerCase(),"webkit")&&!O(N,"Edge"))&&!(O(N,"Trident")||O(N,"MSIE"))&&!O(N,"Edge"),Q=O(N.toLowerCase(),"webkit")&&!O(N,"Edge");function K(){var e=a.document;return e?e.documentMode:void 0}e:{var G="",Y=function(){var e=N;return H?/rv:([^\);]+)(\)|;)/.exec(e):V?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Q?/WebKit\/(\S+)/.exec(e):z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&(G=Y?Y[1]:""),q){var X=K();if(null!=X&&X>parseFloat(G)){B=String(X);break e}}B=G}var $,J={};function Z(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=D(String(B)).split("."),r=D(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=A(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||A(0==a[2].length,0==s[2].length)||A(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var ee=a.document;$=ee&&q?K()||("CSS1Compat"==ee.compatMode?parseInt(B,10):5):void 0;var te=!q||9<=Number($),ne=q&&!Z("9"),re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function oe(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.Ja=!1},S(oe,ie);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.b=function(){oe.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ne)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ue,this.X=this.Z=!1}function le(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function fe(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(le(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var de="closure_lm_"+(1e6*Math.random()|0),me={};function ye(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}r=Te(r);return t&&t[se]?t.Ba(n,r,d(i)?!!i.capture:!!i,o):ge(t,n,r,!0,i,o)}(e,t,n,r,i);if(h(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.Aa(t,n,d(r)?!!r.capture:!!r,i):ge(e,t,n,!1,r,i)}function ge(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!te)return null;var s=Se(e);if(s||(e[de]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ee,t=te?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[se])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(he(n,e),0==n.b&&(n.src=null,t[de]=null)):le(e)}}}function be(e){return e in me?me[e]:me[e]="on"+e}function we(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&ve(e),n.call(r,t)}function Ee(e,t){return!!e.X||(te?we(e,new oe(t,this)):we(e,t=new oe(t||c("window.event"),this)))}function Se(e){return(e=e[de])instanceof fe?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==f(e)?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function Ce(){_.call(this),this.c=new fe(this),this.J=this,this.B=null}function xe(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&he(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}S(Ce,_),Ce.prototype[se]=!0,(r=Ce.prototype).addEventListener=function(e,t,n,r){ye(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=Te(r),t&&t[se]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=pe(a=t.a[n],r,i,o))&&(le(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=Se(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pe(n,r,i,o)),(r=-1<t?n[t]:null)&&ve(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(s(e))e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var i=e;F(e=new ie(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=xe(a,r,!0,e)&&i}if(i=xe(a=e.a=n,r,!0,e)&&i,i=xe(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=xe(a=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(Ce.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)le(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var ke=a.JSON.stringify;function Ie(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ne(){this.b=this.a=null}Ie.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var De,Oe=new Ie(function(){return new Re},function(e){e.reset()});function Ae(){var e=je,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Re(){this.next=this.b=this.a=null}function Pe(e){a.setTimeout(function(){throw e},0)}function Me(e,t){De||function(){var e=a.Promise.resolve(void 0);De=function(){e.then(Fe)}}(),Le||(De(),Le=!0),je.add(e,t)}Ne.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Re.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Re.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,je=new Ne;function Fe(){for(var e;e=Ae();){try{e.a.call(e.b)}catch(n){Pe(n)}var t=Oe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Ue(e,t){Ce.call(this),this.b=e||1,this.a=t||a,this.f=b(this.gb,this),this.g=E()}function Be(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function ze(e,t,n){if("function"==f(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function qe(e,t,n){_.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.ab,this),this.a=[]}function Ve(e){e.U=ze(e.b,e.c),e.f.apply(null,e.a)}function We(e){_.call(this),this.b=e,this.a={}}S(Ue,Ce),(r=Ue.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=E()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Be(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=E())},r.G=function(){Ue.N.G.call(this),Be(this),delete this.a},S(qe,_),(r=qe.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:Ve(this)},r.G=function(){qe.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,Ve(this))},S(We,_);var He=[];function Qe(e,t,n,r){h(n)||(n&&(He[0]=n.toString()),n=He);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ke(e){M(e.a,function(e,t){this.a.hasOwnProperty(t)&&ve(e)},e),e.a={}}function Ge(){}We.prototype.G=function(){We.N.G.call(this),Ke(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new Ce;function Xe(e){ie.call(this,"serverreachability",e)}function $e(e){Ye.dispatchEvent(new Xe(Ye,e))}function Je(e){ie.call(this,"statevent",e)}function Ze(e){Ye.dispatchEvent(new Je(Ye,e))}function et(e){ie.call(this,"timingevent",e)}function tt(e,t){if("function"!=f(e))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}S(Xe,ie),S(Je,ie),S(et,ie);var nt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},rt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function it(){}function ot(e){var t;return(t=e.a)||(t=e.a={}),t}function at(){}it.prototype.a=null;var st,ut={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ct(){ie.call(this,"d")}function lt(){ie.call(this,"c")}function ft(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new We(this),this.O=pt,e=W?125:void 0,this.P=new Ue(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}S(ct,ie),S(lt,ie),S(ft,it),st=new ft;var pt=45e3,dt={},mt={};function yt(e,t,n){e.F=1,e.f=zt(Pt(t)),e.l=n,e.H=!0,vt(e,null)}function gt(e,t,n,r){e.F=1,e.f=zt(Pt(t)),e.l=null,e.H=n,vt(e,r)}function vt(e,t){e.v=E(),Et(e),e.D=Pt(e.f),Bt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new qe(b(e.Ka,e,e.a),e.J)),Qe(e.I,e.a,"readystatechange",e.eb),t=e.h?L(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),$e(1)}function bt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=wt(e,n);if(i==mt){4==t&&(e.c=4,Ze(14),r=!1);break}if(i==dt){e.c=4,Ze(15),r=!1;break}xt(e,i)}4==t&&0==n.length&&(e.c=1,Ze(16),r=!1),e.b=e.b&&r,r||(Ct(e),Tt(e))}function wt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.A=r+n,t))}function Et(e){e.R=E()+e.O,St(e,e.O)}function St(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(b(e.bb,e),t)}function _t(e){e.i&&(a.clearTimeout(e.i),e.i=null)}function Tt(e){e.g.Da()||e.m||e.g.na(e)}function Ct(e){_t(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Be(e.P),Ke(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function xt(e,t){try{e.g.Ga(e,t),$e(4)}catch(n){}}function kt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||s(e))C(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(p(e)||s(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(s(e))return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function It(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof It)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e,t){Ot(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dt(e))}function Dt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Pn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!W&&!this.a.aa())){this.m||4!=t||7==n||$e(8==n||0>=r?3:2),_t(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Mn(this.a,"X-HTTP-Initial-Response");if(a&&!I(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,Ze(12),Ct(this),Tt(this);break e}this.s=!0,xt(this,s)}this.H?(bt(this,t,o),W&&this.b&&3==t&&(Qe(this.I,this.P,"tick",this.cb),this.P.start())):xt(this,o),4==t&&Ct(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Et(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ze(12)):(this.c=0,Ze(13)),Ct(this),Tt(this)}}}catch(u){}},r.cb=function(){if(this.a){var e=Pn(this.a),t=this.a.aa();this.A<t.length&&(_t(this),bt(this,e,t),this.b&&4!=e&&Et(this))}},r.cancel=function(){this.m=!0,Ct(this)},r.bb=function(){this.i=null;var e=E();0<=e-this.R?(2!=this.F&&($e(3),Ze(17)),Ct(this),this.c=2,Tt(this)):St(this,this.R-e)},(r=It.prototype).C=function(){Dt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return Dt(this),this.a.concat()},r.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},r.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var At=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Rt?(this.h=void 0!==t?t:e.h,Mt(this,e.f),this.j=e.j,Lt(this,e.b),jt(this,e.i),this.a=e.a,Ft(this,tn(e.c)),this.g=e.g):e&&(n=String(e).match(At))?(this.h=!!t,Mt(this,n[1]||"",!0),this.j=qt(n[2]||""),Lt(this,n[3]||"",!0),jt(this,n[4]),this.a=qt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.g=qt(n[7]||"")):(this.h=!!t,this.c=new Xt(null,this.h))}function Pt(e){return new Rt(e)}function Mt(e,t,n){e.f=n?qt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Lt(e,t,n){e.b=n?qt(t,!0):t}function jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ft(e,t,n){t instanceof Xt?(e.c=t,function(e,t){t&&!e.f&&($t(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),en(this,n,e))},e)),e.f=t}(e.c,e.h)):(n||(t=Vt(t,Gt)),e.c=new Xt(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function Bt(e,t,n){h(n)||(n=[String(n)]),en(e.c,t,n)}function zt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vt(t,Ht,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Vt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?Kt:Qt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Vt(n,Yt)),e.join("")},Rt.prototype.resolve=function(e){var t=Pt(this),n=!!e.f;n?Mt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Lt(t,e.b):n=null!=e.i;var r=e.a;if(n)jt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(O(i,"./")||O(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Ft(t,tn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Ht=/[#\/\?@]/g,Qt=/[#\?:]/g,Kt=/[#\?]/g,Gt=/[#\?@]/g,Yt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $t(e){e.a||(e.a=new It,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jt(e,t){$t(e),t=nn(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nt(e.a,t))}function Zt(e,t){return $t(e),t=nn(e,t),Ot(e.a.b,t)}function en(e,t,n){Jt(e,t),0<n.length&&(e.c=null,e.a.set(nn(e,t),k(n)),e.b+=n.length)}function tn(e){var t=new Xt;return t.c=e.c,e.a&&(t.a=new It(e.a),t.b=e.b),t}function nn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(e){var t=e.a.F.a;if(null!=t)Ze(4),t?(Ze(10),Kn(e.a,e,!1)):(Ze(11),Kn(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Jn(t=e.a,t.Y()?e.f:null,e.i),Ze(4),Bt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),gt(e.b,t,!1,e.f)}}function an(){this.a=this.b=null}function sn(){this.a=new It}function un(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++y)):t.charAt(0)+e}function cn(e,t){this.b=e,this.a=t}function ln(e){this.g=e||fn,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Xt.prototype).add=function(e,t){$t(this),this.c=null,e=nn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){$t(this),this.a.forEach(function(n,r){C(n,function(n){e.call(t,n,r,this)},this)},this)},r.K=function(){$t(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){$t(this);var t=[];if(s(e))Zt(this,e)&&(t=x(t,this.a.get(nn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=x(t,e[n])}return t},r.set=function(e,t){return $t(this),this.c=null,Zt(this,e=nn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},S(function(){},function(){}),(r=rn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Mn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Mn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Xn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Xn(t,2)}else 1==this.M&&(this.g?Ze(6):"11111"==t?(Ze(5),this.g=!0,(!q||10<=Number($))&&(this.c=200,this.b.cancel(),Ze(11),Kn(this.a,this,!0))):(Ze(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(Ze(11),Kn(this.a,this,!0)):(Ze(10),Kn(this.a,this,!1)));else{0==this.M?Ze(8):1==this.M&&Ze(9);var e=this.a;e.m=this.c,Xn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(e){this.a.set(un(e),e)},sn.prototype.C=function(){return this.a.C()};var fn=10;function hn(e,t){!e.a&&(O(t,"spdy")||O(t,"quic")||O(t,"h2"))&&(e.f=e.g,e.a=new sn,e.b&&(yn(e,e.b),e.b=null))}function pn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function dn(e){return e.b?1:e.a?e.a.a.c:0}function mn(e,t){return e.b?e=e.b==t:e.a?(t=un(t),e=Ot(e.a.a.b,t)):e=!1,e}function yn(e,t){e.a?e.a.add(t):e.b=t}function gn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=un(t),n=Ot(e.a.a.b,n)),n&&Nt(e.a.a,un(t)))}function vn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return C(e.a.C(),function(e){t=t.concat(e.j)}),t}return k(e.c)}function bn(){}function wn(){this.a=new bn}function En(e,t,n){var r=n||"";try{kt(e,function(e,n){var i=e;d(e)&&(i=ke(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){var e;this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),function(e){e.cancel()}),(e=this.a.a).b={},e.a.length=0,e.c=0)},bn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},bn.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var _n=a.JSON.parse;function Tn(e){Ce.call(this),this.headers=new It,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}S(Tn,Ce);var Cn="",xn=/^https?$/i,kn=["POST","PUT"];function In(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Dn(e),An(e)}function Dn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function On(e){if(e.b&&"undefined"!=typeof o&&(!e.s[1]||4!=Pn(e)||2!=e.T()))if(e.l&&4==Pn(e))ze(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Pn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.A).match(At)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!xn.test(s?s.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Dn(e))}finally{An(e)}}}function An(e,t){if(e.a){Rn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Rn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function Pn(e){return e.a?e.a.readyState:0}function Mn(e,t){return e.a?e.a.getResponseHeader(t):null}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return M(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function jn(e){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(e&&e.concurrentRequestLimit),this.ja=new wn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(e){if(Un(e),3==e.u){var t=e.P++,n=Pt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Vn(e,n),(t=new ht(e,t,void 0)).F=2,t.f=zt(Pt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=E(),Et(t)}$n(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(a.clearTimeout(e.l),e.l=null),Gn(e),e.b.cancel(),e.h&&(u(e.h)&&a.clearTimeout(e.h),e.h=null)}function Bn(e,t){e.f.push(new cn(e.Ra++,t)),3==e.u&&zn(e)}function zn(e){pn(e.b)||e.h||(e.h=!0,Me(e.Ia,e),e.A=0)}function qn(e,t){var n;n=t?t.W:e.P++;var r=Pt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),Vn(e,r),e.g&&e.i&&Ln(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),yn(e.b,n),yt(n,r,t)}function Vn(e,t){e.c&&kt({},function(e,n){Ut(t,n,e)})}function Wn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{En(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Hn(e){e.a||e.l||(e.S=1,Me(e.Ha,e),e.v=0)}function Qn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=tt(b(e.Ha,e),Yn(e,e.v)),e.v++,!0)}function Kn(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Jn(e,null,e.ha),zn(e)}function Gn(e){null!=e.s&&(a.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function Xn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.fb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Mt(n,"https"),zt(n)),function(e,t){var n=new Ge;if(a.Image){var r=new Image;r.onload=w(Sn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(Sn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(Sn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(Sn,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.u=0,e.c&&e.c.ta(t),$n(e),Un(e)}function $n(e){e.u=0,e.m=-1,e.c&&(0==vn(e.b).length&&0==e.f.length||(e.b.c.length=0,k(e.f),e.f.length=0),e.c.sa())}function Jn(e,t,n){var r=function(e){return e instanceof Rt?Pt(e):new Rt(e,void 0)}(n);if(""!=r.b)t&&Lt(r,t+"."+r.b),jt(r,r.i);else{var i,o=a.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Rt(null,void 0);return e&&Mt(i,e),t&&Lt(i,t),n&&jt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&M(e.V,function(e,t){Ut(r,t,e)}),t=e.j,n=e.I,t&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),Vn(e,r),r}function Zn(){}function er(){if(q&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function tr(e,t){Ce.call(this),this.a=new jn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))t=i;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!I(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ir(this)}function nr(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){lt.call(this),this.status=1}function ir(e){this.a=e}(r=Tn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ot(this.H):ot(st),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void Nn(this,o)}e=n||"";var i=new It(this.headers);r&&kt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=In,n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=T(kn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(e){return q&&Z(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=ze(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Nn(this,o)}},r.Ca=function(){"undefined"!=typeof o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),An(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),An(this,!0)),Tn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(e){return-1}},r.za=function(){try{return 2<Pn(this)?this.a.statusText:""}catch(e){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_n(t)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=jn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Wn(this,n,t),Ut(i=Pt(this.B),"RID",e),Ut(i,"CVER",22),this.o&&this.j&&Ut(i,"X-HTTP-Session-Id",this.j),Vn(this,i),this.g&&r&&Ln(i,this.g,r),yn(this.b,n),this.W?(Ut(i,"$req",t),Ut(i,"SID","null"),n.S=!0,yt(n,i,null)):yt(n,i,t),this.u=2}}else 3==this.u&&(e?qn(this,e):0==this.f.length||pn(this.b)||qn(this))},r.Ha=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Pt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),Vn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&Ln(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),gt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||mn(this.b,e)))if(this.m=e.o,!e.s&&mn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(h(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Gn(this),this.a.cancel(),this.a=null}Qn(this),Ze(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(b(this.Za,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Xn(this,11)}else if((e.s||this.a==e)&&Gn(this),!I(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Mn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Mn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(_t(r),Et(r)),this.a=r):Hn(this),0<this.f.length&&zn(this)}else"stop"!=r[0]&&"close"!=r[0]||Xn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Xn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Qn(this),Ze(19))},r.na=function(e){var t=null;if(this.a==e){Gn(this),this.a=null;var n=2}else{if(!mn(this.b,e))return;t=e.j,gn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=E()-e.v,Ye.dispatchEvent(new et(Ye,e.l?e.l.length:0,t,this.A)),zn(this)):Hn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(dn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=tt(b(e.Ia,e,t),Yn(e,e.A)),e.A++,!0))}(this,e)||2==n&&Qn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Xn(this,5);break;case 4:Xn(this,10);break;case 3:Xn(this,6);break;default:Xn(this,2)}}},r.fb=function(e){Ze(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},er.prototype.a=function(e,t){return new tr(e,t)},S(tr,Ce),(r=tr.prototype).addEventListener=function(e,t,n,r){tr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){tr.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;Ze(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new rn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Ln(t,e.g,e.i)),(e=e.w).i=n,t=Jn(e.a,null,e.i),Ze(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,on(e)):(Bt(t,"MODE","init"),!e.a.o&&e.a.j&&Bt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,gt(e.b,t,!1,null),e.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(e){if(s(e)){var t={};t.__data__=e,Bn(this.a,t)}else this.h?((t={}).__data__=ke(e),Bn(this.a,t)):Bn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},S(nr,ct),S(rr,lt),S(ir,Zn),ir.prototype.va=function(){this.a.dispatchEvent("a")},ir.prototype.ua=function(e){this.a.dispatchEvent(new nr(e))},ir.prototype.ta=function(e){this.a.dispatchEvent(new rr(e))},ir.prototype.sa=function(){this.a.dispatchEvent("b")};var or=w(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},er);er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Ce.prototype.listen=Ce.prototype.Aa,Tn.prototype.listenOnce=Tn.prototype.Ba,Tn.prototype.getLastError=Tn.prototype.Ya,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getStatusText=Tn.prototype.za,Tn.prototype.getResponseJson=Tn.prototype.Va,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:nt,EventType:rt,WebChannel:at,XhrIo:Tn},sr=ar.createWebChannelTransport,ur=ar.ErrorCode,cr=ar.EventType,lr=ar.WebChannel,fr=ar.XhrIo;t.default=ar}.call(this,n(22))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1));var r=s(n(104)),i=s(n(107)),o=s(n(0)),a=s(n(55));n(57);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(a.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);f.defaultProps={classNames:""},f.propTypes={};var h=f;t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r=n(105);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(106));e.exports=t.default},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(1));var r=a(n(0)),i=n(23),o=a(n(58));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],u=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})})},t.getNextChildMapping=function(e,t,n){var s=i(e.children),u=o(t,s);return Object.keys(u).forEach(function(i){var o=u[i];if((0,r.isValidElement)(o)){var c=i in t,l=i in s,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}}),u};var r=n(0);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)}),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case g:case y:case o:return t}}}function E(e){return w(e)===h}t.typeOf=w,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b)},t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=(a(r),a(n(1))),o=a(n(37));a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,o.default)()+"__",h=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((a={})[f]=i.default.object,a),{Provider:h,Consumer:p}},e.exports=t.default},,function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,noGutters:u.a.bool,className:u.a.string,cssModule:u.a.object,form:u.a.bool},p=function(e){var t=e.className,n=e.cssModule,o=e.noGutters,s=e.tag,u=e.form,c=Object(i.a)(e,["className","cssModule","noGutters","tag","form"]),h=Object(f.e)(l()(t,o?"no-gutters":null,u?"form-row":"row"),n);return a.a.createElement(s,Object(r.a)({},c,{className:h}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(61),a=n.n(o),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(2),d=l.a.oneOfType([l.a.number,l.a.string]),m=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:d,offset:d})]),y={tag:p.h,xs:m,sm:m,md:m,lg:m,xl:m,className:l.a.string,cssModule:l.a.object,widths:l.a.array},g={tag:"div",widths:["xs","sm","md","lg","xl"]},v=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},b=function(e){var t=e.className,n=e.cssModule,o=e.widths,s=e.tag,c=Object(i.a)(e,["className","cssModule","widths","tag"]),l=[];o.forEach(function(t,r){var i=e[t];if(delete c[t],i||""===i){var o=!r;if(a()(i)){var s,u=o?"-":"-"+t+"-",f=v(o,t,i.size);l.push(Object(p.e)(h()(((s={})[f]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s)),n))}else{var d=v(o,t,i);l.push(d)}}}),l.length||l.push("col");var f=Object(p.e)(h()(t,l),n);return u.a.createElement(s,Object(r.a)({},c,{className:f}))};b.propTypes=y,b.defaultProps=g,t.a=b},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,inverse:u.a.bool,color:u.a.string,body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.body,u=e.inverse,c=e.outline,h=e.tag,p=e.innerRef,d=Object(i.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(f.e)(l()(t,"card",!!u&&"text-white",!!s&&"card-body",!!o&&(c?"border":"bg")+"-"+o),n);return a.a.createElement(h,Object(r.a)({},d,{className:m,ref:p}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"card-header"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},p=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,u=Object(i.a)(e,["className","cssModule","innerRef","tag"]),c=Object(f.e)(l()(t,"card-body"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c,ref:o}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"card-title"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"card-subtitle"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"card-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"p"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={light:u.a.bool,dark:u.a.bool,full:u.a.bool,fixed:u.a.string,sticky:u.a.string,color:u.a.string,role:u.a.string,tag:f.h,className:u.a.string,cssModule:u.a.object,expand:u.a.oneOfType([u.a.bool,u.a.string])},p=function(e){var t,n=e.expand,o=e.className,s=e.cssModule,u=e.light,c=e.dark,h=e.fixed,p=e.sticky,d=e.color,m=e.tag,y=Object(i.a)(e,["expand","className","cssModule","light","dark","fixed","sticky","color","tag"]),g=Object(f.e)(l()(o,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(n),((t={"navbar-light":u,"navbar-dark":c})["bg-"+d]=d,t["fixed-"+h]=h,t["sticky-"+p]=p,t)),s);return a.a.createElement(m,Object(r.a)({},y,{className:g}))};p.propTypes=h,p.defaultProps={tag:"nav",expand:!1},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,fluid:u.a.bool,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.fluid,s=e.tag,u=Object(i.a)(e,["className","cssModule","fluid","tag"]),c=Object(f.e)(l()(t,o?"container-fluid":"container"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(f.e)(l()(t,"navbar-brand"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};p.propTypes=h,p.defaultProps={tag:"a"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,type:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.node},p=function(e){var t=e.className,n=e.cssModule,o=e.children,s=e.tag,u=Object(i.a)(e,["className","cssModule","children","tag"]),c=Object(f.e)(l()(t,"navbar-toggler"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c}),o||a.a.createElement("span",{className:Object(f.e)("navbar-toggler-icon",n)}))};p.propTypes=h,p.defaultProps={tag:"button",type:"button"},t.a=p},function(e,t,n){"use strict";var r,i=n(3),o=n(4),a=n(14),s=n(6),u=n(28),c=n(0),l=n.n(c),f=n(1),h=n.n(f),p=n(5),d=n.n(p),m=n(33),y=n(2),g=Object(u.a)({},m.Transition.propTypes,{isOpen:h.a.bool,children:h.a.oneOfType([h.a.arrayOf(h.a.node),h.a.node]),tag:y.h,className:h.a.node,navbar:h.a.bool,cssModule:h.a.object,innerRef:h.a.oneOfType([h.a.func,h.a.string,h.a.object])}),v=Object(u.a)({},m.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:y.c.Collapse}),b=((r={})[y.b.ENTERING]="collapsing",r[y.b.ENTERED]="collapse show",r[y.b.EXITING]="collapsing",r[y.b.EXITED]="collapse",r);function w(e){return e.scrollHeight}var E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){n[e]=n[e].bind(Object(a.a)(n))}),n}Object(s.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:w(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:w(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,a=t.className,s=t.navbar,c=t.cssModule,f=t.children,h=(t.innerRef,Object(o.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),p=this.state.height,g=Object(y.g)(h,y.a),v=Object(y.f)(h,y.a);return l.a.createElement(m.Transition,Object(i.a)({},g,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var r=function(e){return b[e]||"collapse"}(t),o=Object(y.e)(d()(a,r,s&&"navbar-collapse"),c),h=null===p?null:{height:p};return l.a.createElement(n,Object(i.a)({},v,{style:Object(u.a)({},v.style,h),className:o,ref:e.props.innerRef}),f)})},t}(c.Component);E.propTypes=g,E.defaultProps=v,t.a=E},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,size:u.a.string,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.size,u=Object(i.a)(e,["className","cssModule","tag","size"]),c=Object(f.e)(l()(t,"input-group",s?"input-group-"+s:null),n);return a.a.createElement(o,Object(r.a)({},u,{className:c}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(14),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(2),d={children:l.a.node,type:l.a.string,size:l.a.string,bsSize:l.a.string,valid:l.a.bool,invalid:l.a.bool,tag:p.h,innerRef:l.a.oneOfType([l.a.object,l.a.func,l.a.string]),plaintext:l.a.bool,addon:l.a.bool,className:l.a.string,cssModule:l.a.object},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(o.a)(n)),n.focus=n.focus.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,a=e.bsSize,s=e.valid,c=e.invalid,l=e.tag,f=e.addon,d=e.plaintext,m=e.innerRef,y=Object(i.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(o)>-1,v=new RegExp("\\D","g"),b=l||("select"===o||"textarea"===o?o:"input"),w="form-control";d?(w+="-plaintext",b=l||"input"):"file"===o?w+="-file":g&&(w=f?null:"form-check-input"),y.size&&v.test(y.size)&&(Object(p.i)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=y.size,delete y.size);var E=Object(p.e)(h()(t,c&&"is-invalid",s&&"is-valid",!!a&&"form-control-"+a,w),n);return("input"===b||l&&"function"===typeof l)&&(y.type=o),y.children&&!d&&"select"!==o&&"string"===typeof b&&"select"!==b&&(Object(p.i)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete y.children),u.a.createElement(b,Object(r.a)({},y,{ref:m,className:E}))},t}(u.a.Component);m.propTypes=d,m.defaultProps={type:"text"},t.a=m},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h=n(64),p={tag:f.h,addonType:u.a.oneOf(["prepend","append"]).isRequired,children:u.a.node,className:u.a.string,cssModule:u.a.object},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.addonType,u=e.children,c=Object(i.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(f.e)(l()(t,"input-group-"+s),n);return"string"===typeof u?a.a.createElement(o,Object(r.a)({},c,{className:p}),a.a.createElement(h.a,{children:u})):a.a.createElement(o,Object(r.a)({},c,{className:p,children:u}))};d.propTypes=p,d.defaultProps={tag:"div"},t.a=d},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tabs:u.a.bool,pills:u.a.bool,vertical:u.a.oneOfType([u.a.bool,u.a.string]),horizontal:u.a.string,justified:u.a.bool,fill:u.a.bool,navbar:u.a.bool,card:u.a.bool,tag:f.h,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tabs,s=e.pills,u=e.vertical,c=e.horizontal,h=e.justified,p=e.fill,d=e.navbar,m=e.card,y=e.tag,g=Object(i.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),v=Object(f.e)(l()(t,d?"navbar-nav":"nav",!!c&&"justify-content-"+c,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(u),{"nav-tabs":o,"card-header-tabs":m&&o,"nav-pills":s,"card-header-pills":m&&s,"nav-justified":h,"nav-fill":p}),n);return a.a.createElement(y,Object(r.a)({},g,{className:v}))};p.propTypes=h,p.defaultProps={tag:"ul",vertical:!1},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(5),l=n.n(c),f=n(2),h={tag:f.h,active:u.a.bool,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),c=Object(f.e)(l()(t,"nav-item",!!o&&"active"),n);return a.a.createElement(s,Object(r.a)({},u,{className:c}))};p.propTypes=h,p.defaultProps={tag:"li"},t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(14),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(26),h=n(5),p=n.n(h),d=n(20),m=n(2),y={disabled:l.a.bool,direction:l.a.oneOf(["up","down","left","right"]),group:l.a.bool,isOpen:l.a.bool,nav:l.a.bool,active:l.a.bool,addonType:l.a.oneOfType([l.a.bool,l.a.oneOf(["prepend","append"])]),size:l.a.string,tag:m.h,toggle:l.a.func,children:l.a.node,className:l.a.string,cssModule:l.a.object,inNavbar:l.a.bool,setActiveFromChild:l.a.bool},g=function(e){function t(t){var n;return(n=e.call(this,t)||this).addEvents=n.addEvents.bind(Object(o.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(o.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(o.a)(n)),n.removeEvents=n.removeEvents.bind(Object(o.a)(n)),n.toggle=n.toggle.bind(Object(o.a)(n)),n.containerRef=u.a.createRef(),n}Object(a.a)(t,e);var n=t.prototype;return n.getContextValue=function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){return[].slice.call(this.getContainer().querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.d.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==m.d.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this;if(!(/input|textarea/i.test(e.target.tagName)||m.d.tab===e.which&&"menuitem"!==e.target.getAttribute("role"))&&(e.preventDefault(),!this.props.disabled&&(this.getMenuCtrl()===e.target&&!this.props.isOpen&&[m.d.space,m.d.enter,m.d.up,m.d.down].indexOf(e.which)>-1&&(this.toggle(e),setTimeout(function(){return t.getMenuItems()[0].focus()})),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([m.d.tab,m.d.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([m.d.space,m.d.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([m.d.down,m.d.up].indexOf(e.which)>-1||[m.d.n,m.d.p].indexOf(e.which)>-1&&e.ctrlKey){var n=this.getMenuItems(),r=n.indexOf(e.target);m.d.up===e.which||m.d.p===e.which&&e.ctrlKey?r=0!==r?r-1:n.length-1:(m.d.down===e.which||m.d.n===e.which&&e.ctrlKey)&&(r=r===n.length-1?0:r+1),n[r].focus()}else if(m.d.end===e.which){var i=this.getMenuItems();i[i.length-1].focus()}else if(m.d.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var o=this.getMenuItems(),a=String.fromCharCode(e.which).toLowerCase(),s=0;s<o.length;s+=1){if((o[s].textContent&&o[s].textContent[0].toLowerCase())===a){o[s].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t,n=Object(m.f)(this.props,["toggle","disabled","inNavbar"]),o=n.className,a=n.cssModule,s=n.direction,c=n.isOpen,l=n.group,h=n.size,y=n.nav,g=n.setActiveFromChild,v=n.active,b=n.addonType,w=n.tag,E=Object(i.a)(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),S=w||(y?"li":"div"),_=!1;g&&u.a.Children.map(this.props.children[1].props.children,function(e){e&&e.props.active&&(_=!0)});var T=Object(m.e)(p()(o,"down"!==s&&"drop"+s,!(!y||!v)&&"active",!(!g||!_)&&"active",((e={})["input-group-"+b]=b,e["btn-group"]=l,e["btn-group-"+h]=!!h,e.dropdown=!l&&!b,e.show=c,e["nav-item"]=y,e)),a);return u.a.createElement(d.a.Provider,{value:this.getContextValue()},u.a.createElement(f.a,null,u.a.createElement(S,Object(r.a)({},E,((t={})["string"===typeof S?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:T}))))},t}(u.a.Component);g.propTypes=y,g.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1},t.a=g},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(14),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(26),d=n(20),m=n(2),y=n(63),g={caret:l.a.bool,color:l.a.string,children:l.a.node,className:l.a.string,cssModule:l.a.object,disabled:l.a.bool,onClick:l.a.func,"aria-haspopup":l.a.bool,split:l.a.bool,tag:m.h,nav:l.a.bool},v=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},n.render=function(){var e,t=this,n=this.props,o=n.className,a=n.color,s=n.cssModule,c=n.caret,l=n.split,f=n.nav,d=n.tag,g=Object(i.a)(n,["className","color","cssModule","caret","split","nav","tag"]),v=g["aria-label"]||"Toggle Dropdown",b=Object(m.e)(h()(o,{"dropdown-toggle":c||l,"dropdown-toggle-split":l,"nav-link":f}),s),w=g.children||u.a.createElement("span",{className:"sr-only"},v);return f&&!d?(e="a",g.href="#"):d?e=d:(e=y.a,g.color=a,g.cssModule=s),this.context.inNavbar?u.a.createElement(e,Object(r.a)({},g,{className:b,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:w})):u.a.createElement(p.c,null,function(n){var i,o=n.ref;return u.a.createElement(e,Object(r.a)({},g,((i={})["string"===typeof e?"ref":"innerRef"]=o,i),{className:b,onClick:t.onClick,"aria-expanded":t.context.isOpen,children:w}))})},t}(u.a.Component);v.propTypes=g,v.defaultProps={"aria-haspopup":!0,color:"secondary"},v.contextType=d.a,t.a=v},function(e,t,n){"use strict";var r=n(3),i=n(28),o=n(4),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(26),d=n(20),m=n(2),y={tag:m.h,children:l.a.node.isRequired,right:l.a.bool,flip:l.a.bool,modifiers:l.a.object,className:l.a.string,cssModule:l.a.object,persist:l.a.bool,positionFixed:l.a.bool},g={flip:{enabled:!1}},v={up:"top",left:"left",right:"right",down:"bottom"},b=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,a=t.cssModule,s=t.right,c=t.tag,l=t.flip,f=t.modifiers,d=t.persist,y=t.positionFixed,b=Object(o.a)(t,["className","cssModule","right","tag","flip","modifiers","persist","positionFixed"]),w=Object(m.e)(h()(n,"dropdown-menu",{"dropdown-menu-right":s,show:this.context.isOpen}),a),E=c;if(d||this.context.isOpen&&!this.context.inNavbar){var S=(v[this.context.direction]||"bottom")+"-"+(s?"end":"start"),_=l?f:Object(i.a)({},f,g),T=!!y;return u.a.createElement(p.b,{placement:S,modifiers:_,positionFixed:T},function(t){var n=t.ref,i=t.style,o=t.placement;return u.a.createElement(E,Object(r.a)({tabIndex:"-1",role:"menu",ref:n,style:i},b,{"aria-hidden":!e.context.isOpen,className:w,"x-placement":o}))})}return u.a.createElement(E,Object(r.a)({tabIndex:"-1",role:"menu"},b,{"aria-hidden":!this.context.isOpen,className:w,"x-placement":b.placement}))},t}(u.a.Component);b.propTypes=y,b.defaultProps={tag:"div",flip:!0},b.contextType=d.a,t.a=b},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(14),a=n(6),s=n(0),u=n.n(s),c=n(1),l=n.n(c),f=n(5),h=n.n(f),p=n(20),d=n(2),m={children:l.a.node,active:l.a.bool,disabled:l.a.bool,divider:l.a.bool,tag:d.h,header:l.a.bool,onClick:l.a.func,className:l.a.string,cssModule:l.a.object,toggle:l.a.bool},y=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(o.a)(n)),n.getTabIndex=n.getTabIndex.bind(Object(o.a)(n)),n}Object(a.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled||this.props.header||this.props.divider?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},n.getTabIndex=function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"},n.render=function(){var e=this.getTabIndex(),t=e>-1?"menuitem":void 0,n=Object(d.f)(this.props,["toggle"]),o=n.className,a=n.cssModule,s=n.divider,c=n.tag,l=n.header,f=n.active,p=Object(i.a)(n,["className","cssModule","divider","tag","header","active"]),m=Object(d.e)(h()(o,{disabled:p.disabled,"dropdown-item":!s&&!l,active:f,"dropdown-header":l,"dropdown-divider":s}),a);return"button"===c&&(l?c="h6":s?c="div":p.href&&(c="a")),u.a.createElement(c,Object(r.a)({type:"button"===c&&(p.onClick||this.props.toggle)?"button":void 0},p,{tabIndex:e,role:t,className:m,onClick:this.onClick}))},t}(u.a.Component);y.propTypes=m,y.defaultProps={tag:"button",toggle:!0},y.contextType=p.a,t.a=y}]]);
//# sourceMappingURL=2.0c63c0aa.chunk.js.map